(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[170,147],{2422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(53);var a=function(e){return i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0112 4a4 4 0 014 4.002V10a2 2 0 012 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 016 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0012 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e))};a.displayName="LockFilledIcon";var c=a;t.default=c},2487:function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var r=n(28),i=n.n(r),o=n(0),a=n.n(o),c=n(408),l=n(2485),s=n(2428),u=n(3221),d=n(881),f=n(802),b=n(2367),v=n(2542),p=n(2654),m=n(1),h=n.n(m),O=n(13),j=n(136),y=n(847),g=n.n(y),w=n(2417),k=n(2478),E=n(2429),x=n(2449),C=n(2451),S=n(2450),I=n(48),P=function(e){var t=e.url,n=e.testId,r=void 0===n?"block-card":n,i=e.className;return Object(O.d)("span",{"data-testid":"".concat(r,"-link"),className:i,css:{color:Object(I.a)("color.link",j.c),wordBreak:"break-all"}},t)},A=function(e){var t=e.icon,n=e.text;return Object(O.d)("span",{css:{display:"flex",alignItems:"center"}},t,n)},_=n(2430);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b.a.not_found_description),F=function(e){var t=e.context,n=void 0===t?{text:""}:t,r=e.isSelected,i=void 0!==r&&r,o=e.testId,a=void 0===o?"block-card-not-found-view":o,c=e.link,l=void 0===c?"":c,s=e.onClick,u=void 0===s?function(){}:s;return Object(O.d)(w.a,{isSelected:i,testId:a,className:"block-card-not-found-view",isFluidHeight:!0},Object(O.d)(x.a,{isCompact:!0},Object(O.d)("div",null,Object(O.d)(S.a,{onClick:function(e){return Object(_.a)(e,u)},link:l},Object(O.d)(P,{url:l,testId:a})),Object(O.d)(E.a,null,Object(O.d)(A,{icon:Object(O.d)(g.a,{label:"not-found-warning-icon",size:"small",primaryColor:Object(I.a)("color.icon.warning",j.F),testId:"".concat(a,"-warning-icon")}),text:Object(O.d)(f.a,D)}))),Object(O.d)(C.a,null,Object(O.d)(k.a,{name:n.text,icon:n.icon}))))},z=n(2625),B=n(2489);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b.a.connect_link_account_card_description),L=function(e){var t=e.context,n=void 0===t?{text:""}:t,r=e.isSelected,o=void 0!==r&&r,a=e.actions,c=void 0===a?[]:a,l=e.testId,s=void 0===l?"block-card-unauthorized-view":l,u=e.showActions,d=void 0===u||u,b=e.link,v=void 0===b?"":b,p=e.onClick,m=void 0===p?function(){}:p;return Object(O.d)(w.a,{isSelected:o,testId:s,isFluidHeight:!0},Object(O.d)(x.a,{isCompact:!0},Object(O.d)("div",null,Object(O.d)(S.a,{onClick:function(e){return Object(_.a)(e,m)},link:v},Object(O.d)(P,{url:v,testId:s})),Object(O.d)(E.a,{testId:s?"".concat(s,"-byline"):void 0,text:Object(O.d)(f.a,i()({},V,{values:{context:n.text}}))})),Object(O.d)(C.a,null,Object(O.d)(k.a,{name:n.text,icon:n.icon}),d&&Object(O.d)(B.a,{items:c}))))},N=n(24),H=n.n(N),T=n(2422),K=n.n(T),W=function(e){var t=e.context,n=void 0===t?{text:""}:t,r=e.isSelected,o=void 0!==r&&r,a=e.actions,c=void 0===a?[]:a,l=e.testId,s=void 0===l?"block-card-forbidden-view":l,u=e.showActions,d=void 0===u||u,v=e.link,p=void 0===v?"":v,m=e.onClick,h=void 0===m?function(){}:m,y=e.requestAccessContext,g=void 0===y?{}:y,R=g.action,D=g.descriptiveMessageKey,F=void 0===D?"invalid_permissions_description":D,z=R?[].concat(H()(c),[R]):c;return Object(O.d)(w.a,{isSelected:o,testId:s,className:"block-card-forbidden-view",isFluidHeight:!0},Object(O.d)(x.a,{isCompact:!0},Object(O.d)("div",null,Object(O.d)(S.a,{onClick:function(e){return Object(_.a)(e,h)},link:p},Object(O.d)(P,{url:p,testId:s,className:"block-card-forbidden-view-link"})),Object(O.d)(E.a,null,Object(O.d)(A,{icon:Object(O.d)(K.a,{label:"forbidden-lock-icon",size:"small",primaryColor:Object(I.a)("color.icon.danger",j.F),testId:"".concat(s,"-lock-icon")}),text:Object(O.d)(f.a,i()({},b.a[F],{values:{context:n.text}}))}))),Object(O.d)(C.a,null,Object(O.d)(k.a,{name:n.text,icon:n.icon}),d&&Object(O.d)(B.a,{items:z}))))},q=n(26),G=n.n(q),X=n(12),Y=n.n(X);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var U=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b.a.could_not_load_link),Q=function(e){var t=e.isSelected,n=void 0!==t&&t,r=e.testId,i=void 0===r?"block-card-errored-view":r,c=e.link,l=void 0===c?"":c,s=e.onClick,u=void 0===s?function(){}:s,d=e.onRetry,v=e.inheritDimensions,p=void 0!==v&&v,m=Object(o.useMemo)((function(){return d?[(e=d,{id:"try-again",promise:function(){var t=G()(Y.a.mark((function t(){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),text:a.a.createElement(f.a,b.a.try_again)})]:[];var e}),[d]);return Object(O.d)(w.a,{isSelected:n,testId:i,className:"block-card-errored-view",isFluidHeight:!0,inheritDimensions:p},Object(O.d)(x.a,{isCompact:!0},Object(O.d)("div",null,Object(O.d)(S.a,{onClick:function(e){return Object(_.a)(e,u)},link:l},Object(O.d)(P,{url:l,testId:i})),Object(O.d)(E.a,null,Object(O.d)(A,{icon:Object(O.d)(g.a,{label:"errored-warning-icon",size:"small",primaryColor:Object(I.a)("color.icon.warning",j.F),testId:"".concat(i,"-warning-icon")}),text:Object(O.d)(f.a,U)}))),Object(O.d)(C.a,null,Object(O.d)(B.a,{items:m}))))},Z=n(3210),$=function(e){var t,n,r,o=e.url,m=e.cardState,h=m.status,O=m.details,j=e.authFlow,y=e.handleAuthorize,g=e.handleErrorRetry,w=e.handleFrameClick,k=e.handleInvoke,E=e.renderers,x=e.isSelected,C=e.onResolve,S=e.onError,I=e.testId,P=e.showActions,A=e.platform,_=e.analytics,R={embedModalSize:Object(Z.a)("embedModalSize")},D=O&&O.data||Object(s.a)(),B=O&&O.meta,M={analytics:_,origin:"smartLinkCard",featureFlags:R,handleInvoke:k,extensionKey:Object(c.d)(O)};switch(h){case"pending":case"resolving":return a.a.createElement(z.a,{testId:I,isSelected:x});case"resolved":var V=Object(l.a)(D,B,M,E,A);return C&&C({title:V.title,url:o}),a.a.createElement(p.a,i()({},V,{isSelected:x,testId:I,showActions:P,onClick:w}));case"unauthorized":S&&S({url:o,status:h});var N=Object(l.a)(D,B,M);return a.a.createElement(L,i()({},N,{isSelected:x,testId:I,showActions:P,actions:y?[(r=y,{id:"connect-account",text:a.a.createElement(f.a,b.a.connect_link_account_card),promise:function(){return new Promise((function(e){return e(r())}))},buttonAppearance:"default"})]:[],onClick:w}));case"forbidden":S&&S({url:o,status:h});var H=Object(l.a)(D,B,M),T=null!==(t=null===O||void 0===O?void 0:O.meta)&&void 0!==t?t:Object(s.b)().meta,K=Object(u.a)({jsonLd:T,url:o,context:null===(n=H.context)||void 0===n?void 0:n.text});return a.a.createElement(W,i()({},H,{isSelected:x,showActions:P,actions:y?[Object(v.a)(y)]:[],onClick:w,requestAccessContext:K}));case"not_found":S&&S({url:o,status:h});var q=Object(l.a)(D,B,M);return a.a.createElement(F,i()({},q,{isSelected:x,testId:I,onClick:w}));case"fallback":case"errored":return S&&S({url:o,status:h}),j&&"disabled"===j?a.a.createElement(d.a,{link:o,isSelected:x,onClick:w,testId:"".concat(I,"-").concat(h)}):a.a.createElement(Q,{link:o,isSelected:x,onRetry:g,onClick:w,testId:I})}}},2625:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(13),i=n(873),o=n.n(i),a=n(136),c=n(231),l=n(48),s=n(2417),u=n(370),d=n(802),f=n(2367),b=function(e){var t=e.isSelected,n=void 0!==t&&t,i=e.testId,b=void 0===i?"block-card-resolving-view":i,v=e.inheritDimensions;return Object(r.d)(s.a,{inheritDimensions:v,compact:!0,isSelected:n,testId:b,className:"block-card-resolving-view"},Object(r.d)(o.a,{size:"small",primaryColor:Object(l.a)("color.icon.subtle",a.u),label:"document-icon"}),Object(r.d)("span",{css:{fontSize:"".concat(Object(c.f)(),"px"),color:Object(l.a)("color.text.subtlest",a.A),marginLeft:Object(u.b)(.5)}},Object(r.d)(d.a,f.a.loading)))}},2779:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){var e=/(auto|scroll)/,t=function e(t,n){return null===t.parentNode?n:e(t.parentNode,n.concat([t]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},r=function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")},i=function(t){return e.test(r(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),r=0;r<n.length;r+=1)if(i(n[r]))return n[r];return document.scrollingElement||document.documentElement}}})?r.apply(t,i):r)||(e.exports=o)},3311:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Vt}));var r=n(0),i=n.n(r),o=n(28),a=n.n(o),c=n(2779),l=n.n(c);function s(e){if(e){var t=e.getBoundingClientRect();return{left:window.pageXOffset+t.left,right:window.pageXOffset+t.left+t.width,top:window.pageYOffset+t.top,bottom:window.pageYOffset+t.top+t.height}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){if(e){if(e===window)return{top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth};var t=s(e);return t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},t,{bottom:t.top+e.offsetHeight,right:t.left+e.offsetWidth}):void 0}};function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var b=function(e,t,n){var r=n&&n.top||0,i=n&&n.right||0,o=n&&n.bottom||0,a=n&&n.left||0;return e.bottom+o>=t.top&&e.top-r<=t.bottom&&e.right+i>=t.left&&e.left-a<=t.right},v=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}()?{passive:!0}:void 0;function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?y(e):t}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(){var e,n;m(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return w(y(n=O(this,(e=j(t)).call.apply(e,[this].concat(i)))),"raf",void 0),w(y(n),"element",void 0),w(y(n),"container",void 0),w(y(n),"state",{hasBeenScrolledIntoView:!1}),w(y(n),"update",(function(){cancelAnimationFrame(n.raf),n.raf=requestAnimationFrame((function(){var e=n.getElementBounds(),t=n.getViewportBounds(),r=n.getOffsetBounds();e&&t&&b(e,t,r)&&(n.stopListening(n.container),n.setState({hasBeenScrolledIntoView:!0},(function(){var e=n.props.onRender;e&&e()})))}))})),w(y(n),"handleMount",(function(e){var t=n.props.scrollContainer;n.element=e,n.container=n.getContainer(t)})),n}var n,i,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(i=[{key:"getContainer",value:function(e){if(e)return e;if(this.element){var t=l()(this.element);return t===document.scrollingElement||t===document.documentElement||"BackCompat"!==document.compatMode&&t==document.body?window:t}}},{key:"getViewportBounds",value:function(){return d(this.container)}},{key:"getElementBounds",value:function(){return s(this.element)}},{key:"getOffsetBounds",value:function(){return function(e){var t,n,r,i;if(e)return"object"===f(e)?(t=e.top||0,n=e.right||0,r=e.bottom||0,i=e.left||0):(t=e||0,n=e||0,r=e||0,i=e||0),{top:t,right:n,bottom:r,left:i}}(this.props.offset)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=e.scrollContainer,i=this.props.scrollContainer;r!==i&&(t.hasBeenScrolledIntoView||this.stopListening(r),this.container=this.getContainer(i),this.startListening(this.container),this.setState({hasBeenScrolledIntoView:!1},(function(){n.update()})))}},{key:"startListening",value:function(e){e&&e.addEventListener("scroll",this.update,v),window.addEventListener("resize",this.update)}},{key:"stopListening",value:function(e){e&&e.removeEventListener("scroll",this.update,v),window.removeEventListener("resize",this.update)}},{key:"componentDidMount",value:function(){this.update(),this.startListening(this.container)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.container)}},{key:"renderChildren",value:function(){var e=this.props,t=e.placeholder,n=e.content,r=e.children,i=this.state.hasBeenScrolledIntoView;return!i&&t?t:i&&n?n:r?r(i):null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.component;return r.createElement(n||"div",{ref:this.handleMount,className:t,children:this.renderChildren()})}}])&&h(n.prototype,i),o&&h(n,o),t}(r.Component),E=n(3210),x=n(834),C=n(353),S=n(408),I=n(23),P=n.n(I),A=n(2537),_=n(2562),R=n(1960),D=n(2334),F=n(2615);function z(e,t,n){var i=Object(A.a)(t),o=Object(D.a)(t,n,e),a=Object(_.a)(e,t,o),c=function(){var e=Object(R.b)();if(e)return e.config}(),l=Object(F.a)(),s=Object(r.useState)(null),u=P()(s,2),d=u[0],f=u[1];return Object(r.useEffect)((function(){a.register().catch((function(e){return f(e)}))}),[t]),{state:i,actions:a,config:c,analytics:o,renderers:l,error:d}}var B,M,V,L,N=n(2487),H=n(2428),T=n(2535),K=n(3221),W=n(881),q=n(9),G=n.n(q),X=n(10),Y=n.n(X),J=n(5),U=n.n(J),Q=n(15),Z=n.n(Q),$=n(18),ee=n.n($),te=n(7),ne=n.n(te),re=n(1),ie=n.n(re),oe=n(136),ae=n(48),ce=n(539),le=n.n(ce),se=n(3326),ue=n(843),de=n(2446),fe=n(2476),be=n(2367),ve=n(802),pe=n(8),me=n.n(pe),he=n(69),Oe=n(154),je="#4794FF",ye=he.a.span(B||(B=me()(["\n  text-align: initial !important;\n  display: inline !important;\n\n  &:hover {\n    /* Remove the text-decoration to match other inline card hover states */\n    text-decoration: none !important;\n  }\n\n  > span {\n    display: inline;\n    > span {\n      overflow: initial;\n      text-overflow: initial;\n      white-space: initial;\n    }\n  }\n"]))),ge=he.a.span(M||(M=me()(["\n  color: ",";\n"])),Object(Oe.a)({light:Object(ae.a)("color.text.subtlest",oe.n),dark:Object(ae.a)("color.text.subtlest",je)})),we=he.a.span(V||(V=me()(["\n  text-transform: lowercase;\n"]))),ke=he.a.span(L||(L=me()(["\n  color: ",";\n"])),Object(Oe.a)({light:Object(ae.a)("color.link",oe.c),dark:Object(ae.a)("color.link",je)}));function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne()(e);if(t){var i=ne()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee()(this,n)}}var xe=function(e){Z()(n,e);var t=Ee(n);function n(){var e;G()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),ie()(U()(e),"handleRetry",(function(t){var n=e.props.onRetry;n&&(t.preventDefault(),t.stopPropagation(),n())})),ie()(U()(e),"renderMessage",(function(){var t=e.props,n=t.onRetry,r=t.url,o=t.message,a=i.a.createElement(ke,null,r),c=i.a.createElement(ge,null,o);return n?i.a.createElement(i.a.Fragment,null,a," - ",c,",\xa0",i.a.createElement(se.a,{spacing:"none",appearance:"subtle-link",component:ye,onClick:e.handleRetry},i.a.createElement(ve.a,be.a.try_again,(function(e){return i.a.createElement(we,null,e)})))):i.a.createElement(i.a.Fragment,null,a," - ",c)})),e}return Y()(n,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.onClick,r=e.isSelected,o=e.testId,a=void 0===o?"inline-card-errored-view":o,c=e.icon;return i.a.createElement(ue.a,{testId:a,link:t,onClick:n,isSelected:r},i.a.createElement(de.a,{icon:c||i.a.createElement(fe.a,null,i.a.createElement(le.a,{label:"error",size:"small",primaryColor:Object(ae.a)("color.icon.danger",oe.F)})),title:this.renderMessage()}))}}]),n}(i.a.Component),Ce=n(2422),Se=n.n(Ce);function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne()(e);if(t){var i=ne()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee()(this,n)}}var Pe,Ae=i.a.createElement(fe.a,null,i.a.createElement(Se.a,{label:"error",size:"small",primaryColor:Object(ae.a)("color.icon.danger",oe.G)})),_e=function(e){Z()(n,e);var t=Ie(n);function n(){var e;G()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),ie()(U()(e),"handleRetry",(function(t){var n,r,i,o=e.props.onAuthorise;(t.preventDefault(),t.stopPropagation(),o)?o():null===(n=e.props)||void 0===n||null===(r=n.requestAccessContext)||void 0===r||null===(i=r.action)||void 0===i||i.promise()})),ie()(U()(e),"renderForbiddenAccessMessage",(function(){var t,n;if(null!==(t=e.props)&&void 0!==t&&null!==(n=t.requestAccessContext)&&void 0!==n&&n.callToActionMessageKey){var r=e.props.requestAccessContext.callToActionMessageKey;return i.a.createElement(ve.a,a()({},be.a[r],{values:{context:e.props.context}}))}return i.a.createElement(i.a.Fragment,null,i.a.createElement(ve.a,be.a.invalid_permissions,(function(e){return i.a.createElement(i.a.Fragment,null,e,", ")})),i.a.createElement(ve.a,be.a.try_another_account,(function(e){return i.a.createElement(we,null,e)})))})),ie()(U()(e),"renderMessage",(function(){var t,n,r=e.props,o=r.url,a=r.onAuthorise,c=i.a.createElement(ke,null,o),l=null===(t=e.props)||void 0===t||null===(n=t.requestAccessContext)||void 0===n?void 0:n.callToActionMessageKey;return a||l?i.a.createElement(i.a.Fragment,null,c," - ",i.a.createElement(se.a,{spacing:"none",appearance:"subtle-link",onClick:e.handleRetry,component:ye,testId:"button-connect-other-account"},e.renderForbiddenAccessMessage())):c})),e}return Y()(n,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.icon,r=e.onClick,o=e.isSelected,a=e.testId,c=void 0===a?"inline-card-forbidden-view":a;return i.a.createElement(ue.a,{testId:c,link:t,onClick:r,isSelected:o},i.a.createElement(de.a,{icon:n||Ae,title:this.renderMessage(),titleColor:Object(ae.a)("color.text.subtle",oe.v)}))}}]),n}(i.a.Component),Re=n(2486),De=n(1270),Fe=n(842),ze=Object(he.a)(Fe.d)(Pe||(Pe=me()(["\n  vertical-align: text-top;\n  margin-left: 2px;\n"])));function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne()(e);if(t){var i=ne()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee()(this,n)}}var Me=function(e){Z()(n,e);var t=Be(n);function n(){return G()(this,n),t.apply(this,arguments)}return Y()(n,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.onClick,r=e.isSelected,o=e.inlinePreloaderStyle,a=e.testId,c=void 0===a?"inline-card-resolving-view":a,l=e.titleTextColor,s=e.withoutHover;return"on-right-without-skeleton"===o?i.a.createElement(ue.a,{withoutBackground:!0,withoutHover:s,testId:c,onClick:n,isSelected:r},i.a.createElement(Fe.d,null,t,i.a.createElement(Fe.h,null,i.a.createElement(ze,{className:"inline-resolving-spinner"},i.a.createElement(De.a,{size:14}))))):i.a.createElement(ue.a,{testId:c,onClick:n,isSelected:r,withoutHover:s},i.a.createElement(de.a,{title:t,titleTextColor:l},i.a.createElement(ze,{className:"inline-resolving-spinner"},i.a.createElement(De.a,{size:14}))))}}]),n}(i.a.Component);function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne()(e);if(t){var i=ne()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ee()(this,n)}}var Le=i.a.createElement(fe.a,null,i.a.createElement(Se.a,{label:"error",size:"small",primaryColor:Object(ae.a)("color.icon.danger",oe.G)})),Ne=function(e){Z()(n,e);var t=Ve(n);function n(){var e;G()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),ie()(U()(e),"handleConnectAccount",(function(t){var n=e.props.onAuthorise;return t.preventDefault(),t.stopPropagation(),n()})),ie()(U()(e),"renderMessage",(function(){var t=e.props,n=t.onAuthorise,r=t.url,o=i.a.createElement(ke,null,r);return n?i.a.createElement(i.a.Fragment,null,o," - ",i.a.createElement(se.a,{spacing:"none",appearance:"subtle-link",component:ye,onClick:e.handleConnectAccount,testId:"button-connect-account"},i.a.createElement(ve.a,be.a.connect_link_account))):o})),e}return Y()(n,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.icon,r=e.onClick,o=e.isSelected,a=e.testId,c=void 0===a?"inline-card-unauthorized-view":a;return i.a.createElement(ue.a,{testId:c,link:t,onClick:r,isSelected:o},i.a.createElement(de.a,{icon:n||Le,title:this.renderMessage(),titleColor:Object(ae.a)("color.text.subtle",oe.v)}))}}]),n}(i.a.Component),He=n(3319),Te=function(e){var t,n=e.id,r=e.url,o=e.cardState,c=e.handleAuthorize,l=e.handleFrameClick,s=e.isSelected,u=e.renderers,d=e.onResolve,f=e.onError,b=e.testId,v=e.inlinePreloaderStyle,p=e.showHoverPreview,m=o.status,h=o.details,O=h&&h.data||Object(H.a)(),j=b?"".concat(b,"-").concat(m,"-view"):void 0;switch(m){case"pending":case"resolving":return i.a.createElement(Me,{url:r,isSelected:s,onClick:l,testId:j,inlinePreloaderStyle:v});case"resolved":var y=Object(T.a)(O,u);return d&&d({url:r,title:y.title}),i.a.createElement(Re.a,a()({},y,{id:n,showHoverPreview:p,link:r,isSelected:s,onClick:l,testId:j}));case"unauthorized":f&&f({url:r,status:m});var g=Object(He.a)(O);return i.a.createElement(Ne,{icon:g&&g.icon,url:r,isSelected:s,onClick:l,onAuthorise:c,testId:j});case"forbidden":f&&f({url:r,status:m});var w=Object(He.a)(O),k=null!==(t=null===h||void 0===h?void 0:h.meta)&&void 0!==t?t:Object(H.b)().meta,E=Object(K.a)({jsonLd:k,url:r,context:null===w||void 0===w?void 0:w.text});return i.a.createElement(_e,{url:r,icon:w&&w.icon,context:null===w||void 0===w?void 0:w.text,isSelected:s,onClick:l,onAuthorise:c,testId:j,requestAccessContext:E});case"not_found":f&&f({url:r,status:m});var x=Object(He.a)(O);return i.a.createElement(xe,{url:r,icon:x&&x.icon,isSelected:s,message:"Can't find link",onClick:l,testId:j||"inline-card-not-found-view"});case"fallback":case"errored":return f&&f({url:r,status:m}),i.a.createElement(W.a,{link:r,isSelected:s,onClick:l,testId:j||"inline-card-errored-view"})}},Ke=n(3340),We=n(3206),qe=n(3339),Ge=n(2617);function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){ie()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=function(e,t){var n=Object(Ke.a)(e,t);if(n&&n.src)return Ye(Ye({},n),{},{src:n.src})},Ue=function(e,t,n){return{link:Object(We.a)(e)||"",title:Object(qe.a)(e),context:Object(He.a)(e),preview:Je(e,n),isTrusted:Object(Ge.a)(t)}},Qe=n(2485),Ze=n(2625),$e=n(2654),et=n(13),tt=n(231),nt=n(370),rt=function(e){var t=e.image,n=e.title,r=e.description,i=e.button,o=e.context,c=e.onClick,l=e.testId;return Object(et.d)("div",{css:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingTop:Object(nt.b)(4.5),paddingBottom:Object(nt.b)(6)},"data-testid":"".concat(l,"-unresolved-container")},Object(et.d)("img",{src:t,css:{height:Object(nt.b)(14),marginBottom:Object(nt.b)(4)}}),Object(et.d)("span",{css:{fontSize:Object(nt.b)(2.5),marginBottom:Object(nt.b)(1.5),width:Object(nt.b)(50),textAlign:"center"}},Object(et.d)(ve.a,a()({},be.a[n],{values:{context:o}}))),Object(et.d)("span",{css:{fontSize:Object(tt.f)(),marginBottom:Object(nt.b)(2.5),textAlign:"center",width:Object(nt.b)(50),lineHeight:Object(nt.b)(3)}},Object(et.d)(ve.a,a()({},be.a[r],{values:{context:o}}))),i&&Object(et.d)(se.a,{testId:"button-".concat(i.testId||l),appearance:i.appearance,onClick:c},Object(et.d)(ve.a,a()({},be.a[i.text],{values:{context:o}}))))},it="https://smart-links-cdn.us-east-1.prod.public.atl-paas.net",ot="".concat(it,"/lock.svg"),at="".concat(it,"/celebration.svg"),ct="".concat(it,"/not_found.svg"),lt=n(882),st=n(2430),ut=function(e){var t=e.isPlaceholder,n=void 0!==t&&t,r=e.children,o=e.onClick,a=e.icon,c=e.text,l=e.isSelected,s=e.isFrameVisible,u=e.isVisible,d=e.href,f=e.minWidth,b=e.maxWidth,v=e.testId,p=void 0===v?"expanded-frame":v,m=e.inheritDimensions,h=function(){return!n&&(Boolean(d)||Boolean(o))},O=function(e){return Object(st.a)(e,o)},j=function(){return i.a.createElement(lt.b,{className:"embed-header"},i.a.createElement(lt.c,{isPlaceholder:n},!n&&a),i.a.createElement(lt.f,{isPlaceholder:n},!n&&i.a.createElement("a",{href:d,onClick:O},c)))},y=function(){return i.a.createElement(lt.a,{isInteractive:h()},r)};return!n&&d?i.a.createElement(lt.e,{className:lt.h,isInteractive:h(),isSelected:l,isFrameVisible:s,minWidth:f,maxWidth:b,isVisible:u,"data-testid":p,"data-trello-do-not-use-override":p,"data-is-selected":l,"data-is-frame-visible":s,inheritDimensions:m},j(),y()):i.a.createElement(lt.g,{className:lt.h,isInteractive:h(),isSelected:l,minWidth:f,maxWidth:b,isVisible:u,"data-testid":p,"data-trello-do-not-use-override":p,"data-is-selected":l,"data-is-visible":u},j(),y())},dt=n(854),ft=n.n(dt),bt=function(e){var t=e.alt,n=void 0===t?"":t,r=e.src,o=e.size,a=void 0===o?16:o,c=e.title,l=e.default;return r?i.a.createElement(ft.a,{src:r,loading:l,loaded:i.a.createElement(lt.d,{className:"smart-link-icon",src:r,alt:n,size:a,title:c}),errored:l}):l||null},vt=function(e){var t,n=e.link,r=e.context,o=e.isSelected,a=e.testId,c=void 0===a?"embed-card-forbidden-view":a,l=e.onAuthorise,s=e.inheritDimensions,u=e.onClick,d=e.requestAccessContext,f=void 0===d?{}:d,b=r&&r.icon&&i.a.createElement(bt,{src:"string"===typeof r.icon?r.icon:void 0}),v=f.descriptiveMessageKey,p=f.callToActionMessageKey,m=f.action,h=null!==(t=null===m||void 0===m?void 0:m.promise)&&void 0!==t?t:l,O=!0;!p&&v&&(O=!1);var j,y=null!==v&&void 0!==v?v:"invalid_permissions_description";return O&&(j={appearance:"default",text:null!==p&&void 0!==p?p:"try_another_account",testId:(null===m||void 0===m?void 0:m.id)||"connect-other-account"}),i.a.createElement(ut,{href:n,icon:b,text:r&&r.text,isVisible:!0,isSelected:o,inheritDimensions:s,onClick:u,testId:c},i.a.createElement(rt,{image:ot,title:"invalid_permissions",description:y,context:r&&r.text,button:j,onClick:h,testId:c}))},pt=function(e){var t=e.link,n=e.context,r=e.isSelected,o=e.inheritDimensions,a=e.testId,c=void 0===a?"embed-card-not-found-view":a,l=e.onClick,s=n&&n.icon&&i.a.createElement(bt,{src:"string"===typeof n.icon?n.icon:void 0});return i.a.createElement(ut,{href:t,icon:s,text:n&&n.text,isVisible:!0,isSelected:r,inheritDimensions:o,onClick:l,testId:c},i.a.createElement(rt,{image:ct,title:"not_found_title",description:"not_found_description",context:n&&n.text,testId:c}))},mt=n(542),ht=n.n(mt),Ot=i.a.forwardRef((function(e,t){var n=e.url,i=e.isTrusted,o=void 0!==i&&i,a=e.testId,c=Object(r.useState)(!1),l=P()(c,2),s=l[0],u=l[1];return n?Object(et.d)("iframe",{ref:t,src:n,"data-testid":"".concat(a,"-frame"),"data-iframe-loaded":s,css:{border:0,top:0,left:0,width:"100%",height:"100%",position:"relative",overflow:"hidden",borderRadius:"3px"},allowFullScreen:!0,scrolling:"yes",allow:"autoplay; encrypted-media; clipboard-write",onLoad:function(){return u(!0)},sandbox:Object(x.b)(o)}):null})),jt=i.a.forwardRef((function(e,t){var n=e.link,r=e.context,o=e.onClick,a=e.isSelected,c=e.isFrameVisible,l=e.preview,s=e.title,u=e.isTrusted,d=e.testId,f=void 0===d?"embed-card-resolved-view":d,b=e.inheritDimensions,v=null===r||void 0===r?void 0:r.icon,p="string"===typeof v?v:void 0,m=s||(null===r||void 0===r?void 0:r.text),h=i.a.useMemo((function(){return Object(et.d)(ht.a,{label:"icon",size:"small",testId:"embed-card-fallback-icon"})}),[]),O=i.a.useMemo((function(){return i.a.isValidElement(v)?v:Object(et.d)(bt,{src:p,default:h})}),[p,h,v]);return Object(et.d)(ut,{isSelected:a,isFrameVisible:c,href:n,testId:f,icon:O,text:m,onClick:o,inheritDimensions:b},Object(et.d)(Ot,{url:null===l||void 0===l?void 0:l.src,isTrusted:u,testId:f,ref:t}))})),yt=function(e){var t=e.link,n=e.context,r=e.isSelected,o=e.testId,a=void 0===o?"embed-card-unauthorized-view":o,c=e.onAuthorise,l=e.inheritDimensions,s=e.onClick,u=n&&n.icon&&i.a.createElement(bt,{src:"string"===typeof n.icon?n.icon:void 0});return i.a.createElement(ut,{href:t,icon:u,text:n&&n.text,isVisible:!0,isSelected:r,inheritDimensions:l,onClick:s,testId:a},i.a.createElement(rt,{image:at,title:"connect_link_account_card_name",description:"connect_link_account_card_description",context:n&&n.text,button:{appearance:"primary",text:"connect_link_account_card",testId:"connect-account"},onClick:c,testId:a}))},gt=n(2417),wt=function(e){var t=e.onRetry,n=e.isSelected,r=void 0!==n&&n,i=e.testId,o=void 0===i?"embed-card-errored-view":i,a=e.inheritDimensions;return Object(et.d)(gt.a,{inheritDimensions:a,compact:!0,isSelected:r,testId:o},Object(et.d)(le.a,{size:"small",primaryColor:Object(ae.a)("color.icon.danger",oe.F),label:"error-icon"}),Object(et.d)("span",{css:{fontSize:"".concat(Object(tt.f)(),"px"),marginLeft:Object(nt.b)(.5),marginRight:Object(nt.b)(.5),display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",maxHeight:Object(nt.b)(3)}},Object(et.d)(ve.a,be.a.could_not_load_link)),Object(et.d)(se.a,{testId:"err-view-retry",appearance:"link",spacing:"none",onClick:t},Object(et.d)(ve.a,be.a.try_again)))},kt=i.a.forwardRef((function(e,t){var n,r,o=e.url,c=e.cardState,l=c.status,s=c.details,u=e.handleAuthorize,d=e.handleErrorRetry,f=e.handleFrameClick,b=e.analytics,v=e.handleInvoke,p=e.showActions,m=e.isSelected,h=e.isFrameVisible,O=e.platform,j=e.onResolve,y=e.onError,g=e.testId,w=e.inheritDimensions,k=s&&s.data||Object(H.a)(),E=s&&s.meta;switch(l){case"pending":case"resolving":return i.a.createElement(Ze.a,{testId:"embed-card-resolving-view",inheritDimensions:w,isSelected:m});case"resolved":var x,C=Ue(k,E,O);if(j)j({title:C.title,url:o,aspectRatio:null===(x=C.preview)||void 0===x?void 0:x.aspectRatio});if(C.preview)return i.a.createElement(jt,a()({},C,{isSelected:m,isFrameVisible:h,inheritDimensions:w,onClick:f,ref:t}));if("mobile"===O){var I=Object(T.a)(k);return i.a.createElement(Re.a,a()({},I,{isSelected:m,testId:g,onClick:f}))}var P=Object(Qe.a)(k,E,{analytics:b,origin:"smartLinkEmbed",handleInvoke:v,extensionKey:Object(S.d)(s)});return i.a.createElement($e.a,a()({},P,{isSelected:m,testId:g,showActions:p,onClick:f}));case"unauthorized":y&&y({url:o,status:l});var A=Ue(k,E,O);return i.a.createElement(yt,a()({},A,{isSelected:m,onAuthorise:u,inheritDimensions:w,onClick:f}));case"forbidden":y&&y({url:o,status:l});var _=Ue(k,E,O),R=null!==(n=null===s||void 0===s?void 0:s.meta)&&void 0!==n?n:Object(H.b)().meta,D=Object(K.a)({jsonLd:R,url:o,context:null===(r=_.context)||void 0===r?void 0:r.text});return i.a.createElement(vt,a()({},_,{isSelected:m,onAuthorise:u,inheritDimensions:w,onClick:f,requestAccessContext:D}));case"not_found":y&&y({url:o,status:l});var F=Ue(k,E,O);return i.a.createElement(pt,a()({},F,{isSelected:m,inheritDimensions:w,onClick:f}));case"fallback":case"errored":return y&&y({url:o,status:l}),i.a.createElement(wt,{onRetry:d,inheritDimensions:w,isSelected:m})}})),Et=n(2540),xt=n(2561),Ct=n(3209);function St(e){var t=e.id,n=e.url,o=e.isSelected,a=e.isFrameVisible,c=e.platform,l=e.onClick,s=e.appearance,u=e.dispatchAnalytics,d=e.onResolve,f=e.onError,b=e.testId,v=e.showActions,p=e.inheritDimensions,m=e.embedIframeRef,h=e.inlinePreloaderStyle,O=e.ui,j=e.children,y=e.showHoverPreview,g=e.analyticsEvents,w=z(t,n,u),k=w.state,I=w.actions,P=w.analytics,A=w.config,_=w.renderers,R=w.error,D=g||P,F=Object(S.c)(k.details),B=Object(S.d)(k.details),M=Object(S.f)(k.details),V=Object(S.e)(k.details),L=Object(S.i)(k.details),H=Object(S.g)(k.details),T=Object(r.useMemo)((function(){return Object(Et.b)(j)}),[j]),K=Object(E.a)("showHoverPreview");void 0===y&&void 0!==K&&(y=Boolean(K));var W=Object(r.useCallback)((function(e){var t=Object(S.b)(n,k.details);Object(x.f)(e)?window.open(t,"_blank"):window.open(t,"_self")}),[k.details,n]),q=Object(r.useCallback)((function(e){var n=Object(x.f)(e);D.ui.cardClickedEvent({id:t,display:T?"flexible":s,status:k.status,definitionId:F,extensionKey:B,isModifierKeyPressed:n,destinationProduct:V,destinationSubproduct:L}),l?l(e):T||W(e)}),[t,k.status,D.ui,s,F,B,l,W,T,V,L]),G=Object(r.useCallback)((function(){return I.authorize(s)}),[I,s]),X=Object(r.useCallback)((function(){I.reload()}),[I]),Y=Object(r.useCallback)((function(e){return I.invoke(e,s)}),[I,s]);if(Object(r.useEffect)((function(){C.e(t,k.status),"pending"!==k.status&&(C.c(t,k.status),D.operational.instrument({id:t,status:k.status,definitionId:F,extensionKey:B,resourceType:M,error:k.error}))}),[t,s,k.status,k.error,F,B,M,D.operational]),Object(r.useEffect)((function(){Object(S.j)(k.status)&&D.ui.renderSuccessEvent({display:s,status:k.status,id:t,definitionId:F,extensionKey:B})}),[s,k.status,n,F,B,D.ui,t]),T){var J=k;if(R){if((null===R||void 0===R?void 0:R.constructor)!==Ct.a)throw R;J={status:"errored"}}return i.a.createElement(xt.a,{id:t,cardState:J,onAuthorize:H.length&&G||void 0,onClick:q,renderers:_,ui:O,url:n,testId:b,onResolve:d,onError:f},j)}if(R)throw R;switch(s){case"inline":return i.a.createElement(Te,{id:t,url:n,renderers:_,cardState:k,handleAuthorize:H.length&&G||void 0,handleFrameClick:q,isSelected:o,onResolve:d,onError:f,testId:b,inlinePreloaderStyle:h,showHoverPreview:y});case"block":return i.a.createElement(N.a,{id:t,url:n,renderers:_,authFlow:A&&A.authFlow,cardState:k,handleAuthorize:H.length&&G||void 0,handleErrorRetry:X,handleInvoke:Y,handleFrameClick:q,analytics:D,isSelected:o,onResolve:d,onError:f,testId:b,showActions:v,platform:c});case"embed":return i.a.createElement(kt,{id:t,url:n,cardState:k,handleAuthorize:H.length&&G||void 0,handleErrorRetry:X,handleFrameClick:q,handleInvoke:Y,analytics:D,isSelected:o,isFrameVisible:a,platform:c,onResolve:d,onError:f,testId:b,inheritDimensions:p,showActions:v,ref:m})}}var It=n(880),Pt=n(279);function At(e){var t=e.appearance,n=e.container,o=e.showActions,c=e.id,l=Math.ceil(window.innerHeight/4);return Object(r.useState)((function(){Object(Pt.c)("smart-link-rendered",c)})),i.a.createElement(k,{offset:l,component:"inline"===t?"span":"div",className:"loader-wrapper",placeholder:i.a.createElement(It.a,e),scrollContainer:n,content:i.a.createElement(St,a()({},e,{showActions:o}))})}var _t=n(26),Rt=n.n(_t),Dt=n(12),Ft=n.n(Dt),zt=n(3208);var Bt="360px";function Mt(e){var t=Object(r.useState)(!1),n=P()(t,2),o=n[0],c=n[1],l=e.showActions,s=e.appearance,u=e.url,d=e.id,f=function(e){var t=Object(R.b)(),n=t.store,i=t.prefetchStore,o=t.connections,a=n.dispatch,c=n.getState,l=o.client;return Object(r.useCallback)(Rt()(Ft.a.mark((function t(){var n,r,o;return Ft.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i[e],r=c()[e],n||r){t.next=14;break}return i[e]=!0,t.prev=5,t.next=8,l.prefetchData(e);case 8:(o=t.sent)&&(a({type:"resolved",url:e,payload:o}),a(Object(zt.g)(zt.f,{url:e},void 0,void 0,"resolved"))),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(5);case 14:case"end":return t.stop()}}),t,null,[[5,12]])}))),[i,e,c,l,a])}(u),b="inline"===s?"span":"div",v=b,p=Object(r.useCallback)((function(e,t){e.some((function(e){return e.isIntersecting}))?(Object(Pt.c)("smart-link-rendered",d),c(!0),t.disconnect()):f()}),[f,d]),m=Object(r.useCallback)((function(e){if(e){var t=new IntersectionObserver(p,{rootMargin:"".concat(Bt," 0px ").concat(Bt," 0px")});return t.observe(e),function(){return t.disconnect()}}}),[p]),h=o?i.a.createElement(St,a()({},e,{showActions:l})):i.a.createElement(v,{ref:m},i.a.createElement(It.a,e));return i.a.createElement(b,{className:"loader-wrapper"},h)}function Vt(e){return Object(x.e)()?i.a.createElement(Mt,e):i.a.createElement(At,e)}}}]);