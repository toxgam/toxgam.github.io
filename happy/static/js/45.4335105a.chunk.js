(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[45],{2658:function(e,t,n){"use strict";var r=n(434),o=n(435);Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_VisibleCellRange=t.bpfrpt_proptype_Alignment=t.bpfrpt_proptype_OverscanIndicesGetter=t.bpfrpt_proptype_OverscanIndices=t.bpfrpt_proptype_OverscanIndicesGetterParams=t.bpfrpt_proptype_RenderedSection=t.bpfrpt_proptype_ScrollbarPresenceChange=t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_NoContentRenderer=t.bpfrpt_proptype_CellSize=t.bpfrpt_proptype_CellSizeGetter=t.bpfrpt_proptype_CellRangeRenderer=t.bpfrpt_proptype_CellRangeRendererParams=t.bpfrpt_proptype_StyleCache=t.bpfrpt_proptype_CellCache=t.bpfrpt_proptype_CellRenderer=t.bpfrpt_proptype_CellRendererParams=t.bpfrpt_proptype_CellPosition=void 0;o(n(0)),r(n(2747)),r(n(25));t.bpfrpt_proptype_CellPosition=null;t.bpfrpt_proptype_CellRendererParams=null;t.bpfrpt_proptype_CellRenderer=null;t.bpfrpt_proptype_CellCache=null;t.bpfrpt_proptype_StyleCache=null;t.bpfrpt_proptype_CellRangeRendererParams=null;t.bpfrpt_proptype_CellRangeRenderer=null;t.bpfrpt_proptype_CellSizeGetter=null;t.bpfrpt_proptype_CellSize=null;t.bpfrpt_proptype_NoContentRenderer=null;t.bpfrpt_proptype_Scroll=null;t.bpfrpt_proptype_ScrollbarPresenceChange=null;t.bpfrpt_proptype_RenderedSection=null;t.bpfrpt_proptype_OverscanIndicesGetterParams=null;t.bpfrpt_proptype_OverscanIndices=null;t.bpfrpt_proptype_OverscanIndicesGetter=null;t.bpfrpt_proptype_Alignment=null;t.bpfrpt_proptype_VisibleCellRange=null},2666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2667);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},2667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(60);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,i.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component);t.default=c},2722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.436 15.085l3.94 4.01a1 1 0 01-1.425 1.402l-3.938-4.006a7.5 7.5 0 111.423-1.406zM10.5 16a5.5 5.5 0 100-11 5.5 5.5 0 000 11z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="SearchIcon";var l=a;t.default=l},2723:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,l=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?l="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==l){var c=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==l?"\n  "+l:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},2724:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),l=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&l&&r(o)}}},2745:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3199);Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}});var o=n(3200);Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return o.ExactWordIndexStrategy}});var i=n(3201);Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return i.PrefixIndexStrategy}})},2746:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3202);Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return r.CaseSensitiveSanitizer}});var o=n(3203);Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}})},2747:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(48)),i=r(n(8)),a=r(n(9)),l=r(n(1)),c=r(n(3227)),s=n(3228),u=(n(2658),function(){function e(t){var n=t.maxScrollSize,r=void 0===n?(0,s.getMaxElementSize)():n,a=(0,o.default)(t,["maxScrollSize"]);(0,i.default)(this,e),(0,l.default)(this,"_cellSizeAndPositionManager",void 0),(0,l.default)(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new c.default(a),this._maxScrollSize=r}return(0,a.default)(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}());t.default=u},2767:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r,o=!("undefined"===typeof window||!window.document||!window.document.createElement);function i(e){if((!r&&0!==r||e)&&o){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}},2810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3204);Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return r.TfIdfSearchIndex}});var o=n(3205);Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}})},2811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}},2812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3206);Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return r.SimpleTokenizer}});var o=n(3207);Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return o.StemmingTokenizer}});var i=n(3208);Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return i.StopWordsTokenizer}})},2813:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};r.constructor=!1,r.hasOwnProperty=!1,r.isPrototypeOf=!1,r.propertyIsEnumerable=!1,r.toLocaleString=!1,r.toString=!1,r.valueOf=!1},2814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0;n(2658);t.SCROLL_DIRECTION_BACKWARD=-1;t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal";t.SCROLL_DIRECTION_VERTICAL="vertical"},2815:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,c=e.isScrolling,s=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,f=e.rowStartIndex,p=e.rowStopIndex,h=e.styleCache,m=e.verticalOffsetAdjustment,v=e.visibleColumnIndices,g=e.visibleRowIndices,y=[],S=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),b=!c&&!S,C=f;C<=p;C++)for(var _=d.getSizeAndPositionOfCell(C),w=o;w<=i;w++){var O=r.getSizeAndPositionOfCell(w),j=w>=v.start&&w<=v.stop&&C>=g.start&&C<=g.stop,k="".concat(C,"-").concat(w),I=void 0;b&&h[k]?I=h[k]:a&&!a.has(C,w)?I={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(I={height:_.size,left:O.offset+l,position:"absolute",top:_.offset+m,width:O.size},h[k]=I);var T={columnIndex:w,isScrolling:c,isVisible:j,key:k,parent:u,rowIndex:C,style:I},R=void 0;!s&&!c||l||m?R=n(T):(t[k]||(t[k]=n(T)),R=t[k]),null!=R&&!1!==R&&y.push(R)}return y};n(2658)},2816:function(e,t,n){"use strict";var r=n(434),o=n(435);Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_Scroll=t.bpfrpt_proptype_RenderedRows=t.bpfrpt_proptype_RowRenderer=t.bpfrpt_proptype_RowRendererParams=void 0;o(n(0)),r(n(25));t.bpfrpt_proptype_RowRendererParams=null;t.bpfrpt_proptype_RowRenderer=null;t.bpfrpt_proptype_RenderedRows=null;t.bpfrpt_proptype_Scroll=null},3198:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2745);Object.defineProperty(t,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return r.AllSubstringsIndexStrategy}}),Object.defineProperty(t,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return r.ExactWordIndexStrategy}}),Object.defineProperty(t,"PrefixIndexStrategy",{enumerable:!0,get:function(){return r.PrefixIndexStrategy}});var o=n(2746);Object.defineProperty(t,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return o.CaseSensitiveSanitizer}}),Object.defineProperty(t,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}});var i=n(2810);Object.defineProperty(t,"TfIdfSearchIndex",{enumerable:!0,get:function(){return i.TfIdfSearchIndex}}),Object.defineProperty(t,"UnorderedSearchIndex",{enumerable:!0,get:function(){return i.UnorderedSearchIndex}});var a=n(2812);Object.defineProperty(t,"SimpleTokenizer",{enumerable:!0,get:function(){return a.SimpleTokenizer}}),Object.defineProperty(t,"StemmingTokenizer",{enumerable:!0,get:function(){return a.StemmingTokenizer}}),Object.defineProperty(t,"StopWordsTokenizer",{enumerable:!0,get:function(){return a.StopWordsTokenizer}});var l=n(3209);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return l.Search}});var c=n(2813);Object.defineProperty(t,"StopWordsMap",{enumerable:!0,get:function(){return c.StopWordsMap}});var s=n(3210);Object.defineProperty(t,"TokenHighlighter",{enumerable:!0,get:function(){return s.TokenHighlighter}})},3199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;++r){t="";for(var i=r;i<o;++i)t+=e.charAt(i),n.push(t)}return n}}]),e}()},3200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()},3201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"expandToken",value:function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t}}]),e}()},3202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()},3203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()},3204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TfIdfSearchIndex=void 0;var r,o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2811),l=(r=a)&&r.__esModule?r:{default:r};t.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return i(e,[{key:"indexDocument",value:function(e,t,n){this._tokenToIdfCache={};var r,i=this._tokenMap;"object"!==o(i[e])?i[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=i[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!==o(a[t])?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],l=this._tokenMap[a];if(!l)return[];if(0===r)for(var c=0,s=(u=Object.keys(l.$uidMap)).length;c<s;c++){n[d=u[c]]=l.$uidMap[d].$document}else{var u;for(c=0,s=(u=Object.keys(n)).length;c<s;c++){var d=u[c];"object"!==o(l.$uidMap[d])&&delete n[d]}}}var f=[];for(var d in n)f.push(n[d]);var p=this._createCalculateTfIdf();return f.sort((function(n,r){return p(e,r,t)-p(e,n,t)}))}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o="undefined"!==typeof e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,i){for(var a=0,c=0,s=r.length;c<s;++c){var u,d=r[c],f=n(d,i);f===1/0&&(f=0),u=t instanceof Array?o&&(0,l.default)(o,t):o&&o[t],a+=("undefined"!==typeof e[d]&&"undefined"!==typeof e[d].$uidMap[u]?e[d].$uidMap[u].$numTokenOccurrences:0)*f}return a}}}]),e}()},3205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return o(e,[{key:"indexDocument",value:function(e,t,n){"object"!==r(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=n}},{key:"search",value:function(e,t){for(var n={},o=this._tokenToUidToDocumentMap,i=0,a=e.length;i<a;i++){var l=o[e[i]];if(!l)return[];if(0===i)for(var c=0,s=(d=Object.keys(l)).length;c<s;c++){n[u=d[c]]=l[u]}else for(c=0,s=(d=Object.keys(n)).length;c<s;c++){var u=d[c];"object"!==r(l[u])&&delete n[u]}}var d,f=[];for(i=0,s=(d=Object.keys(n)).length;i<s;i++){u=d[i];f.push(n[u])}return f}}]),e}()},3206:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=/[^a-z\u0430-\u044f\u04510-9\-']+/i;t.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"tokenize",value:function(e){return e.split(o).filter((function(e){return e}))}}]),e}()},3207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.StemmingTokenizer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=n}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()},3208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWordsTokenizer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2813);t.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return r(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter((function(e){return!o.StopWordsMap[e]}))}}]),e}()},3209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2811),a=(r=i)&&r.__esModule?r:{default:r},l=n(2745),c=n(2746),s=n(2810),u=n(2812);t.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new l.PrefixIndexStrategy,this._searchIndex=new s.TfIdfSearchIndex(t),this._sanitizer=new c.LowerCaseSanitizer,this._tokenizer=new u.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return o(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,i=this._tokenizer,l=this._uidFieldName,c=0,s=e.length;c<s;c++){var u,d=e[c];u=l instanceof Array?(0,a.default)(d,l):d[l];for(var f=0,p=t.length;f<p;f++){var h,m=t[f];if(null!=(h=m instanceof Array?(0,a.default)(d,m):d[m])&&"string"!==typeof h&&h.toString&&(h=h.toString()),"string"===typeof h)for(var v=i.tokenize(r.sanitize(h)),g=0,y=v.length;g<y;g++)for(var S=v[g],b=n.expandToken(S),C=0,_=b.length;C<_;C++){var w=b[C];o.indexDocument(w,u,d)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()},3210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenHighlighter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2745),i=n(2746);t.TokenHighlighter=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new o.PrefixIndexStrategy,this._sanitizer=n||new i.LowerCaseSanitizer,this._wrapperTagName=r||"mark"}return r(e,[{key:"highlight",value:function(e,t){for(var n=this._wrapText("").length,r=Object.create(null),o=0,i=t.length;o<i;o++)for(var a=this._sanitizer.sanitize(t[o]),l=this._indexStrategy.expandToken(a),c=0,s=l.length;c<s;c++){var u=l[c];r[u]?r[u].push(a):r[u]=[a]}for(var d="",f="",p=0,h=(o=0,e.length);o<h;o++){var m=e.charAt(o);" "===m?(d="",f="",p=o+1):(d+=m,f+=this._sanitizer.sanitize(m)),r[f]&&r[f].indexOf(f)>=0&&(d=this._wrapText(d),e=e.substring(0,p)+d+e.substring(o+1),o+=n,h+=n)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()},3211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 4c-4.412 0-8 3.588-8 8s3.588 8 8 8 8-3.588 8-8-3.588-8-8-8zm0 14.222A6.23 6.23 0 015.778 12 6.23 6.23 0 0112 5.778 6.23 6.23 0 0118.222 12 6.23 6.23 0 0112 18.222zm.889-6.59V8.448c0-.489-.4-.889-.889-.889s-.889.4-.889.89v3.555c0 .248.103.471.268.633l2.195 2.194a.891.891 0 001.257 0 .891.891 0 000-1.256l-1.942-1.943z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiFrequentIcon";var l=a;t.default=l},3212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 4c-4.412 0-8 3.588-8 8s3.588 8 8 8 8-3.588 8-8-3.588-8-8-8zm0 14.222A6.23 6.23 0 015.778 12 6.23 6.23 0 0112 5.778 6.23 6.23 0 0118.222 12 6.23 6.23 0 0112 18.222zM14.83 14a3.001 3.001 0 01-5.66 0h5.66zM14 11a1 1 0 100-2 1 1 0 000 2zm-4 0a1 1 0 100-2 1 1 0 000 2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiPeopleIcon";var l=a;t.default=l},3213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 16h3.625l-2.5-4h1.208L12 7l-3.333 5h1.208l-2.5 4H11v2h2v-2zm4.33-2.06l1.527 2.546A1 1 0 0118 18h-3c-.003 1.105-.9 2-1.998 2h-2.004A1.999 1.999 0 019 18H6a1 1 0 01-.857-1.514L6.67 13.94c-.6-.23-.888-1.068-.484-1.697l5-7.778c.4-.62 1.229-.62 1.628 0l5 7.778c.404.629.117 1.467-.484 1.697z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiNatureIcon";var l=a;t.default=l},3214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.425 4.798v.005L9.271 7H4.995a.881.881 0 00-.885.999L5.319 19c.06.552.556.999 1.108.999H17.99A2.006 2.006 0 0020 18v-3.99A3.998 3.998 0 0016.004 10H13.56l.294-2.001c.08-.552-.3-.999-.85-.999h-1.728l.075-1.07 3.002.21a1 1 0 001.058-.928.993.993 0 00-.919-1.067l-4.008-.28a1 1 0 00-1.059.933zM18 15v-1.002A2 2 0 0016.002 12h-4.004A1.993 1.993 0 0010 13.998V15h8zm0 2v1h-8v-1h8zm-6.111-6.999L12 9H6l1 9h1v-3.99A4.008 4.008 0 0111.889 10z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiFoodIcon";var l=a;t.default=l},3215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.677 16.738A5.97 5.97 0 0112 18a5.97 5.97 0 01-3.677-1.262 6.329 6.329 0 001.982-4.589 6.33 6.33 0 00-2.157-4.746A5.973 5.973 0 0112 6c1.465 0 2.808.528 3.851 1.403a6.33 6.33 0 00-2.156 4.746c0 1.751.736 3.41 1.982 4.589zm1.354-1.472c.613-.94.969-2.063.969-3.266 0-1.124-.31-2.176-.85-3.076a4.321 4.321 0 00-1.455 3.225c0 1.187.495 2.313 1.336 3.117zm-10.062 0A5.964 5.964 0 016 12c0-1.124.31-2.176.85-3.076a4.324 4.324 0 011.455 3.225 4.323 4.323 0 01-1.336 3.117zM12 4a8 8 0 100 16 8 8 0 000-16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiActivityIcon";var l=a;t.default=l},3216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.584 17H8.416l-2.708 2.709a1.004 1.004 0 01-1.415 0l-.002-.002a1.004 1.004 0 010-1.415l1.618-1.617A1.998 1.998 0 015 14.997V6.003C5 4.897 5.897 4 7.006 4h9.988C18.102 4 19 4.894 19 6.003v8.994a2 2 0 01-.909 1.678l1.618 1.617a1.004 1.004 0 010 1.415 1.004 1.004 0 01-1.417.002L15.584 17zM17 10V6H7v4h10zm0 2v3H7v-3h10zm-1.5 6.997c0 .55-.45 1-1 1h-5c-.55 0-1-.45-1-1s.45-1 1-1h5c.55 0 1 .45 1 1zm.2-5.517a1 1 0 11-2 0 1 1 0 012 0zm-6.691 1a1 1 0 110-2 1 1 0 010 2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiTravelIcon";var l=a;t.default=l},3217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.998 4A5.997 5.997 0 006 9.998c0 2.218 2.288 4.484 2.288 4.484.39.387.71 1.112.71 1.611 0 .499.45.907 1 .907h4c.55 0 1-.408 1-.907 0-.499.32-1.224.71-1.611 0 0 2.288-2.266 2.288-4.484A5.997 5.997 0 0011.998 4zm0 2a4.003 4.003 0 013.998 3.998c0 1.029-1.145 2.511-1.695 3.064-.507.501-.912 1.216-1.13 1.938h-2.346c-.217-.722-.622-1.435-1.125-1.934-.555-.557-1.7-2.039-1.7-3.068A4.003 4.003 0 0111.998 6zm2.965 13c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v.003c0 .55.45 1 1 1h4c.55 0 1-.45 1-1V19z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiObjectsIcon";var l=a;t.default=l},3218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 9.44l1.76-1.744a2.505 2.505 0 013.52 0 2.451 2.451 0 010 3.488L12 16.417l-5.28-5.232a2.451 2.451 0 010-3.49 2.505 2.505 0 013.52 0v.001L12 9.44zm-6.684 3.143l.003.004 6.322 6.266a.508.508 0 00.718 0l6.322-6.266.003-.004.004-.003a4.412 4.412 0 000-6.28 4.509 4.509 0 00-6.336 0l-.003.004-.004.003L12 6.65l-.345-.342-.004-.003-.003-.003a4.509 4.509 0 00-6.336 0 4.412 4.412 0 000 6.279l.004.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiSymbolsIcon";var l=a;t.default=l},3219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 12.235v6.446c0 .537.45.977 1 .977s1-.44 1-.977v-5.778c1.17-.341 2.389-.045 3.768.29.982.238 2.036.495 3.13.495a5.73 5.73 0 002.547-.567 1 1 0 00.563-.9V5.466a.998.998 0 00-1.437-.9c-1.345.654-2.731.317-4.331-.071-1.729-.42-3.687-.895-5.678.072A1 1 0 006 5.466v6.769zm3.111-1.48c1.094 0 2.148.256 3.129.495 1.381.335 2.6.63 3.768.289V6.836c-1.488.27-2.93-.08-4.24-.398-1.379-.335-2.598-.632-3.768-.29v4.704a6.195 6.195 0 011.111-.097z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiFlagsIcon";var l=a;t.default=l},3220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><g fill="currentColor"><path d="M12 18a6 6 0 100-12 6 6 0 000 12zm0 2a8 8 0 110-16 8 8 0 010 16z"/><path d="M14.301 9.485a1 1 0 011.398 1.43l-4.261 4.166a1 1 0 01-1.406-.008l-2.04-2.04a1 1 0 111.415-1.413l1.34 1.34L14.3 9.484z"/></g></svg>'},e))};a.displayName="EmojiProductivityIcon";var l=a;t.default=l},3221:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),o=i(n(43));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7.002a.999.999 0 10-2 0V11H7.002a.999.999 0 100 2H11v3.998a.999.999 0 102 0V13h3.998a.999.999 0 100-2H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EmojiCustomIcon";var l=a;t.default=l},3222:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"bpfrpt_proptype_RowRendererParams",{enumerable:!0,get:function(){return i.bpfrpt_proptype_RowRendererParams}});var o=r(n(3223)),i=n(2816)},3223:function(e,t,n){"use strict";var r=n(434),o=n(435);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,l=r(n(27)),c=r(n(8)),s=r(n(9)),u=r(n(12)),d=r(n(5)),f=r(n(3)),p=r(n(11)),h=r(n(1)),m=o(n(3224)),v=o(n(0)),g=r(n(46)),y=(n(2816),r(n(25)),a=i=function(e){function t(){var e,n;(0,c.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,u.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(o))),(0,h.default)((0,f.default)(n),"Grid",void 0),(0,h.default)((0,f.default)(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,l=e.key,c=n.props.rowRenderer,s=Object.getOwnPropertyDescriptor(o,"width");return s&&s.writable&&(o.width="100%"),c({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:t})})),(0,h.default)((0,f.default)(n),"_setRef",(function(e){n.Grid=e})),(0,h.default)((0,f.default)(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})})),(0,h.default)((0,f.default)(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,o=e.width,i=(0,g.default)("ReactVirtualized__List",t);return v.createElement(m.default,(0,l.default)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:o,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(v.PureComponent),(0,h.default)(i,"propTypes",null),a);t.default=y,(0,h.default)(y,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:m.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}})},3224:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"bpfrpt_proptype_NoContentRenderer",{enumerable:!0,get:function(){return c.bpfrpt_proptype_NoContentRenderer}}),Object.defineProperty(t,"bpfrpt_proptype_Alignment",{enumerable:!0,get:function(){return c.bpfrpt_proptype_Alignment}}),Object.defineProperty(t,"bpfrpt_proptype_CellPosition",{enumerable:!0,get:function(){return c.bpfrpt_proptype_CellPosition}}),Object.defineProperty(t,"bpfrpt_proptype_CellSize",{enumerable:!0,get:function(){return c.bpfrpt_proptype_CellSize}}),Object.defineProperty(t,"bpfrpt_proptype_OverscanIndicesGetter",{enumerable:!0,get:function(){return c.bpfrpt_proptype_OverscanIndicesGetter}}),Object.defineProperty(t,"bpfrpt_proptype_RenderedSection",{enumerable:!0,get:function(){return c.bpfrpt_proptype_RenderedSection}}),Object.defineProperty(t,"bpfrpt_proptype_CellRendererParams",{enumerable:!0,get:function(){return c.bpfrpt_proptype_CellRendererParams}}),Object.defineProperty(t,"bpfrpt_proptype_Scroll",{enumerable:!0,get:function(){return c.bpfrpt_proptype_Scroll}});var o=r(n(3225)),i=r(n(3232)),a=r(n(2815)),l=r(n(2814)),c=n(2658)},3225:function(e,t,n){"use strict";var r=n(434),o=n(435);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0;var i,a,l=r(n(27)),c=r(n(8)),s=r(n(9)),u=r(n(12)),d=r(n(5)),f=r(n(3)),p=r(n(11)),h=r(n(1)),m=o(n(0)),v=r(n(46)),g=r(n(3226)),y=r(n(2747)),S=r(n(2724)),b=o(n(2814)),C=r(n(3229)),_=r(n(2815)),w=r(n(2767)),O=n(2723),j=n(3230);n(2658),r(n(25));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=150;var T="observed",R="requested",E=(a=i=function(e){function t(e){var n;(0,c.default)(this,t),n=(0,u.default)(this,(0,d.default)(t).call(this,e)),(0,h.default)((0,f.default)(n),"_onGridRenderedMemoizer",(0,S.default)()),(0,h.default)((0,f.default)(n),"_onScrollMemoizer",(0,S.default)(!1)),(0,h.default)((0,f.default)(n),"_deferredInvalidateColumnIndex",null),(0,h.default)((0,f.default)(n),"_deferredInvalidateRowIndex",null),(0,h.default)((0,f.default)(n),"_recomputeScrollLeftFlag",!1),(0,h.default)((0,f.default)(n),"_recomputeScrollTopFlag",!1),(0,h.default)((0,f.default)(n),"_horizontalScrollBarSize",0),(0,h.default)((0,f.default)(n),"_verticalScrollBarSize",0),(0,h.default)((0,f.default)(n),"_scrollbarPresenceChanged",!1),(0,h.default)((0,f.default)(n),"_scrollingContainer",void 0),(0,h.default)((0,f.default)(n),"_childrenToDisplay",void 0),(0,h.default)((0,f.default)(n),"_columnStartIndex",void 0),(0,h.default)((0,f.default)(n),"_columnStopIndex",void 0),(0,h.default)((0,f.default)(n),"_rowStartIndex",void 0),(0,h.default)((0,f.default)(n),"_rowStopIndex",void 0),(0,h.default)((0,f.default)(n),"_renderedColumnStartIndex",0),(0,h.default)((0,f.default)(n),"_renderedColumnStopIndex",0),(0,h.default)((0,f.default)(n),"_renderedRowStartIndex",0),(0,h.default)((0,f.default)(n),"_renderedRowStopIndex",0),(0,h.default)((0,f.default)(n),"_initialScrollTop",void 0),(0,h.default)((0,f.default)(n),"_initialScrollLeft",void 0),(0,h.default)((0,f.default)(n),"_disablePointerEventsTimeoutId",void 0),(0,h.default)((0,f.default)(n),"_styleCache",{}),(0,h.default)((0,f.default)(n),"_cellCache",{}),(0,h.default)((0,f.default)(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),(0,h.default)((0,f.default)(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),(0,h.default)((0,f.default)(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),(0,h.default)((0,f.default)(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new y.default({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new y.default({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:b.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:b.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,l=I({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,c=i.height,s=i.width,u=this.state.instanceProps,d=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,p-s+d),n),m=Math.min(Math.max(0,f-c+d),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var v={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,scrollPositionChangeReason:T};a||(v.scrollTop=m),l||(v.scrollLeft=h),v.needToResetStyleCache=!1,this.setState(v)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,l=i.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(n),c.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===b.SCROLL_DIRECTION_FORWARD?n<=a:n>=a),this._recomputeScrollTopFlag=l>=0&&(this.state.scrollDirectionVertical===b.SCROLL_DIRECTION_FORWARD?o<=l:o>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(I({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(I({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,l=e.scrollToRow,c=e.width,s=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState((function(e){var t=I({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"===typeof o&&o>=0||"number"===typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&c>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),l>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,c=r.rowCount,s=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,f=r.width,p=this.state,h=p.scrollLeft,m=p.scrollPositionChangeReason,v=p.scrollTop,g=p.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||c>0&&0===e.rowCount;m===R&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=h),!o&&v>=0&&(v!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=v));var S=(0===e.width||0===e.height)&&l>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,C.default)({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:s,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,C.default)({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:v,scrollToAlignment:s,scrollToIndex:d,size:l,sizeJustIncreasedFromZero:S,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||v!==t.scrollTop){var b=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:v,totalColumnsWidth:_,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&(0,j.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,o=e.className,i=e.containerProps,a=e.containerRole,c=e.containerStyle,s=e.height,u=e.id,d=e.noContentRenderer,f=e.role,p=e.style,h=e.tabIndex,g=e.width,y=this.state,S=y.instanceProps,b=y.needToResetStyleCache,C=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:n?"auto":s,position:"relative",width:r?"auto":g,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=S.columnSizeAndPositionManager.getTotalSize(),O=S.rowSizeAndPositionManager.getTotalSize(),j=O>s?S.scrollbarSize:0,k=w>g?S.scrollbarSize:0;k===this._horizontalScrollBarSize&&j===this._verticalScrollBarSize||(this._horizontalScrollBarSize=k,this._verticalScrollBarSize=j,this._scrollbarPresenceChanged=!0),_.overflowX=w+j<=g?"hidden":"auto",_.overflowY=O+k<=s?"hidden":"auto";var T=this._childrenToDisplay,R=0===T.length&&s>0&&g>0;return m.createElement("div",(0,l.default)({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,v.default)("ReactVirtualized__Grid",o),id:u,onScroll:this._onScroll,role:f,style:I({},_,{},p),tabIndex:h}),T.length>0&&m.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:a,style:I({width:t?"auto":w,height:O,maxWidth:w,maxHeight:O,overflow:"hidden",pointerEvents:C?"none":"",position:"relative"},c)},T),R&&d())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,l=e.overscanColumnCount,c=e.overscanIndicesGetter,s=e.overscanRowCount,u=e.rowCount,d=e.width,f=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,m=t.instanceProps,v=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&d>0){var S=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),b=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:v}),C=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),_=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:v});this._renderedColumnStartIndex=S.start,this._renderedColumnStopIndex=S.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var w=c({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:p,startIndex:"number"===typeof S.start?S.start:0,stopIndex:"number"===typeof S.stop?S.stop:-1}),O=c({direction:"vertical",cellCount:u,overscanCellsCount:s,scrollDirection:h,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),j=w.overscanStartIndex,k=w.overscanStopIndex,I=O.overscanStartIndex,T=O.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var R=I;R<=T;R++)if(!i.has(R,0)){j=0,k=o-1;break}if(!i.hasFixedWidth())for(var E=j;E<=k;E++)if(!i.has(0,E)){I=0,T=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:j,columnStopIndex:k,deferredMeasurementCache:i,horizontalOffsetAdjustment:C,isScrolling:y,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:I,rowStopIndex:T,scrollLeft:g,scrollTop:v,styleCache:this._styleCache,verticalOffsetAdjustment:_,visibleColumnIndices:S,visibleRowIndices:b}),this._columnStartIndex=j,this._columnStopIndex=k,this._rowStartIndex=I,this._rowStopIndex=T}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,j.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,j.requestAnimationTimeout)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),(0,g.default)({cellCount:a.prevColumnCount,cellSize:"number"===typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"===typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),(0,g.default)({cellCount:a.prevRowCount,cellSize:"number"===typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"===typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,I({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"===typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"===typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:R};return"number"===typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,o.scrollLeft=n),"number"===typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?b.SCROLL_DIRECTION_FORWARD:b.SCROLL_DIRECTION_BACKWARD,o.scrollTop=r),"number"===typeof n&&n>=0&&n!==t.scrollLeft||"number"===typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"===typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,l=t.scrollLeft,c=t.instanceProps;if(n>0){var s=n-1,u=i<0?s:Math.min(s,i),d=c.rowSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&d>r?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"===typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,l=t.scrollTop,c=t.instanceProps;if(r>0){var s=r-1,u=i<0?s:Math.min(s,i),d=c.columnSizeAndPositionManager.getTotalSize(),f=c.scrollbarSizeMeasured&&d>a?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"===typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),t}(m.PureComponent),(0,h.default)(i,"propTypes",null),a);(0,h.default)(E,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:_.default,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:w.default,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:b.default,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),(0,O.polyfill)(E);var P=E;t.default=P},3226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,l=e.nextScrollToIndex,c=e.scrollToIndex,s=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!==typeof n&&"number"!==typeof a||n===a)||(r(o),c>=0&&c===l&&s())}},3227:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(8)),i=r(n(9)),a=r(n(1)),l=(n(2658),function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,i=t.estimatedCellSize;(0,o.default)(this,e),(0,a.default)(this,"_cellSizeAndPositionData",{}),(0,a.default)(this,"_lastMeasuredIndex",-1),(0,a.default)(this,"_lastBatchedIndex",-1),(0,a.default)(this,"_cellCount",void 0),(0,a.default)(this,"_cellSizeGetter",void 0),(0,a.default)(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=i}return(0,i.default)(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),c=l.offset,s=c-r+l.size;switch(n){case"start":a=c;break;case"end":a=s;break;case"center":a=c-(r-l.size)/2;break;default:a=Math.max(s,Math.min(c,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}());t.default=l},3228:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxElementSize=void 0;t.getMaxElementSize=function(){return"undefined"!==typeof window&&window.chrome?16777100:15e5}},3229:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,l=e.previousSize,c=e.scrollOffset,s=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,f=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,h=n.getCellCount(),m=u>=0&&u<h,v=d!==l||f||!o||"number"===typeof t&&t!==o;m&&(v||s!==i||u!==a)?p(u):!m&&h>0&&(d<l||h<r)&&c>n.getTotalSize()-d&&p(h-1)};r(n(2747)),n(2658)},3230:function(e,t,n){"use strict";var r=n(434);Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_AnimationTimeoutId=t.requestAnimationTimeout=t.cancelAnimationTimeout=void 0;var o=n(3231);r(n(25));t.bpfrpt_proptype_AnimationTimeoutId=null;t.cancelAnimationTimeout=function(e){return(0,o.caf)(e.id)};t.requestAnimationTimeout=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:(0,o.raf)((function i(){Date.now()-n>=t?e.call():r.id=(0,o.raf)(i)}))};return r}},3231:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.caf=t.raf=void 0;var o=(r="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(e){return r.setTimeout(e,1e3/60)},i=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||r.oCancelAnimationFrame||r.msCancelAnimationFrame||function(e){r.clearTimeout(e)},a=o;t.raf=a;var l=i;t.caf=l},3232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}},t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0;n(2658);t.SCROLL_DIRECTION_BACKWARD=-1;t.SCROLL_DIRECTION_FORWARD=1;t.SCROLL_DIRECTION_HORIZONTAL="horizontal";t.SCROLL_DIRECTION_VERTICAL="vertical"},3402:function(e,t,n){"use strict";var r=n(8),o=n.n(r),i=n(9),a=n.n(i),l=n(3),c=n.n(l),s=n(11),u=n.n(s),d=n(12),f=n.n(d),p=n(5),h=n.n(p),m=n(1),v=n.n(m),g=n(0),y=n.n(g),S=n(2666),b=n.n(S),C=n(666),_=n(2602),w=n(2456),O=n(2600),j=n(632),k=n(2605),I=n(7),T=n.n(I),R=n(6),E=n(2),P=n(65),z=n(16),x=n(516),M=n(630);function A(){var e=T()(["\n  background: ",";\n  border-radius: ","px;\n  box-sizing: content-box; /* do not set this to border-box or it will break the overflow handling */\n  color: ",";\n  max-height: ","px;\n  max-width: ","px;\n  padding: ","px ","px;\n  z-index: ",";\n\n  ",";\n\n  &:focus {\n    outline: none;\n  }\n"]);return A=function(){return e},e}var D=Object(P.a)({light:E.N0,dark:E.DN50}),L=Object(P.a)({light:E.N900,dark:E.DN600}),N=R.c.div(A(),D,z.c,L,Object(M.b)(z.h,56),Object(M.b)(z.h,56),Object(M.b)(z.h,2),Object(M.b)(z.h,3),z.i.dialog,x.b);function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var U="@atlaskit/inline-dialog",W="13.0.10",B=function(e){u()(n,e);var t=F(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),v()(c()(e),"handleClickOutside",(function(t){var n=e.props,r=n.isOpen,o=n.onClose;if(!t.defaultPrevented){var i=e.containerRef,a=e.triggerRef,l=t.target;a&&a.contains(l)||r&&i&&!i.contains(l)&&o&&o({isOpen:!1,event:t})}})),e}return a()(n,[{key:"componentDidUpdate",value:function(e){"undefined"!==typeof window&&(!e.isOpen&&this.props.isOpen?window.addEventListener("click",this.handleClickOutside,!0):e.isOpen&&!this.props.isOpen&&window.removeEventListener("click",this.handleClickOutside,!0))}},{key:"componentDidMount",value:function(){"undefined"!==typeof window&&this.props.isOpen&&window.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("click",this.handleClickOutside,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.placement,o=t.isOpen,i=t.content,a=t.onContentBlur,l=t.onContentFocus,c=t.onContentClick,s=t.testId,u=o?y.a.createElement(O.a,{placement:r},(function(t){var n=t.ref,r=t.style;return y.a.createElement(N,{onBlur:a,onFocus:l,onClick:c,innerRef:function(t){e.containerRef=t,"function"===typeof n?n(t):n.current=t},style:r,"data-testid":s},i)})):null;return y.a.createElement(j.a,null,y.a.createElement(k.a,null,(function(t){var r=t.ref;return y.a.createElement(b.a,{innerRef:function(t){e.triggerRef=t,"function"===typeof r?r(t):r.current=t}},n)})),u)}}]),n}(g.Component);v()(B,"defaultProps",{isOpen:!1,onContentBlur:function(){},onContentClick:function(){},onContentFocus:function(){},onClose:function(){},placement:"bottom-start"});var q=Object(C.a)("atlaskit");t.a=Object(_.a)({componentName:"inlineDialog",packageName:U,packageVersion:W})(Object(w.a)({onClose:q({action:"closed",actionSubject:"inlineDialog",attributes:{componentName:"inlineDialog",packageName:U,packageVersion:W}})})(B))},3464:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Pn}));var r=n(23),o=n.n(r),i=n(8),a=n.n(i),l=n(9),c=n.n(l),s=n(3),u=n.n(s),d=n(11),f=n.n(d),p=n(12),h=n.n(p),m=n(5),v=n.n(m),g=n(1),y=n.n(g),S=n(78),b=n.n(S),C=n(25),_=n.n(C),w=n(0),O=n.n(w),j=n(26),k=n(3198),I=n(130),T=n(121),R=n(2455),E=new RegExp("[\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u3005\u3007\u3021-\u3029\u3038-\u303b\u3400-\u4db5\u4e00-\u9fef\uf900-\ufa6d\ufa70-\ufad9]|[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc|0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d58-\u0d5e\u0d66-\u0d78\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19]+[\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u09fe\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c00\u0c04\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d00\u0d01\u0d3b\u0d3c\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab-\u1bad\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f|']*[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]*","gi"),P=n(1436),z=n.n(P);var x=function(){function e(){a()(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.chain=n}return c()(e,[{key:"compare",value:function(e,t){for(var n=0;n<this.chain.length;n++){var r=this.chain[n].compare(e,t);if(0!==r)return r}return 0}}]),e}(),M=function(){function e(t){a()(this,e),this.query=t}return c()(e,[{key:"compare",value:function(e,t){var n=e.ascii&&-1!==e.ascii.indexOf(this.query),r=t.ascii&&-1!==t.ascii.indexOf(this.query);return n&&!r?-1:!n&&r?1:0}}]),e}(),A=function(){function e(t){a()(this,e),this.colonQuery=":".concat(t,":"),this.typeComparator=new D(!0)}return c()(e,[{key:"compare",value:function(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0}}]),e}(),D=function(){function e(t){a()(this,e),this.typeToNumber=t?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}return c()(e,[{key:"compare",value:function(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)}},{key:"emojiTypeToOrdinal",value:function(e){var t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t}}]),e}(),L=function(){function e(t){var n=this;a()(this,e),this.positionLookup=new Map,t.map((function(e,t){return n.positionLookup.set(e,t+1)}))}return c()(e,[{key:"compare",value:function(e,t){return e.id&&t.id?this.getPositionInOrder(e)-this.getPositionInOrder(t):0}},{key:"getPositionInOrder",value:function(e){var t=e.id?e.id:"0";Object(T.h)(e)&&(t=e.baseId);var n=this.positionLookup.get(t);return n||I.a}}]),e}(),N=function(){function e(t,n){if(a()(this,e),this.query=t,!n)throw new Error("propertyToCompare is required");this.propertyName=n}return c()(e,[{key:"getScore",value:function(e){var t=e[this.propertyName],n=t?t.indexOf(this.query):I.a;return-1===n?I.a:n}},{key:"compare",value:function(e,t){return this.getScore(e)-this.getScore(t)}}]),e}(),F=function(){function e(){a()(this,e)}return c()(e,[{key:"compare",value:function(e,t){return(e.order?e.order:I.a)-(t.order?t.order:I.a)}}],[{key:"Instance",get:function(){return this.INSTANCE||(this.INSTANCE=new this)}}]),e}(),U=function(){function e(){a()(this,e)}return c()(e,[{key:"compare",value:function(e,t){return e.shortName.localeCompare(t.shortName)}}],[{key:"Instance",get:function(){return this.INSTANCE||(this.INSTANCE=new this)}}]),e}(),W=function(){function e(t){if(a()(this,e),t.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(t.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=t.maxDuplicates*t.minUniqueItems,this.perItemSize=t.maxDuplicates,this.createEmptyState()}return c()(e,[{key:"enqueue",value:function(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}},{key:"getItemsOrderedByDuplicateCount",value:function(){return this.itemsOrderedByFrequency}},{key:"clear",value:function(){this.createEmptyState()}},{key:"bulkEnqueue",value:function(e){var t=this;e.map((function(e){return t.enqueueWithoutOrdering(e)})),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}},{key:"getItems",value:function(){return this.items}},{key:"createEmptyState",value:function(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array}},{key:"enqueueWithoutOrdering",value:function(e){var t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)}},{key:"orderItemsByFrequency",value:function(){return Array.from(this.itemCountMap.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))}},{key:"decrementCount",value:function(e){var t=this.itemCountMap.get(e);t&&(--t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))}},{key:"removeFirstOccurrence",value:function(e){var t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))}},{key:"remove",value:function(){var e=this.items.shift();return void 0!==e&&this.decrementCount(e),e}},{key:"add",value:function(e){this.items.push(e);var t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)}}]),e}(),B=n(114),q=n.n(B),G=n(436);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var V=function(e){f()(n,e);var t=H(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).storage=e.storage,r.prefixedStorageKey="".concat(e.storagePrefix,".").concat(n.storageKey),r.load(),r}return c()(n,[{key:"enqueue",value:function(e){q()(v()(n.prototype),"enqueue",this).call(this,e),this.save()}},{key:"clear",value:function(){q()(v()(n.prototype),"clear",this).call(this),this.storage.removeItem(this.prefixedStorageKey)}},{key:"load",value:function(){var e=this.storage.getItem(this.prefixedStorageKey);if(e)try{var t=JSON.parse(e);this.bulkEnqueue(t)}catch(n){Object(G.a)("Error parsing the queue stored as ".concat(this.prefixedStorageKey," key from storage"),n)}}},{key:"save",value:function(){var e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(t){Object(G.a)("Error saving the queued items as ".concat(this.prefixedStorageKey),t)}}}]),n}(W);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}y()(V,"storageKey","lastUsed");var $=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a()(this,e);var n=e.queueOptions;if(t&&n.storage){var r=K(K({},n),{},{storage:n.storage});this.queue=new V(r)}else this.queue=new W(n);this.gateway=new J(10)}return c()(e,[{key:"recordUsage",value:function(e){var t=this,n=e.id;n&&(Object(T.h)(e)&&(n=e.baseId),this.gateway.submit((function(){n&&t.queue.enqueue(n)})))}},{key:"getOrder",value:function(){return this.queue.getItemsOrderedByDuplicateCount()}},{key:"clear",value:function(){this.queue.clear()}}]),e}();y()($,"queueOptions",{storage:"undefined"!==typeof window&&window.localStorage,storagePrefix:I.k,maxDuplicates:25,minUniqueItems:5});var J=function(){function e(t){if(a()(this,e),t<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=t,this.count=0}return c()(e,[{key:"submit",value:function(e){var t=this;if(this.count>=this.maximumPermitted)return!1;this.count++;return window.setTimeout((function(){try{e()}finally{t.completed()}})),!0}},{key:"completed",value:function(){this.count--}}]),e}(),Z=function(){function e(){a()(this,e)}return c()(e,[{key:"tokenize",value:function(e){return this.tokenizeAsTokens(e).map((function(e){return e.token}))}},{key:"tokenizeAsTokens",value:function(e){var t,n=[];for(E.lastIndex=0;null!==(t=E.exec(e));)t[0]&&n.push({token:t[0],start:t.index});return n}}]),e}(),Y=function e(t,n,r){var o=n(t);r.has(o)||r.set(o,[]);var i=r.get(o);if(i&&i.push(t),Object(T.g)(t)){var a=t.skinVariations;a&&a.forEach((function(t){return e(t,n,r)}))}},X=function(e,t){var n=e.get(t);if(n&&n.length)return n[n.length-1]},ee=function(e,t){if(Object(T.g)(e)&&t){var n=t.skinTone;if(n&&e.skinVariations&&e.skinVariations.length){var r=e.skinVariations[n-1];if(r)return r}}return e},te=function(){function e(t,n){a()(this,e),this.emojis=t,this.initMembers(n)}return c()(e,[{key:"all",value:function(){var e={sort:R.a.None};return this.search("",e)}},{key:"search",value:function(e,t){var n=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""}}(e),o=r.nameQuery,i=r.asciiQuery;return o?(n=this.fullSearch.search(o),i&&(n=this.withAsciiMatch(i,n))):n=this.getAllSearchableEmojis(),{emojis:n=this.applySearchOptions(n,e,t),query:e}}},{key:"findAllMatchingShortName",value:function(e){return this.shortNameMap.get(e)||[]}},{key:"findByShortName",value:function(e){return X(this.shortNameMap,e)}},{key:"findById",value:function(e){return X(this.idMap,e)}},{key:"findByAsciiRepresentation",value:function(e){return this.asciiMap.get(e)}},{key:"findInCategory",value:function(e){return e===I.j?this.getFrequentlyUsed():this.all().emojis.filter((function(t){return t.category===e}))}},{key:"addUnknownEmoji",value:function(e){this.emojis=[].concat(o()(this.emojis),[e]),this.fullSearch.addDocuments([e]),this.addToMaps(e),this.addToDynamicCategories(e)}},{key:"getAsciiMap",value:function(){return this.asciiMap}},{key:"getFrequentlyUsed",value:function(e){var t=this,n=this.usageTracker.getOrder().map((function(e){return t.findById(e)})).filter((function(e){return void 0!==e}));return e&&(n=this.applySearchOptions(n,"",e)),n}},{key:"getDynamicCategoryList",value:function(){return this.dynamicCategoryList.slice()}},{key:"used",value:function(e){var t=this;this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(I.j)&&window.setTimeout((function(){t.dynamicCategoryList.push(I.j)}))}},{key:"delete",value:function(e){var t=function(e,t){var n=t.id,r=-1;return e.forEach((function(e,o){(e.id&&e.id===n||!e.id&&!n&&e.shortName===t.shortName)&&(r=o)})),r}(this.emojis,e);-1!==t&&(this.emojis.splice(t,1),this.initMembers(this.usageTracker))}},{key:"withAsciiMatch",value:function(e,t){var n=t,r=this.findByAsciiRepresentation(e);return r&&(n=t.filter((function(e){return e.id!==r.id})),n=[r].concat(o()(n))),n}},{key:"applySearchOptions",value:function(e,t,n){var r;return n||(n={}),void 0===n.sort&&(n.sort=R.a.Default),n.sort===R.a.Default?r=function(e,t){var n=e?e.replace(/:/g,"").toLowerCase().trim():void 0,r=[];e&&r.push(new M(e)),n&&r.push(new A(n)),t&&t.length&&r.push(new L(t)),n&&r.push(new N(n,"shortName"),new N(n,"name")),r.push(F.Instance,U.Instance);var o=z()(x,r);return o.compare=o.compare.bind(o),o}(t,this.usageTracker.getOrder()):n.sort===R.a.UsageFrequency&&(r=function(e){var t=new x(new L(e),new D,F.Instance);return t.compare=t.compare.bind(t),t}(this.usageTracker.getOrder())),r&&(r.compare=r.compare.bind(r),e=e.sort(r.compare)),n.limit&&n.limit>0&&(e=e.slice(0,n.limit)),n.skinTone?e.map((function(e){return ee(e,n)})):e}},{key:"initMembers",value:function(e){this.usageTracker=e||new $,this.initRepositoryMetadata(),this.initSearchIndex()}},{key:"initRepositoryMetadata",value:function(){var e=this;this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;var t=new Set;this.emojis.forEach((function(n){t.add(n.category),e.addToMaps(n)})),this.usageTracker.getOrder().length&&t.add(I.j),this.dynamicCategoryList=Array.from(t).filter((function(e){return-1===I.e.indexOf(e)}))}},{key:"initSearchIndex",value:function(){this.fullSearch=new k.Search("id"),this.fullSearch.tokenizer=new Z,this.fullSearch.searchIndex=new k.UnorderedSearchIndex,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())}},{key:"getAllSearchableEmojis",value:function(){return this.emojis.filter((function(e){return e.searchable}))}},{key:"addToMaps",value:function(t){var n=this;"undefined"!==typeof t.order&&-1!==t.order||(t.order=e.defaultEmojiWeight),"undefined"===typeof t.id&&(t.id=e.defaultEmojiWeight.toString()),Y(t,(function(e){return e.shortName}),this.shortNameMap),Y(t,(function(e){return e.id}),this.idMap),t.ascii&&t.ascii.forEach((function(e){return n.asciiMap.set(e,t)}))}},{key:"addToDynamicCategories",value:function(e){var t=Object(T.e)(e);-1===I.e.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)}}]),e}();y()(te,"defaultEmojiWeight",1e6);var ne,re=n(392),oe=n(589),ie=function(){function e(t){a()(this,e),this.config=t}return c()(e,[{key:"loadEmoji",value:function(){return Object(oe.b)(this.config).then((function(e){return Object(oe.a)(e)}))}}]),e}(),ae=n(48),le=n.n(ae),ce=n(2446),se=function(){return(void 0!==ne?Promise.resolve(ne):new Promise((function(e){var t=new Image,n=function(){ne=2===t.height,e(ne)};t.addEventListener("load",n),t.addEventListener("error",n),t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}))).then((function(e){return e?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8"}))},ue=function(){function e(t,n){a()(this,e),y()(this,"mediaImageQueue",[]),y()(this,"activeProcessing",0),y()(this,"pendingRequests",new Map),this.concurrentDownloadLimit=n&&n.concurrentDownloadLimit||16,this.tokenManager=t}return c()(e,[{key:"loadMediaImage",value:function(e){var t=this,n=this.pendingRequests.get(e);if(void 0!==n)return n;var r=new Promise((function(n,r){t.mediaImageQueue.push({url:e,resolve:n,reject:r}),t.processFromQueue()})).then((function(n){return t.pendingRequests.delete(e),n})).catch((function(n){throw t.pendingRequests.delete(e),n}));return this.pendingRequests.set(e,r),r}},{key:"getQueueSize",value:function(){return this.mediaImageQueue.length}},{key:"getActiveDownloads",value:function(){return this.activeProcessing}},{key:"processFromQueue",value:function(){for(var e=this,t=function(){e.activeProcessing++;var t=e.mediaImageQueue.shift(),n=t.url,r=t.resolve,o=t.reject;e.tokenManager.getToken("read",!1).then((function(t){e.requestMediaEmoji(n,t,!0).then((function(t){r(t),e.completedItem()})).catch((function(t){o(t),e.completedItem()}))})).catch((function(t){o(t),e.completedItem()}))};this.activeProcessing<this.concurrentDownloadLimit&&this.mediaImageQueue.length>0;)t()}},{key:"completedItem",value:function(){this.activeProcessing--,this.processFromQueue()}},{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"requestMediaEmoji",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return se().then((function(i){var a={headers:{Authorization:"Bearer ".concat(t.jwt),"X-Client-Id":t.clientId,Accept:i}};return fetch(e,a).then((function(i){if(404===i.status&&o>0)return r.delay(600/o).then((function(){return r.requestMediaEmoji(e,t,!1,o-1)}));if(403===i.status&&n)return r.tokenManager.getToken("read",!0).then((function(t){return r.requestMediaEmoji(e,t,!1)}));if(i.ok)return i.blob().then((function(e){return r.readBlob(e)}));throw new Error("Unable to load media image. Status=".concat(i.status," ").concat(i.statusText))}))}))}},{key:"readBlob",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){return t(r.result)})),r.addEventListener("error",(function(){return n(r.error)})),r.readAsDataURL(e)}))}}]),e}(),de=n(899),fe=function(e,t){return t?e.altRepresentation:e.representation},pe=function(){function e(t){a()(this,e),y()(this,"cachedImageUrls",new Set),Object(G.a)("BrowserCacheStrategy"),this.mediaImageLoader=t}return c()(e,[{key:"loadEmoji",value:function(e,t){var n=this,r=fe(e,t);if(!Object(T.l)(r))return e;var o=r.mediaPath;return this.cachedImageUrls.has(o)?e:this.mediaImageLoader.loadMediaImage(o).then((function(){return n.cachedImageUrls.add(o),e})).catch((function(){}))}},{key:"optimisticRendering",value:function(){return!0}}],[{key:"supported",value:function(e,t){return function(){var e=!!document.documentMode,t=!e&&!!window.StyleMedia;return e||t}()?Promise.resolve(!1):t.loadMediaImage(e).then((function(){return new Promise((function(t){var n=new Image;n.addEventListener("load",(function(){t(!0)})),n.addEventListener("error",(function(){t(!1)})),n.src=e}))})).catch((function(){return!1}))}}]),e}(),he=function(){function e(t){a()(this,e),Object(G.a)("MemoryCacheStrategy"),this.mediaImageLoader=t,this.dataURLCache=new de.LRUCache(1e3)}return c()(e,[{key:"loadEmoji",value:function(e,t){var n=this,r=fe(e,t);if(!Object(T.l)(r))return e;var o=r.mediaPath,i=this.dataURLCache.get(o);return i?Object(T.d)(e,i,t):this.mediaImageLoader.loadMediaImage(o).then((function(r){var i=Object(T.d)(e,r,t);return r.length<=1e4?n.dataURLCache.put(o,r):Object(G.a)("No caching as image is too large",r.length,r.slice(0,15),e.shortName),i})).catch((function(){}))}},{key:"optimisticRendering",value:function(){return!1}}]),e}(),me=function(){function e(t){a()(this,e),y()(this,"waitingInitUrls",[]),Object(G.a)("MediaEmojiCache"),this.mediaImageLoader=new ue(t)}return c()(e,[{key:"loadEmoji",value:function(e,t){var n=fe(e,t);if(!Object(T.l)(n))return e;var r=n.mediaPath,o=this.getCache(r);return Object(T.n)(o)?o.then((function(n){return n.loadEmoji(e,t)})).catch((function(){})):o.loadEmoji(e,t)}},{key:"optimisticRendering",value:function(e){var t=this.getCache(e);return Object(T.n)(t)?t.then((function(e){return e.optimisticRendering()})).catch((function(){return!1})):t.optimisticRendering()}},{key:"getCache",value:function(e){var t=this;return this.cache?this.cache:(this.waitingInitUrls.push(e),this.cacheLoading||(this.cacheLoading=this.initCache().then((function(e){return t.cache=e,t.cacheLoading=void 0,e})).catch((function(e){throw t.cacheLoading=void 0,e}))),this.cacheLoading)}},{key:"initCache",value:function(){var e=this,t=this.waitingInitUrls.pop();return t?pe.supported(t,this.mediaImageLoader).then((function(t){return e.waitingInitUrls=[],e.cacheLoading=void 0,t?new pe(e.mediaImageLoader):new he(e.mediaImageLoader)})).catch((function(){return e.initCache()})):Promise.reject("Unable to initialise cache based on provided url(s)")}}]),e}(),ve=function(){function e(t){a()(this,e),this.siteServiceConfig=t,this.tokens=new Map}return c()(e,[{key:"addToken",value:function(e,t){this.tokens.set(e,{mediaApiToken:t})}},{key:"getToken",value:function(e,t){var n=this.tokens.get(e);n||(n={},this.tokens.set(e,n));var r=n,o=r.mediaApiToken,i=r.activeTokenRefresh;if(o){if(Date.now()/1e3<o.expiresAt-30&&!t)return Promise.resolve(o);if(i)return i;n.mediaApiToken=void 0}var a="token/".concat(e);return n.activeTokenRefresh=re.b.requestService(this.siteServiceConfig,{path:a}).then((function(e){return n.activeTokenRefresh=void 0,n.mediaApiToken=e,e})),n.activeTokenRefresh}}]),e}();function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(){function e(t,n){var r=this;a()(this,e),y()(this,"postToEmojiService",(function(e,t){var n=e.shortName,o=e.name,i=e.width,a=e.height,l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortName:n,name:o,width:i,height:a,fileId:t})};return re.b.requestService(r.siteServiceConfig,{requestInit:l}).then((function(e){var t=e.emojis;if(t.length){var n=t[0],r=n.altRepresentations,o=le()(n,["altRepresentations"]),i=ye(ye({},o),{},{representation:Object(T.c)(o.representation)}),a=Object(oe.c)(r||{}),l=a?Object(T.c)(a):void 0;return Object(T.a)(i,l)}throw new Error("No emoji returns from upload. Upload failed.")}))})),this.siteServiceConfig=t,this.mediaApiToken=n,this.tokenManager=new ve(t),this.tokenManager.addToken("read",n),this.mediaEmojiCache=new me(this.tokenManager)}return c()(e,[{key:"loadMediaEmoji",value:function(e,t){if(!Object(T.k)(e))throw new Error("Only supported for media emoji");return this.mediaEmojiCache.loadEmoji(e,t)}},{key:"optimisticRendering",value:function(e,t){var n=t?e.altRepresentation:e.representation;if(!Object(T.l)(n))throw new Error("Only supported for media emoji");var r=n.mediaPath;return this.mediaEmojiCache.optimisticRendering(r)}},{key:"uploadEmoji",value:function(e,t){var n=this,r=Date.now();return this.tokenManager.getToken("upload").then((function(o){var i=Date.now()-r;return Object(G.a)("upload token load time",i),new Promise((function(a,l){var c=o.url,s=o.clientId,u=o.collectionName,d=Object(ce.a)({authProvider:function(){return Promise.resolve({clientId:s,token:o.jwt,baseUrl:c})}}).file.upload({content:e.dataURL,name:e.filename,collection:u}).subscribe({next:function(o){if("uploading"===o.status&&t)t({percent:.95*o.progress});else if("processing"===o.status){d.unsubscribe();var c=Date.now()-r,s=c-i;Object(G.a)("total upload / media upload times",c,s),n.postToEmojiService(e,o.id).then((function(e){a(e)})).catch((function(e){l(e.reason||e)}))}},error:function(e){l(e)}})}))}))}},{key:"hasUploadToken",value:function(){return this.tokenManager.getToken("upload").then((function(e){return void 0!==e}),(function(){return!1}))}},{key:"prepareForUpload",value:function(){this.tokenManager.getToken("upload")}},{key:"findEmoji",value:function(e){var t="../".concat(e.id);return Object(oe.b)(this.siteServiceConfig,{path:t}).then((function(e){return Object(oe.a)(e).emojis[0]})).catch((function(t){Object(G.a)("failed to load emoji",e,t)}))}},{key:"deleteEmoji",value:function(e){if(!Object(T.k)(e)&&!Object(T.j)(e))return Promise.reject(!1);var t="".concat(e.id);return re.b.requestService(this.siteServiceConfig,{path:t,requestInit:{method:"DELETE"}}).then((function(){return!0})).catch((function(){return!1}))}}]),e}();function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ce=function(e){var t=e,n=t.isUploadSupported,r=t.prepareForUpload,o=t.uploadCustomEmoji;return!!(n&&r&&o)},_e=(re.a,":raised_hand:"),we=n(588),Oe=n(364),je=n(3215),ke=n.n(je),Ie=n(3221),Te=n.n(Ie),Re=n(3219),Ee=n.n(Re),Pe=n(3214),ze=n.n(Pe),xe=n(3211),Me=n.n(xe),Ae=n(3213),De=n.n(Ae),Le=n(3217),Ne=n.n(Le),Fe=n(3212),Ue=n.n(Fe),We=n(3218),Be=n.n(We),qe=n(3216),Ge=n.n(qe),He=n(3220),Ve=n.n(He),Qe={SEARCH:{id:"SEARCH",name:"categoriesSearchResults",icon:void 0,order:0},FREQUENT:{id:"FREQUENT",name:"frequentCategory",icon:Me.a,order:1},PEOPLE:{id:"PEOPLE",name:"peopleCategory",icon:Ue.a,order:2},NATURE:{id:"NATURE",name:"natureCategory",icon:De.a,order:3},FOODS:{id:"FOODS",name:"foodsCategory",icon:ze.a,order:4},ACTIVITY:{id:"ACTIVITY",name:"activityCategory",icon:ke.a,order:5},PLACES:{id:"PLACES",name:"placesCategory",icon:Ge.a,order:6},OBJECTS:{id:"OBJECTS",name:"objectsCategory",icon:Ne.a,order:7},SYMBOLS:{id:"SYMBOLS",name:"symbolsCategory",icon:Be.a,order:8},FLAGS:{id:"FLAGS",name:"flagsCategory",icon:Ee.a,order:9},ATLASSIAN:{id:"ATLASSIAN",name:"productivityCategory",icon:Ve.a,order:10},USER_CUSTOM:{id:I.b,name:I.m,icon:Te.a,order:11},CUSTOM:{id:I.b,name:I.c,icon:Te.a,order:12}},Ke=n(277);function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Je=function(e,t){return Qe[e].order-Qe[t].order},Ze=function(e,t){return t?e.concat(t.filter((function(e){return!!Qe[e]}))).sort(Je):e},Ye=function(e){f()(n,e);var t=$e(n);function n(e){var r;a()(this,n),r=t.call(this,e),y()(u()(r),"onClick",(function(e){var t=r.props,n=t.onCategorySelected;if(t.disableCategories)e.preventDefault();else{var o=e.currentTarget.getAttribute("data-category-id");n&&n(o)}}));var o=e.dynamicCategories,i=I.e;return o&&(i=Ze(i,o)),r.state={categories:i},r}return c()(n,[{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.dynamicCategories!==e.dynamicCategories&&this.setState({categories:Ze(I.e,e.dynamicCategories)})}},{key:"render",value:function(){var e,t=this,n=this.props.disableCategories,r=this.state.categories;return r&&(e=O.a.createElement("ul",null,r.map((function(e){var r=Qe[e],o=[Ke.b];e===t.props.activeCategoryId&&o.push(Ke.a),n&&o.push(Ke.d);var i=r.icon;return O.a.createElement("li",{key:r.id},O.a.createElement(j.a,Oe.a[r.name],(function(e){return O.a.createElement("button",{"data-category-id":r.id,className:b()(o),onClick:t.onClick,title:e,type:"button"},O.a.createElement(i,{label:e}))})))})))),O.a.createElement("div",{className:b()([Ke.c])},e)}}]),n}(w.PureComponent);y()(Ye,"defaultProps",{onCategorySelected:function(){},dynamicCategories:[]});var Xe=n(27),et=n.n(Xe),tt=n(2639),nt=n(590),rt=n(515),ot=n.n(rt),it=n(2439);function at(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var lt=function(e){f()(n,e);var t=at(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"renderWithTooltip",value:function(){return O.a.createElement("div",{className:this.props.className},O.a.createElement(it.a,{content:this.props.message,position:"top"},O.a.createElement(ot.a,{label:"Error",size:"medium"})))}},{key:"renderInline",value:function(){return O.a.createElement("div",{className:this.props.className},O.a.createElement(ot.a,{label:"Error",size:"small"})," ",this.props.message)}},{key:"render",value:function(){return this.props.tooltip?this.renderWithTooltip():this.renderInline()}}]),n}(w.PureComponent),ct=n(1414),st=n(88);function ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var dt=function(e){f()(n,e);var t=ut(n);function n(e){return a()(this,n),t.call(this,e)}return c()(n,[{key:"renderLoading",value:function(){return O.a.createElement("span",{className:st.d},O.a.createElement(ct.a,null))}},{key:"renderRetry",value:function(){var e=this.props,t=e.loading,n=e.retryClassName,r=e.onSubmit;return t?this.renderLoading():O.a.createElement(j.a,Oe.a.retryLabel,(function(e){return O.a.createElement(tt.a,{className:n,appearance:"warning",onClick:r},e)}))}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.error,r=e.className,o=e.appearance,i=e.onSubmit,a=e.label;return n?this.renderRetry():t?this.renderLoading():O.a.createElement(tt.a,{className:r,appearance:o,onClick:i},a)}}]),n}(w.Component);function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var pt=function(e){f()(n,e);var t=ft(n);function n(e){var r;return a()(this,n),r=t.call(this,e),y()(u()(r),"onSubmit",(function(){var e=r.props,t=e.emoji,n=e.onDeleteEmoji,o=e.onCloseDelete;r.state.loading||(r.setState({loading:!0}),n(t).then((function(e){e?o():r.setState({loading:!1,error:!0})})))})),y()(u()(r),"onCancel",(function(){r.props.onCloseDelete()})),r.state={loading:!1,error:!1},r}return c()(n,[{key:"UNSAFE_componentWillUpdate",value:function(e){e.emoji.id!==this.props.emoji.id&&this.setState({error:!1})}},{key:"render",value:function(){var e=this,t=this.props.emoji,n=this.state,r=n.loading,o=n.error;return O.a.createElement("div",{className:st.i},O.a.createElement("div",{className:st.j},O.a.createElement("h5",null,O.a.createElement(j.a,Oe.a.deleteEmojiTitle)),O.a.createElement(j.a,et()({},Oe.a.deleteEmojiDescription,{values:{emojiShortName:t.shortName}}))),O.a.createElement("div",{className:st.h},O.a.createElement(nt.a,{emoji:t}),O.a.createElement("div",{className:st.B},o?O.a.createElement(j.a,Oe.a.deleteEmojiFailed,(function(e){return r?null:O.a.createElement(lt,{message:e,className:st.o,tooltip:!0})})):null,O.a.createElement(j.a,Oe.a.deleteEmojiLabel,(function(t){return O.a.createElement(dt,{className:st.O,retryClassName:st.S,label:t,onSubmit:e.onSubmit,appearance:"danger",loading:r,error:o})})),O.a.createElement(tt.a,{appearance:"subtle",onClick:this.onCancel,className:st.f},O.a.createElement(j.a,Oe.a.cancelLabel)))))}}]),n}(w.Component),ht=n(1262),mt=n(3402),vt=n(6),gt=n(65),yt=n(16),St=n(2),bt={light:St.N20,dark:St.DN20},Ct={light:St.R400,dark:St.R400},_t=Object(gt.a)("appearance",{standard:{light:St.N10,dark:St.DN10},disabled:bt,invalid:{light:St.N10,dark:St.DN10},subtle:{light:"transparent",dark:"transparent"},none:{light:"transparent",dark:"transparent"}}),wt=Object(gt.a)("appearance",{standard:{light:St.N0,dark:St.DN10},disabled:bt,invalid:{light:St.N0,dark:St.DN10},subtle:{light:St.N0,dark:St.DN10},none:{light:"transparent",dark:"transparent"}}),Ot=Object(gt.a)("appearance",{standard:{light:St.N30,dark:St.DN30},disabled:bt,invalid:{light:St.N30,dark:St.DN30},subtle:{light:St.N30,dark:St.DN30},none:{light:"transparent",dark:"transparent"}}),jt=Object(gt.a)("appearance",{standard:{light:St.N40,dark:St.DN40},disabled:{light:St.N40,dark:St.DN40},invalid:Ct,subtle:{light:"transparent",dark:"transparent"},none:{light:"transparent",dark:"transparent"}}),kt=Object(gt.a)("appearance",{standard:{light:St.B100,dark:St.B75},disabled:{light:St.B100,dark:St.B75},invalid:{light:St.B100,dark:St.B75},subtle:{light:St.B100,dark:St.B75},none:{light:"transparent",dark:"transparent"}}),It=Object(yt.h)(),Tt=2.5*It,Rt=2*It,Et=5*It,Pt=4*It,zt=It,xt=3*It,Mt="0.2s",At=Object(gt.a)({light:St.N70,dark:St.DN90}),Dt=vt.c.div.withConfig({displayName:"Content__ChildWrapper",componentId:"ve26fj-0"})(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  max-width: 100%;\n  ",";\n"],(function(e){return function(e){var t=e.compact?Pt:Et;return Object(vt.b)(["\n    min-height: ","px;\n  "],t)}(e)})),Lt=Object(gt.a)({light:St.N900,dark:St.DN600}),Nt=vt.c.div.withConfig({displayName:"Content",componentId:"ve26fj-1"})(["\n  align-items: center;\n  background-color: ",";\n  border-color: ",";\n  border-radius: ",";\n  border-style: ",";\n  box-sizing: border-box;\n  color: ",";\n  display: flex;\n  flex: 1 0 auto;\n  font-size: ","px;\n  justify-content: space-between;\n  line-height: ",";\n  max-width: 100%;\n  overflow: hidden;\n  transition: background-color "," ease-in-out,\n    border-color "," ease-in-out;\n  word-wrap: break-word;\n  "," "," ",";\n"],(function(e){return e.isFocused?wt(e):_t(e)}),(function(e){return e.isFocused?kt(e):jt(e)}),"3px",(function(e){return"none"===e.appearance?"none":"solid"}),Lt,yt.f,(function(e){return(e.compact?Rt:Tt)/Object(yt.f)()}),Mt,Mt,(function(e){var t=e.paddingDisabled,n=e.compact,r=t?"0":"".concat(((n?Pt:Et)-4-xt)/2,"px ").concat(zt-2,"px");return Object(vt.b)(["\n    border-width: ","px;\n    padding: ",";\n  "],2,r)}),(function(e){return e.readOnly||e.isFocused||e.none?null:Object(vt.b)(["\n    &:hover {\n      background-color: ",";\n    }\n  "],Ot(e))}),(function(e){return e.disabled&&Object(vt.b)(["\n    color: ",";\n    pointer-events: none;\n  "],At(e))})),Ft=function(e){return e?"".concat(e,"px"):"100%"},Ut=vt.c.div.withConfig({displayName:"Content__ContentWrapper",componentId:"ve26fj-2"})(["\n  "," "," "," max-width: ",";\n"],(function(e){return e.disabled&&"\n      cursor: not-allowed;\n    "}),(function(e){return e.grow?Object(vt.b)(["\n          flex: 0 0 ",";\n        "],Ft(e.maxWidth)):"\n          flex: 0 0 auto;\n        "}),(function(e){return e.grow?"\n          display: block;\n        ":"\n          display: inline-block;\n          vertical-align: top;\n        "}),(function(e){return Ft(e.maxWidth)})),Wt=n(855),Bt=n.n(Wt);function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Gt=vt.c.div.withConfig({displayName:"ValidationElement__WarningIcon",componentId:"sc-1fk9yms-0"})(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex-shrink: 0;\n"],St.yellow),Ht=vt.c.div.withConfig({displayName:"ValidationElement__SpinnerParent",componentId:"sc-1fk9yms-1"})(["\n  height: 20px;\n  margin-left: 10px;\n"]),Vt=function(e){f()(n,e);var t=qt(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){return!this.props.isDisabled&&this.props.isInvalid?O.a.createElement(Gt,null,O.a.createElement(Bt.a,{label:"warning"})):this.props.isLoading?O.a.createElement(Ht,null,O.a.createElement(ct.a,{size:"small"})):null}}]),n}(w.Component);function Qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}y()(Vt,"defaultProps",{isDisabled:!1,isInvalid:!1,isLoading:!1});var Kt=function(e){f()(n,e);var t=Qt(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidUpdate",value:function(){this.props.shouldReset&&this.props.onBlur()}},{key:"render",value:function(){var e,t=this.props,n=t.appearance,r=t.children,o=t.invalidMessage,i=t.isCompact,a=t.isDialogOpen,l=t.isDisabled,c=t.isFitContainerWidthEnabled,s=t.isFocused,u=t.isInvalid,d=t.isLoading,f=t.isPaddingDisabled,p=t.isReadOnly,h=t.maxWidth,m=t.onBlur,v=t.onDialogBlur,g=t.onDialogClick,y=t.onDialogFocus,S=t.onFocus,b=t.isValidationHidden;return O.a.createElement(Ut,{disabled:l,maxWidth:h,grow:c},O.a.createElement(mt.a,{content:o,isOpen:a&&!!o&&!b,onContentBlur:v,onContentClick:g,onContentFocus:y,placement:"right"},O.a.createElement(Dt,{compact:i},O.a.createElement(Nt,{appearance:(e=n,l?"disabled":u?"invalid":e),compact:i,disabled:l,isFocused:s,invalid:u&&!s,none:"none"===n,onBlurCapture:m,onFocusCapture:S,paddingDisabled:f,readOnly:p,subtle:"subtle"===n},r,b?null:O.a.createElement(Vt,{isDisabled:l,isInvalid:u,isLoading:d})))))}}]),n}(w.Component);function $t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}y()(Kt,"defaultProps",{appearance:"standard",invalidMessage:"",isCompact:!1,isDialogOpen:!1,isDisabled:!1,isFitContainerWidthEnabled:!1,isFocused:!1,isInvalid:!1,isLoading:!1,isPaddingDisabled:!1,isReadOnly:!1,onDialogBlur:function(){},onDialogClick:function(){},onDialogFocus:function(){},shouldReset:!1,isValidationHidden:!1});var Jt="onBlurKey",Zt="onContentBlurKey";function Yt(e){setTimeout(e,0)}var Xt=function(e){f()(n,e);var t=$t(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),y()(u()(e),"state",{isFocused:e.props.defaultIsFocused,isDialogFocused:!1,shouldIgnoreNextDialogBlur:!1}),y()(u()(e),"timers",void 0),y()(u()(e),"onFocus",(function(t){e.setState({isFocused:!0}),e.props.onFocus(t),e.cancelSchedule(Jt)})),y()(u()(e),"onBlur",(function(t){e.reschedule(Jt,(function(){e.setState({isFocused:!1}),e.props.onBlur(t)}))})),y()(u()(e),"onContentFocus",(function(){e.state.isDialogFocused?e.setState({shouldIgnoreNextDialogBlur:!0}):e.setState({isDialogFocused:!0}),e.cancelSchedule(Zt)})),y()(u()(e),"onContentBlur",(function(){Yt((function(){e.state.shouldIgnoreNextDialogBlur?e.setState({shouldIgnoreNextDialogBlur:!1}):e.setState({isDialogFocused:!1})}))})),e}return c()(n,[{key:"cancelSchedule",value:function(e){this.timers=this.timers||{},this.timers[e]&&(clearTimeout(this.timers[e]),delete this.timers[e])}},{key:"reschedule",value:function(e,t){var n=this;this.timers=this.timers||{},this.cancelSchedule(e),this.timers[e]=setTimeout((function(){t(),n.cancelSchedule(e)}),0)}},{key:"componentWillUnmount",value:function(){this.cancelSchedule(Jt)}},{key:"render",value:function(){var e=this.props,t=(e.defaultIsFocused,le()(e,["defaultIsFocused"])),n=this.state,r=n.isFocused,o=n.isDialogFocused;return O.a.createElement(Kt,et()({},t,{isDialogOpen:r||o,isFocused:r,onBlur:this.onBlur,onFocus:this.onFocus,onDialogFocus:this.onContentFocus,onDialogBlur:this.onContentBlur}))}}]),n}(w.Component);y()(Xt,"defaultProps",{defaultIsFocused:!1,onFocus:function(){},onBlur:function(){}});var en,tn=n(494);function nn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}!function(e){e[e.Waiting=0]="Waiting",e[e.Uploading=1]="Uploading",e[e.Error=2]="Error"}(en||(en={}));var rn=function(e){f()(n,e);var t=nn(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e,t=this.props,n=t.name,r=t.previewImage,o=t.uploadStatus,i=t.errorMessage,a=t.onAddEmoji,l=t.onUploadCancelled;if(r){var c={shortName:":".concat(n,":"),type:I.b,category:I.b,representation:{imagePath:r,width:24,height:24},searchable:!0};e=O.a.createElement(tn.a,{emoji:c})}var s=o===en.Uploading;return O.a.createElement("div",{className:st.Q},O.a.createElement("div",{className:st.P},O.a.createElement("div",{className:st.R},O.a.createElement("h5",null,O.a.createElement(j.a,Oe.a.emojiPreviewTitle)),O.a.createElement(j.a,et()({},Oe.a.emojiPreview,{values:{emoji:e}}))),O.a.createElement("div",{className:st.c},e)),O.a.createElement("div",{className:st.J},!s&&i?O.a.createElement(lt,{className:st.s,message:i,tooltip:!0}):null,O.a.createElement(j.a,Oe.a.addEmojiLabel,(function(e){return O.a.createElement(dt,{className:st.O,retryClassName:st.S,label:e,onSubmit:a,appearance:"primary",loading:s,error:!!i})})),O.a.createElement(tt.a,{onClick:l,appearance:"subtle",isDisabled:s,className:st.f},O.a.createElement(j.a,Oe.a.cancelLabel))))}}]),n}(w.PureComponent);function on(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var an=function(e){f()(n,e);var t=on(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),y()(u()(e),"onChooseFile",(function(){e.props.onClick&&e.props.onClick();var t=e.refs.chooseFile;t&&t.click()})),e}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.accept,n=e.ariaLabel,r=e.isDisabled,o=e.label,i=e.onChange;return O.a.createElement("span",null,O.a.createElement(tt.a,{onClick:this.onChooseFile,isDisabled:r,"aria-label":n||o},o),O.a.createElement("input",{className:"emojiUploadFileInput",ref:"chooseFile",onChange:i,type:"file",accept:t,style:{display:"none"}}))}}]),n}(w.PureComponent);function ln(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var cn=new Map([[":",""],["!",""],["@",""],["#",""],["%",""],["^",""],["&",""],["*",""],["(",""],[")",""],[" ","_"]]),sn=function(e){return cn.forEach((function(t,n){e=e.split(n).join(t)})),e},un=function(e){var t=e.split("_").join(" ");return"".concat(t.substr(0,1).toLocaleUpperCase()).concat(t.substr(1))},dn=function(e){f()(n,e);var t=ln(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),y()(u()(e),"onKeyDown",(function(t){"Escape"===t.key&&e.props.onUploadCancelled()})),e}return c()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,r=void 0===n?"":n,o=t.onChooseFile,i=t.onClick,a=t.onNameChange,l=t.errorMessage,c=!r;return O.a.createElement("div",{className:st.v},O.a.createElement("div",{className:st.M},O.a.createElement(j.a,Oe.a.addCustomEmojiLabel,(function(e){return O.a.createElement("h5",null,e)}))),O.a.createElement("div",{className:st.N},O.a.createElement("span",{className:st.L},O.a.createElement(Xt,{appearance:"standard",isCompact:!0,defaultIsFocused:!0,isFitContainerWidthEnabled:!0},O.a.createElement(j.a,Oe.a.emojiPlaceholder,(function(t){return O.a.createElement(j.a,Oe.a.emojiNameAriaLabel,(function(n){return O.a.createElement("input",{placeholder:t,"aria-label":n,maxLength:50,onChange:a,onKeyDown:e.onKeyDown,value:r,ref:"name",autoFocus:!0})}))})))),O.a.createElement("span",{className:st.K},O.a.createElement(j.a,Oe.a.emojiChooseFileTitle,(function(e){return O.a.createElement(j.a,Oe.a.emojiChooseFileAriaLabel,(function(t){return O.a.createElement(an,{label:e,onChange:o,onClick:i,accept:"image/png,image/jpeg,image/gif",ariaLabel:t,isDisabled:c})}))})))),O.a.createElement("div",{className:st.w},l?O.a.createElement(lt,{className:st.m,message:l}):O.a.createElement("p",null,O.a.createElement(j.a,Oe.a.emojiImageRequirements))))}}]),n}(w.PureComponent),fn=function(e){f()(n,e);var t=ln(n);function n(e){var r;return a()(this,n),r=t.call(this,e),y()(u()(r),"state",{uploadStatus:en.Waiting,chooseEmojiErrorMessage:void 0}),y()(u()(r),"onNameChange",(function(e){var t=sn(e.target.value);r.state.name!==t&&r.setState({name:t})})),y()(u()(r),"onAddEmoji",(function(){var e,t=r.props.onUploadEmoji,n=r.state,o=n.filename,i=n.name,a=n.previewImage,l=n.uploadStatus;if(l!==en.Uploading&&(o&&i&&a)){var c=function(e){var n=e.width,c=e.height;r.setState({uploadStatus:en.Uploading}),t({name:un(i),shortName:":".concat(i,":"),filename:o,dataURL:a,width:n,height:c},l===en.Error)};(e=a,new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){t({width:r.naturalWidth,height:r.naturalHeight})})),r.addEventListener("error",n),r.src=e}))).then((function(e){c(e)})).catch((function(e){Object(G.a)("getNaturalImageSize error",e),c({width:32,height:32})}))}})),y()(u()(r),"errorOnUpload",(function(e){Object(G.a)("File load error: ",e),r.setState({chooseEmojiErrorMessage:Oe.a.emojiUploadFailed}),r.cancelChooseFile()})),y()(u()(r),"onFileLoad",(function(e){return function(t){return(n=t.target.result,new Promise((function(e,t){var r=new Image;r.onload=function(){return e({src:r.src})},r.onerror=function(){return t()},r.src=n}))).then((function(){var n={previewImage:t.target.result,filename:e.name};r.setState(n)})).catch((function(){r.setState({chooseEmojiErrorMessage:Oe.a.emojiInvalidImage}),r.cancelChooseFile()}));var n}})),y()(u()(r),"cancelChooseFile",(function(){r.setState({previewImage:void 0})})),y()(u()(r),"onChooseFile",(function(e){var t=e.target.files;if(t.length){var n=new FileReader,o=t[0];if(function(e){return e&&e.size>1048576}(o))return r.setState({chooseEmojiErrorMessage:Oe.a.emojiImageTooBig}),void r.cancelChooseFile();n.addEventListener("load",r.onFileLoad(o)),n.addEventListener("abort",r.errorOnUpload),n.addEventListener("error",r.errorOnUpload),n.readAsDataURL(o)}else r.cancelChooseFile()})),y()(u()(r),"clearUploadPicker",(function(){r.setState({name:void 0,previewImage:void 0,uploadStatus:en.Waiting})})),e.errorMessage&&(r.state.uploadStatus=en.Error),e.initialUploadName&&(r.state.name=sn(e.initialUploadName)),r}return c()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t={};e.errorMessage?t.uploadStatus=en.Error:this.state.uploadStatus===en.Error&&(t.uploadStatus=en.Waiting),e.initialUploadName&&(this.state.name||(t.name=sn(e.initialUploadName))),this.setState(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.errorMessage,r=t.onUploadCancelled,o=this.state,i=o.name,a=o.previewImage,l=o.uploadStatus,c=o.chooseEmojiErrorMessage,s=function(){e.clearUploadPicker(),r()};return i&&a?O.a.createElement(rn,{errorMessage:n,name:i,onAddEmoji:this.onAddEmoji,onUploadCancelled:s,previewImage:a,uploadStatus:l}):O.a.createElement(dn,{name:i,onChooseFile:this.onChooseFile,onClick:this.props.onFileChooserClicked,onNameChange:this.onNameChange,onUploadCancelled:s,errorMessage:c?O.a.createElement(j.a,c):void 0})}}]),n}(w.PureComponent);function pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var hn=function(e){f()(n,e);var t=pn(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.initialUploadName,n=e.onToneSelected,r=e.onToneSelectorCancelled,o=e.onUploadCancelled,i=e.onUploadEmoji,a=e.onCloseDelete,l=e.onDeleteEmoji,c=e.selectedEmoji,s=e.selectedTone,u=e.toneEmoji,d=e.uploadErrorMessage,f=e.uploading,p=e.onFileChooserClicked,h=e.onOpenUpload,m=e.uploadEnabled,v=e.emojiToDelete,g=b()([Ke.h,Ke.i]);return f?O.a.createElement("div",{className:g},O.a.createElement(fn,{onUploadCancelled:o,onUploadEmoji:i,onFileChooserClicked:p,errorMessage:d,initialUploadName:t})):v?O.a.createElement("div",{className:g},O.a.createElement(pt,{emoji:v,onDeleteEmoji:l,onCloseDelete:a})):O.a.createElement("div",{className:g},O.a.createElement(ht.a,{emoji:c,toneEmoji:u,selectedTone:s,onToneSelected:n,onToneSelectorCancelled:r,onOpenUpload:h,uploadEnabled:m}))}}]),n}(w.PureComponent),mn=n(3222),vn=function(){function e(){a()(this,e),this.reset()}return c()(e,[{key:"reset",value:function(){this.categoryToRow=new Map,this.rowToCategory=new Map}},{key:"add",value:function(e,t){this.categoryToRow.has(e)||(this.categoryToRow.set(e,t),this.rowToCategory.set(t,e))}},{key:"getRow",value:function(e){return this.categoryToRow.get(e)}},{key:"findNearestCategoryAbove",value:function(e,t){var n=Array.from(this.rowToCategory.keys()).sort((function(e,t){return e-t}));if(0!==n.length){if(!t||n[0]>e)return this.rowToCategory.get(n[0]);for(var r=[0,n.length-1],o=Math.floor(n.length/2);n[o]!==e&&r[0]<r[1];)n[o]>e?r[1]=Math.max(o-1,0):r[0]=o+1,o=Math.floor((r[0]+r[1])/2);var i=n[n[o]>e?Math.max(o-1,0):o];return this.rowToCategory.get(i)}}}]),e}(),gn=n(656),yn=n(1263),Sn=n(2722),bn=n.n(Sn);function Cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var _n=function(e){f()(n,e);var t=Cn(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),y()(u()(e),"onBlur",(function(){var t=document.activeElement;t instanceof HTMLElement&&t.getAttribute("data-emoji-picker-container")&&e.restoreInputFocus()})),y()(u()(e),"onChange",(function(t){e.saveInputSelection(),e.props.onChange(t)})),y()(u()(e),"focusInput",(function(){e.inputRef&&e.inputRef.focus()})),y()(u()(e),"handleInputRef",(function(t){t&&(e.inputRef=t,window.setTimeout(e.focusInput))})),e}return c()(n,[{key:"saveInputSelection",value:function(){if(this.inputSelection=void 0,this.inputRef){var e=this.inputRef,t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection;t&&n&&r&&(this.inputSelection={selectionStart:t,selectionEnd:n,selectionDirection:r})}}},{key:"restoreInputFocus",value:function(){if(this.focusInput(),this.inputSelection&&this.inputRef&&this.inputRef.setSelectionRange){var e=this.inputSelection,t=e.selectionStart,n=e.selectionEnd,r=e.selectionDirection;this.inputRef.setSelectionRange(t,n,r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.query;return O.a.createElement("div",{className:Ke.n,style:n},O.a.createElement(j.a,Oe.a.searchLabel,(function(t){return O.a.createElement(Xt,{appearance:"standard",isCompact:!0,isFitContainerWidthEnabled:!0},O.a.createElement("span",{className:Ke.o},O.a.createElement(bn.a,{label:t})),O.a.createElement("input",{className:Ke.m,autoComplete:"off",disabled:!1,name:"search",placeholder:"".concat(t,"..."),required:!1,onChange:e.onChange,value:r||"",ref:e.handleInputRef,onBlur:e.onBlur}))})))}}]),n}(w.PureComponent);function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}y()(_n,"defaultProps",{style:{}});var kn=function(e,t){return(e.order||0)-(t.order||0)},In=function(e){f()(n,e);var t=jn(n);function n(e){var r;return a()(this,n),r=t.call(this,e),y()(u()(r),"virtualItems",[]),y()(u()(r),"categoryTracker",new vn),y()(u()(r),"onEmojiMouseEnter",(function(e,t){r.props.onEmojiActive&&r.props.onEmojiActive(e,t)})),y()(u()(r),"onSearch",(function(e){r.props.onSearch&&r.props.onSearch(e.target.value)})),y()(u()(r),"buildVirtualItemFromGroup",(function(e){var t=r.props,n=t.onEmojiSelected,o=t.onEmojiDelete,i=[];i.push(new yn.a({id:e.category,title:e.title,className:"emoji-category"}));for(var a=e.emojis;a.length>0;){var l=a.slice(0,gn.a.emojiPerRow);a=a.slice(gn.a.emojiPerRow),i.push(new yn.b({emojis:l,title:e.title,showDelete:e.title===I.m,onSelected:n,onDelete:o,onMouseMove:r.onEmojiMouseEnter}))}return i})),y()(u()(r),"buildVirtualItems",(function(e,t){var n=e.emojis,i=e.loading,a=e.query,l=[];if(r.categoryTracker.reset(),i)l.push(new yn.c);else if(a){var c=Qe.SEARCH;l=[].concat(o()(l),o()(r.buildVirtualItemFromGroup({category:"SEARCH",title:c.name,emojis:n,order:c.order})))}else r.allEmojiGroups.forEach((function(e){r.categoryTracker.add(e.emojis[0].category,l.length),l=[].concat(o()(l),o()(r.buildVirtualItemFromGroup(e)))}));var s=r.virtualItems.length!==l.length;r.virtualItems=l;var u=r.refs.list;!s&&u&&u.forceUpdateGrid(),!a&&u&&u.recomputeRowHeights()})),y()(u()(r),"addToCategoryMap",(function(e,t,n){if(!e[n]){var r=Qe[n];e[n]={emojis:[],title:r.name,category:n,order:r.order}}return e[n].emojis.push(t),e})),y()(u()(r),"groupByCategory",(function(e){return function(t,n){return r.addToCategoryMap(t,n,n.category),n.category===I.b&&e&&n.creatorUserId===e.id&&r.addToCategoryMap(t,n,"USER_CUSTOM"),t}})),y()(u()(r),"buildEmojiGroupedByCategory",(function(e,t){var n=e.reduce(r.groupByCategory(t),{});r.allEmojiGroups=Object.keys(n).map((function(e){return n[e]})).map((function(e){return"FREQUENT"!==e.category&&e.emojis.sort(kn),e})).sort(kn)})),y()(u()(r),"repaintList",(function(){if(r.refs.root){var e=r.refs.root,t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}})),y()(u()(r),"checkCategoryIdChange",(function(e){var t=e.startIndex;if(0===t&&r.repaintList(),!r.props.query){var n=r.refs.list,o=r.categoryTracker.findNearestCategoryAbove(t,n);o&&r.activeCategoryId!==o&&(r.activeCategoryId=o,r.props.onCategoryActivated&&r.props.onCategoryActivated(o))}})),y()(u()(r),"rowSize",(function(e){var t=e.index;return r.virtualItems[t].height})),y()(u()(r),"renderRow",(function(e){return Object(yn.d)(r.virtualItems,e)})),r.buildEmojiGroupedByCategory(e.emojis,e.currentUser),r.buildVirtualItems(e,r.state),r}return c()(n,[{key:"getChildContext",value:function(){return{emoji:On({},this.context.emoji)}}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.props.emojis===e.emojis&&this.props.selectedTone===e.selectedTone&&this.props.loading===e.loading&&this.props.query===e.query||(e.query||this.buildEmojiGroupedByCategory(e.emojis,e.currentUser),this.buildVirtualItems(e,t))}},{key:"reveal",value:function(e){var t=this.categoryTracker.getRow(e);this.refs.list.scrollToRow(t)}},{key:"scrollToBottom",value:function(){this.refs.list.scrollToRow(this.virtualItems.length)}},{key:"render",value:function(){var e=this.props,t=e.onMouseLeave,n=e.onMouseEnter,r=e.query,o=[Ke.j];return O.a.createElement("div",{ref:"root",className:b()(o),onMouseLeave:t,onMouseEnter:n},O.a.createElement(_n,{onChange:this.onSearch,query:r}),O.a.createElement(mn.List,{ref:"list",height:gn.a.listHeight,overscanRowCount:5,rowCount:this.virtualItems.length,rowHeight:this.rowSize,rowRenderer:this.renderRow,scrollToAlignment:"start",width:gn.a.listWidth,className:Ke.p,onRowsRendered:this.checkCategoryIdChange}))}}]),n}(w.PureComponent);function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}y()(In,"contextTypes",{emoji:_.a.object}),y()(In,"childContextTypes",{emoji:_.a.object}),y()(In,"defaultProps",{onEmojiSelected:function(){},onEmojiActive:function(){},onEmojiDelete:function(){},onCategoryActivated:function(){},onSearch:function(){}});var Pn=function(e){f()(n,e);var t=En(n);function n(e){var r;a()(this,n),r=t.call(this,e),y()(u()(r),"onEmojiActive",(function(e,t){r.state.selectedEmoji!==t?r.setState({selectedEmoji:t,showUploadButton:!1}):r.setState({showUploadButton:!1})})),y()(u()(r),"onCategoryActivated",(function(e){r.state.activeCategory!==e&&r.setState({activeCategory:e})})),y()(u()(r),"onCategorySelected",(function(e){var t=r.props.emojiProvider;e&&t.findInCategory(e).then((function(t){if(!r.state.disableCategories){var n;t&&t.length>0&&(n=ee(t[0],{skinTone:r.state.selectedTone}));var o=r.refs.emojiPickerList;o&&o.reveal(e),r.setState({activeCategory:e,selectedEmoji:n}),r.fireAnalytics(Object(we.a)({category:e}))}}))})),y()(u()(r),"onFileChooserClicked",(function(){r.fireAnalytics(Object(we.n)())})),y()(u()(r),"onEmojiPickerMouseLeave",(function(){r.setState({showUploadButton:!0})})),y()(u()(r),"onEmojiPickerMouseEnter",(function(){r.setState({showUploadButton:!1})})),y()(u()(r),"fireAnalytics",(function(e){var t=r.props.createAnalyticsEvent;t&&Object(we.c)(e)(t)})),y()(u()(r),"calculateElapsedTime",(function(){return Date.now()-r.openTime})),y()(u()(r),"onUploadSupported",(function(e){r.setState({uploadSupported:e})})),y()(u()(r),"onSearch",(function(e){r.updateEmojis(e,{skinTone:r.state.selectedTone})})),y()(u()(r),"onSearchResult",(function(e){var t=r.state.frequentlyUsedEmojis||[],n=e.query||"",o=r.buildQuerySpecificEmojiList(n,e.emojis,t);n!==r.state.query&&r.fireAnalytics(Object(we.k)({queryLength:n.length,numMatches:o.length})),r.setStateAfterEmojiChange(n,o,e.emojis,t)})),y()(u()(r),"onFrequentEmojiResult",(function(e){var t=r.state,n=t.query,o=t.searchEmojis,i=e.map((function(e){var t=JSON.parse(JSON.stringify(e));return t.category=I.j,t})),a=r.buildQuerySpecificEmojiList(n,o,i);r.setStateAfterEmojiChange(n,a,o,i)})),y()(u()(r),"onDynamicCategoryChange",(function(e){r.setState({dynamicCategories:e})})),y()(u()(r),"onProviderChange",{result:r.onSearchResult}),y()(u()(r),"onToneSelected",(function(e){r.setState({selectedTone:e}),r.props.emojiProvider.setSelectedTone(e);var t=r.state.query,n=void 0===t?"":t;r.updateEmojis(n,{skinTone:e})})),y()(u()(r),"onToneSelectorCancelled",(function(){r.fireAnalytics(Object(we.p)())})),y()(u()(r),"updateEmojis",(function(e,t){if(!e){t||(t={}),t.sort||(t.sort=R.a.None);var n=Rn(Rn({},t),{},{sort:R.a.None,limit:16});r.props.emojiProvider.getFrequentlyUsed(n).then(r.onFrequentEmojiResult)}r.props.emojiProvider.filter(e,t)})),y()(u()(r),"onOpenUpload",(function(){var e=r.props.emojiProvider;Ce(e)&&e.prepareForUpload(),r.setState({uploadErrorMessage:void 0,uploading:!0}),r.fireAnalytics(Object(we.r)())})),y()(u()(r),"onUploadEmoji",(function(e,t){var n=r.props.emojiProvider;r.fireAnalytics(Object(we.t)({retry:t}));!function(e,t,n,r,o){var i=Date.now();n(void 0),Ce(t)&&t.uploadCustomEmoji(e).then((function(e){o(Object(we.v)({duration:Date.now()-i})),r(e)})).catch((function(e){n(Oe.a.emojiUploadFailed),console.error("Unable to upload emoji",e),o(Object(we.u)({duration:Date.now()-i,reason:Oe.a.emojiUploadFailed.defaultMessage}))}))}(e,n,(function(e){r.setState({uploadErrorMessage:e})}),(function(e){r.setState({activeCategory:I.b,selectedEmoji:e,uploading:!1}),r.scrollToEndOfList()}),r.fireAnalytics)})),y()(u()(r),"onTriggerDelete",(function(e,t){r.fireAnalytics(Object(we.d)({emojiId:e.id})),r.setState({emojiToDelete:t})})),y()(u()(r),"onCloseDelete",(function(){var e=r.state.emojiToDelete;r.fireAnalytics(Object(we.e)({emojiId:e&&e.id})),r.setState({emojiToDelete:void 0})})),y()(u()(r),"onDeleteEmoji",(function(e){var t=r.state,n=t.emojiToDelete,o=t.query,i=t.selectedTone;return r.fireAnalytics(Object(we.f)({emojiId:n&&n.id})),r.props.emojiProvider.deleteSiteEmoji(e).then((function(e){return e&&r.updateEmojis(o,{skinTone:i}),e}))})),y()(u()(r),"scrollToEndOfList",(function(){var e=r.refs.emojiPickerList;e&&window.setTimeout((function(){e.scrollToBottom()}),0)})),y()(u()(r),"onUploadCancelled",(function(){r.setState({uploading:!1,uploadErrorMessage:void 0}),r.fireAnalytics(Object(we.s)())})),y()(u()(r),"handlePickerRef",(function(e){r.props.onPickerRef&&r.props.onPickerRef(e)})),y()(u()(r),"onSelectWrapper",(function(e,t,n){var o=r.props.onSelection,i=r.state.query;o&&(o(e,t,n),r.fireAnalytics(Object(we.j)({duration:r.calculateElapsedTime(),emojiId:e.id||"",category:t&&t.category||"",type:t&&t.type||"",queryLength:i&&i.length||0})))}));var o=e.emojiProvider,i=e.hideToneSelector;return r.state={filteredEmojis:[],searchEmojis:[],frequentlyUsedEmojis:[],query:"",dynamicCategories:[],selectedTone:i?void 0:o.getSelectedTone(),loading:!0,uploadSupported:!1,uploading:!1,showUploadButton:!0},r.openTime=0,r}return c()(n,[{key:"getChildContext",value:function(){return{emoji:{emojiProvider:this.props.emojiProvider}}}},{key:"UNSAFE_componentWillMount",value:function(){this.openTime=Date.now(),this.fireAnalytics(Object(we.i)())}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.emojiProvider,r=t.hideToneSelector;if(n.subscribe(this.onProviderChange),this.onSearch(this.state.query),Ce(n)&&n.isUploadSupported().then(this.onUploadSupported),!r){var o=n.findByShortName(_e);Object(T.n)(o)?o.then((function(t){return e.setState({toneEmoji:t})})):(void 0===o||Object(T.f)(o))&&this.setState({toneEmoji:o})}}},{key:"componentWillUnmount",value:function(){this.props.emojiProvider.unsubscribe(this.onProviderChange),this.fireAnalytics(Object(we.b)({duration:this.calculateElapsedTime()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.emojiProvider,n=e.emojiProvider;t!==n&&Ce(n)&&n.isUploadSupported().then(this.onUploadSupported)}},{key:"componentDidUpdate",value:function(e){var t=e.emojiProvider,n=this.props.emojiProvider;t!==n&&(t.unsubscribe(this.onProviderChange),n.subscribe(this.onProviderChange),this.onSearch(this.state.query))}},{key:"buildQuerySpecificEmojiList",value:function(e,t,n){return!n.length||e?t:[].concat(o()(t),o()(n))}},{key:"setStateAfterEmojiChange",value:function(e,t,n,r){var o,i,a=this,l=this.state.filteredEmojis,c=!!e;c||t.length===l.length||this.getDynamicCategories().then((function(e){a.onDynamicCategoryChange(e)})),Object(T.b)(t,this.state.selectedEmoji)?(o=this.state.selectedEmoji,i=this.state.activeCategory):(o=void 0,i=void 0),this.setState({filteredEmojis:t,searchEmojis:n,frequentlyUsedEmojis:r,selectedEmoji:o,activeCategory:i,disableCategories:c,query:e,loading:!1})}},{key:"getDynamicCategories",value:function(){return this.props.emojiProvider.calculateDynamicCategories?this.props.emojiProvider.calculateDynamicCategories():Promise.resolve([])}},{key:"render",value:function(){var e,t,n,r=this,o=this.props.emojiProvider,i=this.state,a=i.activeCategory,l=i.disableCategories,c=i.dynamicCategories,s=i.filteredEmojis,u=i.loading,d=i.query,f=i.selectedEmoji,p=i.selectedTone,h=i.toneEmoji,m=i.emojiToDelete,v=i.uploading,g=i.uploadErrorMessage,y=i.uploadSupported,S=i.showUploadButton,C=(e=o,t=this.onSelectWrapper,n=function(e){return r.fireAnalytics(e("picker"))},function(r,o,i){try{e.recordSelection&&o&&e.recordSelection(o).then((function(){return n&&n(we.h)})).catch((function(){return n&&n(we.g)}))}finally{t&&t(r,o,i)}}),_=g?O.a.createElement(j.a,g):null,w=[Ke.g];return O.a.createElement("div",{className:b()(w),ref:this.handlePickerRef,"data-emoji-picker-container":!0},O.a.createElement(Ye,{activeCategoryId:a,dynamicCategories:c,disableCategories:l,onCategorySelected:this.onCategorySelected}),O.a.createElement(In,{emojis:s,currentUser:o.getCurrentUser(),onEmojiSelected:C,onEmojiActive:this.onEmojiActive,onEmojiDelete:this.onTriggerDelete,onCategoryActivated:this.onCategoryActivated,onMouseLeave:this.onEmojiPickerMouseLeave,onMouseEnter:this.onEmojiPickerMouseEnter,onSearch:this.onSearch,query:d,selectedTone:p,loading:u,ref:"emojiPickerList"}),O.a.createElement(hn,{initialUploadName:d,selectedEmoji:f,selectedTone:p,onToneSelected:this.onToneSelected,onToneSelectorCancelled:this.onToneSelectorCancelled,toneEmoji:h,uploading:v,emojiToDelete:m,uploadErrorMessage:_,uploadEnabled:y&&S&&!v,onUploadEmoji:this.onUploadEmoji,onUploadCancelled:this.onUploadCancelled,onDeleteEmoji:this.onDeleteEmoji,onCloseDelete:this.onCloseDelete,onFileChooserClicked:this.onFileChooserClicked,onOpenUpload:this.onOpenUpload}))}}]),n}(w.PureComponent);y()(Pn,"childContextTypes",{emoji:_.a.object}),y()(Pn,"defaultProps",{onSelection:function(){}})}}]);