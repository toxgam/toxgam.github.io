(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[173],{2544:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(0))&&a.__esModule?a:{default:a},o=n(53);var l=function(e){return i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M9 15.003v2.995a1 1 0 102 0v-3.896C11 13.494 10.507 13 9.9 13H6a1 1 0 000 2.003h3z" fill-rule="nonzero"/><path d="M3.74 20.294a.997.997 0 001.407.005l5.152-5.152a1 1 0 00-.005-1.407l-.034-.034a.997.997 0 00-1.407-.005l-5.152 5.152a1 1 0 00.005 1.407l.034.034z" fill-rule="nonzero"/><path d="M19.067 3.321L13.32 9.066a1.115 1.115 0 00.005 1.57l.036.037a1.112 1.112 0 001.571.005l5.747-5.744a1.116 1.116 0 00-.006-1.57l-.037-.037a1.117 1.117 0 00-1.57-.006z"/><path d="M13 6.002v3.896c0 .608.493 1.102 1.1 1.102H18a1 1 0 000-2.003h-3V6.002a1 1 0 10-2 0z"/></g></svg>'},e))};l.displayName="VidFullScreenOffIcon";var c=l;t.default=c},2545:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=(a=n(0))&&a.__esModule?a:{default:a},o=n(53);var l=function(e){return i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 012 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 110 2H6v3a1 1 0 11-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 010-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};l.displayName="VidFullScreenOnIcon";var c=l;t.default=c},3116:function(e,t,n){"use strict";n.r(t);var a,i,o,l,c,r,d=n(23),s=n.n(d),u=n(0),b=n.n(u),p=n(2323),f=n(2340),m=n(2352),v=n(13),O=n(802),h=n(360),j=n(2397),w=n.n(j),g=n(680),C=n.n(g),k=n(426),z=n.n(k),y=n(2545),x=n.n(y),E=n(2544),I=n.n(E),M=n(2543),S=n(2367),B="100%",_="large",R=n(2111),F=n(3326),V=function(e){var t=e.content,n=e.href,a=e.icon,i=e.onClick,o=e.target,l=e.testId;return b.a.createElement(R.a,{content:t,hideTooltipOnClick:!0,position:"top",tag:"span",testId:"".concat(l,"-tooltip")},b.a.createElement(F.a,{appearance:"subtle",href:n,iconBefore:a,onClick:i,spacing:"none",target:o,testId:"".concat(l,"-button")}))},D=n(8),N=n.n(D),A=Object(v.c)(a||(a=N()(["\n  align-items: center;\n  display: flex;\n  gap: 8px;\n  justify-content: space-between;\n  // AK ModalBody has 2px padding top and bottom.\n  // Using 14px here to create 16px gap between\n  // link info and iframe\n  padding: 24px 24px 14px 24px;\n"]))),L="24px",P=Object(v.c)(i||(i=N()(["\n  img,\n  span,\n  svg {\n    height: ",";\n    min-height: ",";\n    max-height: ",";\n    width: ",";\n    min-width: ",";\n    max-width: ",";\n  }\n"])),L,L,L,L,L,L),T="20px",H=Object(v.c)(o||(o=N()(["\n  flex: 1 1 auto;\n\n  h3 {\n    flex: 1 1 auto;\n    font-size: 16px;\n    font-weight: 400;\n    line-height: ",";\n\n    display: -webkit-box;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    word-break: break-word;\n    -webkit-line-clamp: 1;\n    -webkit-box-orient: vertical;\n    // Fallback options\n    @supports not (-webkit-line-clamp: 1) {\n      max-height: ",";\n    }\n  }\n"])),T,T),U=Object(v.c)(l||(l=N()(["\n  display: flex;\n  flex: 0 0 auto;\n  gap: 4px;\n  line-height: ",";\n  span {\n    line-height: ",";\n  }\n\n  @media only screen and (max-width: 980px) {\n    // Hide resize button if the screen is smaller than the min width\n    // or too small to have enough impact to matter.\n    .smart-link-resize-button {\n      display: none;\n    }\n  }\n"])),T,T),G=function(e){var t=e.downloadUrl,n=e.icon,a=e.providerName,i=e.onDownloadButtonClick,o=e.onResizeButtonClick,l=e.onViewButtonClick,c=e.size,r=e.testId,d=e.title,s=e.url,p=Object(h.a)().onClose,f=Object(u.useMemo)((function(){if(t)return Object(v.d)(V,{content:Object(v.d)(O.a,S.a.download),href:t,icon:Object(v.d)(C.a,{label:S.a.download.defaultMessage}),onClick:i,testId:"".concat(r,"-download")})}),[t,i,r]),m=Object(u.useMemo)((function(){if(s){var e=a?Object(v.d)(b.a.Fragment,null,Object(v.d)(O.a,S.a.viewIn)," ",a):Object(v.d)(O.a,S.a.viewOriginal);return Object(v.d)(V,{content:e,href:s,icon:Object(v.d)(z.a,{label:S.a.viewOriginal.defaultMessage}),onClick:l,target:"_blank",testId:"".concat(r,"-url")})}}),[l,a,r,s]),j=Object(u.useMemo)((function(){var e=c===B,t=e?S.a.preview_min_size:S.a.preview_max_size,n=e?Object(v.d)(I.a,{label:t.defaultMessage}):Object(v.d)(x.a,{label:t.defaultMessage});return Object(v.d)("span",{className:"smart-link-resize-button"},Object(v.d)(V,{content:Object(v.d)(O.a,t),icon:n,onClick:o,testId:"".concat(r,"-resize")}))}),[o,c,r]);return Object(v.d)("div",{css:A},n&&Object(v.d)("div",{css:P,"data-testid":"".concat(r,"-icon")},Object(v.d)(M.a,n)),Object(v.d)("div",{css:H},Object(v.d)("h3",{"data-testid":"".concat(r,"-title")},d),Object(v.d)("span",{tabIndex:0})),Object(v.d)("div",{css:U},f,m,j,Object(v.d)(V,{content:Object(v.d)(O.a,S.a.preview_close),icon:Object(v.d)(w.a,{label:S.a.preview_close.defaultMessage}),onClick:p,testId:"".concat(r,"-close")})))},J=n(28),K=n.n(J),q=n(834),Q=Object(v.c)(c||(c=N()(["\n  width: 100%;\n  height: calc(100vh - 208px);\n"]))),W=function(e){var t=e.isTrusted,n=e.name,a=e.src,i=e.testId,o=Object(q.b)(t),l={css:Q,frameBorder:0,name:n,sandbox:o,src:a,"data-testid":"".concat(i,"-embed")};return a?Object(v.d)("iframe",K()({src:a},l)):Object(v.d)("iframe",l)};!function(e){e.Large="large",e.Small="small"}(r||(r={}));var X=n(879),Y=function(){return b.a.createElement("span",null)},Z=function(e){return function(t){var n=t.onOpenFailed,a=Object(u.useCallback)((function(e,t){n&&n(e,t)}),[n]);return b.a.createElement(X.ErrorBoundary,{FallbackComponent:Y,onError:a},b.a.createElement(e,t))}},$=n(9),ee=n.n($),te=n(10),ne=n.n(te),ae=n(15),ie=n.n(ae),oe=n(18),le=n.n(oe),ce=n(7),re=n.n(ce),de=n(428),se=n.n(de),ue=n(136),be=n(48),pe=n(370),fe=n(2660),me=n(2429),ve=function(e){var t=e.title,n=e.label,a=e.metadata,i=void 0===a?{items:[]}:a,o=e.icon,l=e.providerName,c=e.url,r=e.download,d=e.byline,s=e.onViewActionClick,b=e.onDownloadActionClick,p=Object(h.a)().onClose;return Object(v.d)("div",{style:{paddingLeft:Object(pe.b)(3),paddingRight:Object(pe.b)(3),paddingBottom:Object(pe.b)(2),paddingTop:Object(pe.b)(2)}},Object(v.d)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",borderBottom:"1px solid ".concat(Object(be.a)("color.border",ue.r))}},Object(v.d)("div",{css:{flex:1}},Object(v.d)("div",{css:{display:"flex"}},o&&Object(v.d)(M.a,o),Object(v.d)("div",{css:{paddingLeft:Object(pe.b)(2),paddingBottom:Object(pe.b)(2)}},Object(v.d)("h3",null,t),Object(v.d)("div",{css:{color:Object(be.a)("color.text.subtlest",ue.l)}},i.items.length&&Object(v.d)(fe.a,{items:i.items})||Object(v.d)(me.a,null,d))))),Object(v.d)("div",null,r&&Object(v.d)(F.a,{appearance:"primary",href:r,onClick:b},Object(v.d)(O.a,S.a.download)),c&&Object(v.d)(F.a,{href:c,target:"_blank",appearance:"link",testId:"preview-view-action",iconAfter:Object(v.d)(z.a,{size:"small",label:""}),onClick:s},l?Object(v.d)(u.Fragment,null,Object(v.d)(O.a,S.a.viewIn)," ",l):Object(v.d)(O.a,S.a.viewOriginal)),Object(v.d)(F.a,{appearance:"subtle",iconBefore:Object(v.d)(se.a,{label:n}),onClick:p,testId:"preview-close-button"}))))},Oe=function(e){return function(t){var n=t.analytics,a=t.onClose,i=t.onOpen,o=t.onOpenFailed,l=t.onResize,c=t.origin,d=Object(u.useCallback)((function(e){n.screen.modalViewedEvent({name:"embedPreviewModal",attributes:{origin:c,size:e.size}}),n.ui.renderSuccessEvent({status:"resolved",display:"preview"}),i&&i(e)}),[n.screen,n.ui,i,c]),s=Object(u.useCallback)((function(e,t){n.ui.renderFailedEvent({display:"preview",error:e,errorInfo:t}),o&&o(e,t)}),[n.ui,o]),p=Object(u.useCallback)((function(e){n.ui.modalClosedEvent({actionSubjectId:"embedPreview",attributes:{origin:c,previewTime:e.duration,size:e.size}}),a&&a(e)}),[n.ui,a,c]),f=Object(u.useCallback)((function(e){var t;n.ui.buttonClickedEvent({actionSubjectId:"embedPreviewResize",attributes:{newSize:e.size,origin:c,previousSize:(t=e.size,t===r.Small?r.Large:r.Small)}}),l&&l(e)}),[n.ui,l,c]);return b.a.createElement(e,K()({},t,{onClose:p,onOpen:d,onOpenFailed:s,onResize:f}))}};function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=re()(e);if(t){var i=re()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return le()(this,n)}}var je={width:"100%",height:"calc(100vh - 248px)"},we=function(e){ie()(n,e);var t=he(n);function n(){return ee()(this,n),t.apply(this,arguments)}return ne()(n,[{key:"componentDidCatch",value:function(e,t){this.props.onOpenFailed&&this.props.onOpenFailed(e,t)}},{key:"render",value:function(){return b.a.createElement(ge,this.props)}}]),n}(b.a.Component),ge=function(e){var t=e.onClose,n=e.onOpen,a=e.src,i=e.testId,o=void 0===i?"smart-links-preview-modal":i,l=e.showModal,c=e.providerName,d=e.metadata,v=e.icon,O=e.closeLabel,h=void 0===O?"Close Preview":O,j=e.iframeName,w=e.title,g=e.url,C=e.download,k=e.byline,z=e.isTrusted,y=void 0!==z&&z,x=e.onViewActionClick,E=e.onDownloadActionClick,I=Object(u.useState)(l),M=s()(I,2),S=M[0],B=M[1],_=Object(u.useRef)(),R=Object(u.useCallback)((function(){_.current=Date.now(),n&&n({size:r.Small})}),[n]),F=Object(u.useCallback)((function(){if(t){var e=_.current?Date.now()-_.current:void 0;t({duration:e,size:r.Small})}}),[t]),V=Object(q.b)(y);return b.a.createElement(p.a,null,S&&b.a.createElement(f.a,{height:"100%",width:"large",testId:o,onOpenComplete:R,onClose:function(){B(!1)},onCloseComplete:F},b.a.createElement(ve,{providerName:c,icon:v,metadata:d,url:g,title:w,label:h,download:C,byline:k,onViewActionClick:x,onDownloadActionClick:E}),b.a.createElement(m.a,null,a?b.a.createElement("iframe",{style:je,name:j,frameBorder:0,src:a,sandbox:V}):b.a.createElement("iframe",{style:je,name:j,frameBorder:0,sandbox:V}))))},Ce=Oe(we),ke=function(e){return function(t){var n=t.featureFlags,a=(void 0===n?{}:n).embedModalSize;return a===r.Large||a===r.Small?b.a.createElement(e,K()({},t,{size:a})):b.a.createElement(Ce,t)}},ze=function(e){return e===B?r.Large:r.Small};t.default=ke(Oe(Z((function(e){var t=e.download,n=e.icon,a=e.iframeName,i=e.isTrusted,o=void 0!==i&&i,l=e.onClose,c=e.onDownloadActionClick,d=e.onOpen,v=e.onResize,O=e.onViewActionClick,h=e.providerName,j=e.showModal,w=e.size,g=void 0===w?r.Small:w,C=e.src,k=e.testId,z=void 0===k?"smart-embed-preview-modal":k,y=e.title,x=e.url,E=function(e){return e===r.Large?B:_}(g),I=Object(u.useState)(j),M=s()(I,2),S=M[0],R=M[1],F=Object(u.useState)(E),V=s()(F,2),D=V[0],N=V[1],A=Object(u.useRef)(),L=Object(u.useCallback)((function(){A.current=Date.now(),d&&d({size:g})}),[d,g]),P=Object(u.useCallback)((function(){return R(!1)}),[]),T=Object(u.useCallback)((function(){if(l){var e=A.current?Date.now()-A.current:void 0;l({duration:e,size:ze(D)})}}),[l,D]),H=Object(u.useCallback)((function(){var e=D===_?B:_;N(e),v&&v({size:ze(e)})}),[v,D]);return b.a.createElement(p.a,null,S&&b.a.createElement(f.a,{height:"100%",onClose:P,onCloseComplete:T,onOpenComplete:L,testId:z,width:D},b.a.createElement(G,{downloadUrl:t,icon:n,providerName:h,onViewButtonClick:O,onDownloadButtonClick:c,onResizeButtonClick:H,size:D,title:y,testId:z,url:x}),b.a.createElement(m.a,null,b.a.createElement(W,{isTrusted:o,name:a,src:C,testId:z}))))}))))}}]);