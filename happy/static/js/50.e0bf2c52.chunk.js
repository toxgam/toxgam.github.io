/*! For license information please see 50.e0bf2c52.chunk.js.LICENSE.txt */
(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[50],{2234:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),a=n.n(r),o=a.a.createElement("svg",{viewBox:"0 0 163.28 218"},a.a.createElement("defs",null,a.a.createElement("style",null,"\n.cls-1{fill:url(#linear-gradient);}\n.cls-2{fill:#253858;}\n.cls-3{fill:#ffc400;}\n.cls-4{fill:#ffab00;}\n.cls-5,.cls-6{fill:none;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}\n.cls-5{stroke:#344563;}\n.cls-6{stroke:#5e6c84;}\n"),a.a.createElement("linearGradient",{id:"linear-gradient",x1:"133.86",y1:"136.43",x2:"-2.79",y2:"200.15",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{offset:"0",stopColor:"#ffd740"}),a.a.createElement("stop",{offset:"1",stopColor:"#ffab00"})),a.a.createElement("clipPath",null,a.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}))),a.a.createElement("g",null,a.a.createElement("g",null,a.a.createElement("path",{className:"cls-1",d:"M94.78,80.16l66.44,115.08A15.17,15.17,0,0,1,148.08,218H15.2A15.17,15.17,0,0,1,2.06,195.24L68.5,80.16A15.17,15.17,0,0,1,94.78,80.16Z"}),a.a.createElement("path",{className:"cls-2",d:"M87.22,163.71l2.88-44.35a9.18,9.18,0,0,0-9.16-9.78h0a9.18,9.18,0,0,0-9.16,9.78l2.88,44.35a6.3,6.3,0,0,0,6.28,5.89h0A6.3,6.3,0,0,0,87.22,163.71Z"}),a.a.createElement("path",{className:"cls-2",d:"M71.38,187.25a9.53,9.53,0,0,0,10.39,9.58,9.68,9.68,0,0,0-.9-19.32A9.64,9.64,0,0,0,71.38,187.25Z"}),a.a.createElement("path",{className:"cls-3",d:"M91.7,27.17,84.29.45A.61.61,0,0,0,83.1.5L78.44,25.6l-5.8-1.08a.61.61,0,0,0-.7.76L79.35,52A.61.61,0,0,0,80.54,52l4.66-25.1L91,27.93A.61.61,0,0,0,91.7,27.17Z"}),a.a.createElement("path",{className:"cls-4",d:"M65.12,41.81,54.24,33.26a.27.27,0,0,0-.41.33L59.36,45,56.7,46.31a.27.27,0,0,0,0,.45l10.87,8.55a.27.27,0,0,0,.41-.33L62.41,43.55l2.66-1.29A.27.27,0,0,0,65.12,41.81Z"}),a.a.createElement("path",{className:"cls-5",d:"M115.15,36.6c-1.17,1.59-11-5.6-12.16-4s8.66,8.79,7.5,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39-11-5.6-12.17-4,8.66,8.79,7.49,10.39"}),a.a.createElement("path",{className:"cls-6",d:"M119.92,64.19c-1.46,1.33-7.05-4.78-8.51-3.44s4.13,7.45,2.67,8.78-7.05-4.78-8.51-3.44c-.68.62.16,2.27,1.11,4"}),a.a.createElement("path",{className:"cls-6",d:"M44.8,64c1.82.77,5-6.87,6.86-6.1s-1.39,8.4.43,9.17,5-6.87,6.86-6.1c.85.36.61,2.19.29,4.13"}))))},2236:function(e,t,n){(function(e){!function(t){"use strict";var n="[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0),r="undefined"!==typeof performance&&"undefined"!==typeof performance.now&&"function"===typeof performance.mark&&"function"===typeof performance.measure&&("function"===typeof performance.clearMarks||"function"===typeof performance.clearMeasures),a="undefined"!==typeof PerformanceObserver&&"undefined"!==typeof PerformanceObserver.prototype&&"function"===typeof PerformanceObserver.prototype.constructor,o={},i={},c=function(){return r?performance.now():Date.now()},u=function(e){o[e]=void 0,i[e]&&(i[e]=void 0),r&&(n||performance.clearMeasures(e),performance.clearMarks(e))},s=function(e){if(r){if(n&&a){var t=new PerformanceObserver((function(n){i[e]=n.getEntries().find((function(t){return t.name===e})),t.disconnect()}));t.observe({entryTypes:["measure"]})}performance.mark(e)}o[e]=c()},l=function(e,t){try{var a=o[e];return r?(t||performance.mark(e+"-end"),performance.measure(e,e,t||e+"-end"),n?i[e]?i[e]:a?{duration:c()-a,startTime:a,entryType:"measure",name:e}:{}:performance.getEntriesByName(e).pop()||{}):a?{duration:c()-a,startTime:a,entryType:"measure",name:e}:{}}catch(s){return{}}finally{u(e),u(t||e+"-end")}},f=function(){o={},i={},r&&(n||performance.clearMeasures(),performance.clearMarks())},p=function(e){return!r||n?[]:performance.getEntriesByType(e)||[]},d=function(){return p("navigation").pop()||{}};function m(e,t,n,r){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function c(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?n(e.value):a(e.value).then(i,c)}u((r=r.apply(e,t||[])).next())}))}function y(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(e){return function(t){return u([e,t])}}function u(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var v=function(e,t){return m(void 0,void 0,void 0,(function(){var n,r,a;return y(this,(function(o){switch(o.label){case 0:s(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e()];case 2:return n=o.sent(),r=l(t),[2,n?Object.assign({},{data:n,mark:r}):{mark:r}];case 3:throw a=o.sent(),l(t),a;case 4:return[2]}}))}))};t.clear=u,t.clearAll=f,t.end=l,t.getEntriesByType=p,t.getNavigationMarker=d,t.isNodeJSEnv=n,t.isPerformanceObservableSupported=a,t.isUserTimingAPISupported=r,t.profiler=v,t.start=s,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(241))},2355:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return E}));var r=n(9),a=n.n(r),o=n(10),i=n.n(o),c=n(4),u=n.n(c),s=n(12),l=n.n(s),f=n(13),p=n.n(f),d=n(6),m=n.n(d),y=n(1),v=n.n(y),b=n(0);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var g={space:32,m:77},E=function(e){l()(n,e);var t=h(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"keyHandler",(function(t){var n=e.props,r=n.keyCode,a=n.handler;t.keyCode===r&&a()})),v()(u()(e),"init",(function(){document.addEventListener("keydown",e.keyHandler)})),v()(u()(e),"release",(function(){document.removeEventListener("keydown",e.keyHandler)})),e}return i()(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"render",value:function(){return null}}]),n}(b.Component)},2752:function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-editor","b":"38.1.7"}')},3029:function(e,t,n){"use strict";n.r(t),n.d(t,"convertFileNameToPng",(function(){return pe})),n.d(t,"SmartMediaEditor",(function(){return de})),n.d(t,"default",(function(){return me}));var r=n(15),a=n.n(r),o=n(22),i=n.n(o),c=n(9),u=n.n(c),s=n(10),l=n.n(s),f=n(4),p=n.n(f),d=n(12),m=n.n(d),y=n(13),v=n.n(y),b=n(6),h=n.n(b),g=n(1),E=n.n(g),k=n(0),w=n.n(k),x=n(316),S=n.n(x),O=n(27),j=n(2157),C=n(2011),T=n(495),M=n(275),A=n(1999),P=n(2355),N=n(1200),I=n(2177),U=n(1259),R=n(2954),D=n(2363),F=n(2214),_=n(28),B=n.n(_),L=n(48),H=n.n(L),K=n(8),Z=n.n(K),J=n(7),W=n(3),z=n(2194);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(){var e=Z()(["\n  color: ",";\n  margin-top: 4px;\n  margin-bottom: 20px;\n  width: 256px;\n  text-align: center;\n"]);return q=function(){return e},e}function Q(){var e=Z()(["\n  color: ",";\n  margin-top: 16px;\n  margin-bottom: 4px;\n  width: 256px;\n  text-align: center;\n  font-weight: bold;\n"]);return Q=function(){return e},e}function X(){var e=Z()(["\n  width: 92px;\n"]);return X=function(){return e},e}function Y(){var e=Z()(["\n  width: 290px;\n  padding: 16px;\n  background-color: ",";\n  border-radius: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return Y=function(){return e},e}var $=J.c.div(Y(),W.N0),ee=J.c.div(X()),te=J.c.div(Q(),W.N900),ne=J.c.div(q(),W.N70),re=function(e){return w.a.createElement(z.a,B()({},e,{theme:function(e,t){var n=e(t),r=n.buttonStyles,a=H()(n,["buttonStyles"]);return V({buttonStyles:V(V({},r),{},{display:"inline-flex",width:"84px",margin:"2px",justifyContent:"center"})},a)}}))},ae=n(2234),oe=n(2364);function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var ce=function(e){m()(n,e);var t=ie(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return w.a.createElement(oe.a,null,w.a.createElement($,null,w.a.createElement(ee,null,ae.a),w.a.createElement(te,null,this.props.message),w.a.createElement(ne,null,this.renderHint()),this.renderTryAgainButton(),this.renderCancelButton()))}},{key:"renderHint",value:function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?w.a.createElement("span",null,n(A.a.error_hint_retry)):w.a.createElement("span",null,n(A.a.error_hint_critical))}},{key:"renderTryAgainButton",value:function(){var e=this.props,t=e.onRetry,n=e.intl.formatMessage;return t?w.a.createElement(re,{appearance:"primary",onClick:t},n(A.a.try_again)):null}},{key:"renderCancelButton",value:function(){var e=this.props,t=e.onCancel,n=e.onRetry,r=e.intl.formatMessage,a=n?A.a.cancel:A.a.close;return w.a.createElement(re,{appearance:"subtle",onClick:t},r(a))}}]),n}(k.Component),ue=Object(O.e)(ce),se=n(2752),le=n(2236);function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var pe=function(e){return e?e.endsWith(".png")?e:0===e.lastIndexOf(".")||-1===e.lastIndexOf(".")?"".concat(e,".png"):"".concat(e.substring(0,e.lastIndexOf(".")),".png"):"annotated-image.png"},de=function(e){m()(n,e);var t=fe(n);function n(){var e;u()(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),E()(p()(e),"state",{hasError:!1,hasBeenEdited:!1,closeIntent:!1}),E()(p()(e),"getFile",(function(t){var n=e.props.mediaClient,r=t.collectionName,o=t.occurrenceKey,c=t.id,u=n.file.getFileState(c,{collectionName:r,occurrenceKey:o}).subscribe({next:function(){var n=i()(a.a.mark((function n(r){var o,i,c,s,l,f;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("error"!==r.status){n.next=4;break}return e.onError(r.message),e.getFileUnsubscribeTimeoutId=window.setTimeout((function(){return u.unsubscribe()}),0),n.abrupt("return");case 4:if(o=r.name,i=r.preview,c=r.status,e.fileName=o,"processed"!==c){n.next=11;break}e.setRemoteImageUrl(t),e.getFileUnsubscribeTimeoutId=window.setTimeout((function(){return u.unsubscribe()}),0),n.next=25;break;case 11:if(!i){n.next=25;break}return n.next=14,i;case 14:if(s=n.sent,!((l=s.value)instanceof Blob)){n.next=23;break}return n.next=19,Object(F.d)(l);case 19:f=n.sent,e.setState({imageUrl:f}),n.next=24;break;case 23:e.setState({imageUrl:l});case 24:e.getFileUnsubscribeTimeoutId=window.setTimeout((function(){return u.unsubscribe()}),0);case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),error:function(t){e.onError(t)}});e.getFileSubscription=u})),E()(p()(e),"setRemoteImageUrl",function(){var t=i()(a.a.mark((function t(n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.mediaClient,o=n.id,t.next=4,r.getImageUrl(o,{collection:n.collectionName,mode:"full-fit"});case 4:i=t.sent,e.setState({imageUrl:i});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E()(p()(e),"copyFileToUserCollection",function(){var t=i()(a.a.mark((function t(n){var r,o,i,c,u,s,l,f,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,o=r.mediaClient,i=o.config,c=i.userAuthProvider,u=i.authProvider,s=o.file,l=r.identifier.collectionName,!c){t.next=6;break}return f={id:n,collection:l,authProvider:u},p={collection:M.c,authProvider:c,occurrenceKey:S()(),mediaStore:new T.a({authProvider:c})},t.next=6,s.copyFile(f,p);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E()(p()(e),"onSave",(function(t,n){var r=p()(e).fileName,a=e.props,o=a.mediaClient,i=a.identifier,c=a.onUploadStart,u=a.onFinish,s=a.intl.formatMessage,l=e.state.hasBeenEdited,f=i.collectionName,d={content:t,collection:f,name:pe(r)},m=S()(),y=S()(),v=o.file.touchFiles([{fileId:m,collection:f,occurrenceKey:y}],f).then((function(e){return e.created[0].uploadId})),b={id:m,deferredUploadId:v,occurrenceKey:y},h=o.file.upload(d,void 0,b),g={id:m,collectionName:f,mediaItemType:"file",occurrenceKey:y};Object(le.start)("MediaEditor.MediaAnnotation.Uploaded"),Object(F.e)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"saveButton",attributes:{annotated:l}},e.props.createAnalyticsEvent);var E=h.subscribe({next:function(t){if("processing"===t.status)e.copyFileToUserCollection(t.id).then((function(){u&&u(g);var n=Object(le.end)("MediaEditor.MediaAnnotation.Uploaded").duration;Object(F.e)({eventType:"track",action:"uploaded",actionSubject:"media",actionSubjectId:m,attributes:{status:"success",fileStatus:t.status,fileMediatype:t.mediaType,fileMimetype:t.mimeType,fileSize:t.size,uploadDurationMsec:n,annotated:l}},e.props.createAnalyticsEvent),e.uploadFileUnsubscribeTimeoutId=window.setTimeout((function(){return E.unsubscribe()}),0)}));else if("failed-processing"===t.status||"error"===t.status){e.onError(s(A.a.could_not_save_image)),e.uploadFileUnsubscribeTimeoutId=window.setTimeout((function(){return E.unsubscribe()}),0);var n=Object(le.end)("MediaEditor.MediaAnnotation.Uploaded").duration;Object(F.e)({eventType:"track",action:"uploaded",actionSubject:"media",actionSubjectId:m,attributes:{status:"fail",failReason:s(A.a.could_not_save_image),fileStatus:t.status,uploadDurationMsec:n,annotated:l}},e.props.createAnalyticsEvent)}}});c&&c(g,n)})),E()(p()(e),"onAnyEdit",(function(t,n){var r=e.state.hasBeenEdited;Object(F.e)({eventType:"ui",action:"annotated",actionSubject:"annotation",actionSubjectId:t,attributes:n},e.props.createAnalyticsEvent),r||e.setState({hasBeenEdited:!0})})),E()(p()(e),"closeConfirmationDialog",(function(){e.setState({closeIntent:!1})})),E()(p()(e),"closeAnyway",(function(){var t=e.props.onClose,n=e.state.hasBeenEdited;e.closeConfirmationDialog(),Object(F.e)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"confirmCancelButton",attributes:{annotated:n}},e.props.createAnalyticsEvent),t&&t()})),E()(p()(e),"renderDeleteConfirmation",(function(){var t=e.props.intl.formatMessage;if(e.state.closeIntent){var n=[{text:t(A.a.annotate_confirmation_close_anyway),onClick:e.closeAnyway},{text:t(A.a.cancel),onClick:e.closeConfirmationDialog}];return w.a.createElement(N.b,null,w.a.createElement(I.a,{width:"small",appearance:"danger",heading:t(A.a.annotate_confirmation_heading),actions:n,onClose:e.closeConfirmationDialog},t(A.a.annotate_confirmation_content)))}return null})),E()(p()(e),"onCancel",(function(t){var n=e.state.hasBeenEdited,r=e.props.onClose;Object(F.e)({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"cancelButton",attributes:{annotated:n,input:t}},e.props.createAnalyticsEvent),n?e.setState({closeIntent:!0}):r&&r()})),E()(p()(e),"onError",(function(t){e.setState({hasError:!0,errorMessage:t})})),E()(p()(e),"clickShellNotPass",(function(e){e.stopPropagation()})),E()(p()(e),"renderLoading",(function(){return w.a.createElement(D.g,null,w.a.createElement(U.a,{size:"large",appearance:"invert"}))})),E()(p()(e),"renderEditor",(function(t){return w.a.createElement(R.default,{imageUrl:t,onSave:e.onSave,onCancel:e.onCancel,onError:e.onError,onAnyEdit:e.onAnyEdit})})),E()(p()(e),"renderError",(function(t){var n=e.props.onClose;return t instanceof Error&&(t=t.message),w.a.createElement(ue,{message:t,onCancel:n||function(){}})})),e}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props.identifier;this.getFile(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.identifier,r=t.mediaClient;e.identifier.id===n.id&&e.mediaClient===r||this.getFile(e.identifier)}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.getFileUnsubscribeTimeoutId),window.clearTimeout(this.uploadFileUnsubscribeTimeoutId);var e=this.getFileSubscription,t=this.uploadFileSubscription;e&&e.unsubscribe(),t&&t.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.state,n=t.imageUrl,r=t.hasError,a=t.errorMessage,o=r?this.renderError(a):n?this.renderEditor(n):this.renderLoading();return w.a.createElement(D.a,{onClick:this.clickShellNotPass},this.renderDeleteConfirmation(),w.a.createElement(P.a,{keyCode:27,handler:function(){return e.onCancel("esc")}}),o)}}]),n}(w.a.Component);E()(de,"contextTypes",{intl:O.f});var me=function(e){m()(n,e);var t=fe(n);function n(){return u()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=Object(j.a)({packageName:se.a,packageVersion:se.b})(Object(C.a)()(Object(O.e)(de))),t=w.a.createElement(e,this.props);return this.context.intl?t:w.a.createElement(O.c,{locale:"en"},t)}}]),n}(w.a.Component)}}]);