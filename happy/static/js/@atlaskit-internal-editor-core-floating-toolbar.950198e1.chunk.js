(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[22],{3048:function(e,t,n){"use strict";n.r(t),n.d(t,"isSameItem",(function(){return te})),n.d(t,"areSameItems",(function(){return ne})),n.d(t,"default",(function(){return re}));var r=n(9),o=n.n(r),a=n(10),i=n.n(a),c=n(12),u=n.n(c),l=n(13),s=n.n(l),p=n(6),f=n.n(p),d=n(8),h=n.n(d),m=n(0),b=n.n(m),y=n(7),v=n(2183),g=n(65),E=n(17),O=n(3),x=n(1088),C=n(172),k=n(1117),w=n(1),j=n.n(w),P=n(3025);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=e.width,n=void 0===t?200:t,r=b.a.useMemo((function(){return{container:function(e){return V(V({},e),{},{width:n})}}}),[n]);return b.a.createElement(P.a,{options:e.options,value:e.defaultValue,onChange:e.onChange,placeholder:e.placeholder,spacing:"compact",menuPlacement:"auto",filterOption:e.filterOption,styles:r})}var R=n(299),A=n(4),B=n.n(A),M=n(1085);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}var N=function(e){u()(n,e);var t=I(n);function n(e){var r;return o()(this,n),r=t.call(this,e),j()(B()(r),"handleChange",(function(e){r.setState({text:e.target.value})})),j()(B()(r),"handleSubmit",(function(e){e.preventDefault(),r.props.onSubmit&&r.props.onSubmit(r.state.text)})),j()(B()(r),"handleBlur",(function(e){e.preventDefault(),r.props.onBlur&&r.props.onBlur(r.state.text)})),r.state={text:e.defaultValue||""},r}return i()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.text!==e.defaultValue&&this.setState({text:e.defaultValue||""})}},{key:"render",value:function(){var e=this.props.placeholder;return b.a.createElement("form",{onSubmit:this.handleSubmit},b.a.createElement(M.a,{value:this.state.text,onChange:this.handleChange,placeholder:e,onBlur:this.handleBlur}))}}]),n}(m.Component),L=n(15),T=n.n(L),F=n(23),J=n.n(F),U=n(29),z=n.n(U),W=n(78),_=n.n(W),q=n(1179),G=n(41),H=function(e){var t=e.item,n=e.node,r=t.icon?_()({loader:t.icon,loading:function(){return null}}):void 0;return b.a.createElement(C.a,{title:t.label,icon:r?b.a.createElement(r,{label:t.label||""}):void 0,onClick:function(){var e=Object(G.t)(n);if("function"!==typeof t.action)throw new Error("'action' of context toolbar item '".concat(t.key,"' is not a function"));t.action(e)},tooltipContent:t.tooltip},t.label)},K=function(e){var t=e.node,n=e.editorView,r=e.extensionProvider,o=e.separator,a=Object(m.useState)([]),i=z()(a,2),c=i[0],u=i[1];Object(m.useEffect)((function(){function e(){return(e=J()(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,r.getExtensions();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r&&function(){e.apply(this,arguments)}()}),[]);var l=b.a.useMemo((function(){return Object(q.b)(c,t)}),[c,t]);if(!l.length)return null;var s=[];return o&&["start","both"].includes(o)&&s.push(b.a.createElement(R.a,null)),l.forEach((function(e,r){s.push(b.a.createElement(H,{node:t,item:e,editorView:n})),r<l.length-1&&s.push(b.a.createElement(R.a,null))})),o&&["end","both"].includes(o)&&s.push(b.a.createElement(R.a,null)),b.a.createElement(v.a,{children:s})},Q=n(80);function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s()(this,n)}}function Y(){var e=h()(["\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n  padding: ","px ","px;\n  display: flex;\n  line-height: 1;\n  box-sizing: border-box;\n  ",";\n  & > div {\n    align-items: center;\n  }\n"]);return Y=function(){return e},e}var Z=Object(E.h)(),$=y.c.div(Y(),Object(g.a)({light:"white",dark:O.DN70}),Object(E.c)(),Z/2,Z,(function(e){return e.hasCompactLeftPadding?"padding-left: ".concat(Z/2,"px"):""}));var ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).filter((function(e){return-1===n.indexOf(e)})).every((function(n){return e[n]instanceof Object?Object(x.c)(e[n],t[n]):e[n]===t[n]}))},te=function(e,t){if(e.type!==t.type)return!1;switch(e.type){case"button":return ee(e,t,["type","onClick","onMouseEnter","onMouseLeave"]);case"input":return ee(e,t,["type","onSubmit","onBlur"]);case"select":return!(Array.isArray(e.options)&&Array.isArray(t.options)&&!Object(x.a)(e.options,t.options,(function(e,t){return ee(e,t)})))&&ee(e,t,["type","onChange","options"]);case"dropdown":return!(Array.isArray(e.options)&&Array.isArray(t.options)&&!Object(x.a)(e.options,t.options,(function(e,t){return ee(e,t,["onClick"])})))&&ee(e,t,["type","options"]);case"custom":return!1;case"separator":case"extensions-placeholder":return ee(e,t)}return!0},ne=function(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&(e.length===t.length&&e.every((function(e,n){return te(t[n],e)})))},re=function(e){u()(n,e);var t=X(n);function n(){return o()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.dispatchAnalyticsEvent,r=e.dispatchCommand,o=e.popupsMountPoint,a=e.popupsBoundariesElement,i=e.popupsScrollableElement,c=e.className,u=e.editorView,l=e.node,s=e.extensionsProvider;if(!t||!t.length)return null;var p="select"===t[0].type;return b.a.createElement($,{"aria-label":"Floating Toolbar",hasCompactLeftPadding:p,className:c},b.a.createElement(v.a,null,t.filter((function(e){return!e.hidden})).map((function(e,t){switch(e.type){case"button":var c=e.icon;return b.a.createElement(C.a,{className:e.className,key:t,title:e.title,href:e.href,icon:e.icon?b.a.createElement(c,{label:e.title}):void 0,appearance:e.appearance,target:e.target,onClick:function(){return r(e.onClick)},onMouseEnter:function(){return r(e.onMouseEnter)},onMouseLeave:function(){return r(e.onMouseLeave)},selected:e.selected,disabled:e.disabled,tooltipContent:e.tooltipContent,testId:e.testId,hideTooltipOnClick:e.hideTooltipOnClick},e.showTitle&&e.title);case"input":return b.a.createElement(N,{key:t,mountPoint:o,boundariesElement:a,defaultValue:e.defaultValue,placeholder:e.placeholder,onSubmit:function(t){return r(e.onSubmit(t))},onBlur:function(t){return r(e.onBlur(t))}});case"custom":return e.render(u,t,n);case"dropdown":var p=e.icon;return b.a.createElement(k.a,{key:t,title:e.title,icon:p&&b.a.createElement(p,{label:e.title}),dispatchCommand:r,options:e.options,disabled:e.disabled,tooltip:e.tooltip,hideExpandIcon:e.hideExpandIcon,mountPoint:o,boundariesElement:a,scrollableElement:i});case"select":return b.a.createElement(D,{key:t,dispatchCommand:r,options:e.options,hideExpandIcon:e.hideExpandIcon,mountPoint:o,boundariesElement:a,scrollableElement:i,defaultValue:e.defaultValue,placeholder:e.placeholder,onChange:function(t){return r(e.onChange(t))},filterOption:e.filterOption});case"extensions-placeholder":return u&&s&&(Object(Q.b)(u.state)||{}).extendFloatingToolbar?b.a.createElement(K,{key:t,node:l,editorView:u,extensionProvider:s,separator:e.separator}):null;case"separator":return b.a.createElement(R.a,{key:t})}}))))}},{key:"shouldComponentUpdate",value:function(e){return this.props.node.type!==e.node.type||!ne(this.props.items,e.items)}}]),n}(m.Component)}}]);