(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[72,79],{2365:function(e,t,r){"use strict";r.d(t,"a",(function(){return z}));var n=r(9),a=r.n(n),c=r(10),i=r.n(c),o=r(5),s=r.n(o),u=r(15),l=r.n(u),f=r(18),d=r.n(f),p=r(7),h=r.n(p),v=r(1),b=r.n(v),m=r(0),y=r.n(m),w=r(805),x=r(2088),O=r(2363),k=r.n(O),g=r(855),j=r(2362),E=r(2356),S=r(2385);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var z=function(e){l()(r,e);var t=A(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),b()(s()(e),"state",e.getInitialState()),b()(s()(e),"onMediaDisplayed",(function(){var t=e.props.item;g.a.emit("media-viewed",{fileId:t.id,viewingLevel:"full"})})),e}return i()(r,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.needsReset(e,this.props)&&(this.release(),this.setState(this.initialState))}},{key:"componentDidUpdate",value:function(e){this.needsReset(e,this.props)&&this.init()}},{key:"render",value:function(){var e=this;return this.state.content.match({pending:function(){return y.a.createElement(E.a,null)},successful:function(t){return e.renderSuccessful(t)},failed:function(t){var r=e.props.item;return y.a.createElement(j.a,{fileId:r.id,fileState:r,error:t,supressAnalytics:!0},y.a.createElement("p",null,y.a.createElement(w.a,x.a.try_downloading_file)),e.renderDownloadButton(t))}})}},{key:"getInitialState",value:function(){return this.initialState}},{key:"renderDownloadButton",value:function(e){var t=this.props,r=t.item,n=t.mediaClient,a=t.collectionName;return y.a.createElement(S.b,{fileState:r,mediaClient:n,error:e,collectionName:a})}},{key:"needsReset",value:function(e,t){return!k()(e.item,t.item)||e.mediaClient!==t.mediaClient||e.collectionName!==t.collectionName}}]),r}(y.a.Component)},2399:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n},c=r(53);var i=function(e){return a.default.createElement(c.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.595 19.522C7.162 20.364 6 19.702 6 18.04V5.963C6 4.3 7.158 3.635 8.595 4.479l11.083 6.51c.951.559.958 1.46 0 2.023l-11.083 6.51z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};i.displayName="VidPlayIcon";var o=i;t.default=o},2431:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=2431},2525:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n},c=r(53);var i=function(e){return a.default.createElement(c.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16 9.283V13.6h-.003A1.5 1.5 0 1114.5 12c.175 0 .344.03.5.085v-2.08l-4 .431V14.6h-.003A1.5 1.5 0 018 14.5a1.5 1.5 0 012-1.415V9.034c0-.238.186-.451.432-.478l5.136-.553a.38.38 0 01.432.384v.896z" fill="inherit"/></svg>'},e))};i.displayName="MediaServicesAudioIcon";var o=i;t.default=o},2609:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return je}));r(69);var a=r(61),c=r(83),i=r(81),o=r(98);function s(e){return e.arrayBuffer?e.arrayBuffer():new Promise((function(t,r){var n=new FileReader;n.addEventListener("loadend",(function(){t(n.result)})),n.addEventListener("error",r),n.readAsArrayBuffer(e)}))}function u(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(Object(a.a)().mark((function e(t){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return"undefined"!==typeof Blob&&e instanceof Blob}function d(e){return"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}var p="undefined"!==typeof e&&e.versions&&"undefined"!==typeof e.versions.node&&"undefined"===typeof e.versions.electron;function h(e){return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength}var v=function(){function e(t){Object(c.a)(this,e),this.typedArray=t instanceof ArrayBuffer||d(t)?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return Object(i.a)(e,[{key:"getLength",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.typedArray.byteLength);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),b=function(){function e(t){Object(c.a)(this,e),this.blob=t}return Object(i.a)(e,[{key:"getLength",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.blob.size);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.blob.slice(t,t+r),e.next=3,s(n);case 3:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sliceAsBlob",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",e.abrupt("return",this.blob.slice(t,t+r,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),m=function(){function e(t){Object(c.a)(this,e),this.url=t}return Object(i.a)(e,[{key:"getLength",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.length){e.next=9;break}return e.next=3,fetch(this.url,{method:"HEAD"});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("failed http request ".concat(this.url,", status: ").concat(t.status,": ").concat(t.statusText));case 6:if(this.length=parseInt(t.headers.get("content-length")),!Number.isNaN(this.length)){e.next=9;break}throw Error("could not get length");case 9:return e.abrupt("return",this.length);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return",new Uint8Array(0));case 2:return e.next=4,fetch(this.url,{headers:{Range:"bytes=".concat(t,"-").concat(t+r-1)}});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("failed http request ".concat(this.url,", status: ").concat(n.status," offset: ").concat(t," size: ").concat(r,": ").concat(n.statusText));case 7:return e.next=9,n.arrayBuffer();case 9:return c=e.sent,e.abrupt("return",new Uint8Array(c));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function y(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(Math.max(r<<1,t));return n.set(e,0),n}function w(e,t,r,n,a,c){for(var i=j,o=S,s=0;s<r;){var u=e[o(n,a)&t];a+=15&u;var l=u>>>4;if(l<=15)c[s]=l,s++;else{var f=0,d=0;16==l?(d=3+i(n,a,2),a+=2,f=c[s-1]):17==l?(d=3+i(n,a,3),a+=3):18==l&&(d=11+i(n,a,7),a+=7);for(var p=s+d;s<p;)c[s]=f,s++}}return a}function x(e,t,r,n){for(var a=0,c=0,i=n.length>>>1;c<r;){var o=e[c+t];n[c<<1]=0,n[1+(c<<1)]=o,o>a&&(a=o),c++}for(;c<i;)n[c<<1]=0,n[1+(c<<1)]=0,c++;return a}function O(e,t){for(var r,n,a,c,i=e.length,o=A.bl_count,s=0;s<=t;s++)o[s]=0;for(s=1;s<i;s+=2)o[e[s]]++;var u=A.next_code;for(r=0,o[0]=0,n=1;n<=t;n++)r=r+o[n-1]<<1,u[n]=r;for(a=0;a<i;a+=2)0!=(c=e[a+1])&&(e[a]=u[c],u[c]++)}function k(e,t,r){for(var n=e.length,a=A.rev15,c=0;c<n;c+=2)if(0!=e[c+1])for(var i=c>>1,o=e[c+1],s=i<<4|o,u=t-o,l=e[c]<<u,f=l+(1<<u);l!=f;){r[a[l]>>>15-t]=s,l++}}function g(e,t){for(var r=A.rev15,n=15-t,a=0;a<e.length;a+=2){var c=e[a]<<t-e[a+1];e[a]=r[c]>>>n}}function j(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<r)-1}function E(e,t,r){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<r)-1}function S(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}var A=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}();!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,A.rev15[e]=(t>>>16|t<<16)>>>17}function r(e,t,r){for(;0!=t--;)e.push(0,r)}for(e=0;e<32;e++)A.ldef[e]=A.of0[e]<<3|A.exb[e],A.ddef[e]=A.df0[e]<<4|A.dxb[e];r(A.fltree,144,8),r(A.fltree,112,9),r(A.fltree,24,7),r(A.fltree,8,8),O(A.fltree,9),k(A.fltree,9,A.flmap),g(A.fltree,9),r(A.fdtree,32,5),O(A.fdtree,5),k(A.fdtree,5,A.fdmap),g(A.fdtree,5),r(A.itree,19,0),r(A.ltree,286,0),r(A.dtree,30,0),r(A.ttree,320,0)}();var z={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var a=0;a<n;a++)e=z.table[255&(e^t[r+a])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^z.update(4294967295,e,t,r)}};function L(e,t){return function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var n=E,a=j,c=w,i=S,o=null==t;o&&(t=new r(e.length>>>2<<3));for(var s,u,l=0,f=0,d=0,p=0,h=0,v=0,b=0,m=0,g=0;0==l;)if(l=n(e,g,1),f=n(e,g+1,2),g+=3,0!=f){if(o&&(t=y(t,m+(1<<17))),1==f&&(s=A.flmap,u=A.fdmap,v=511,b=31),2==f){d=a(e,g,5)+257,p=a(e,g+5,5)+1,h=a(e,g+10,4)+4,g+=14;for(var z=0;z<38;z+=2)A.itree[z]=0,A.itree[z+1]=0;var L=1;for(z=0;z<h;z++){var C=a(e,g+3*z,3);A.itree[1+(A.ordr[z]<<1)]=C,C>L&&(L=C)}g+=3*h,O(A.itree,L),k(A.itree,L,A.imap),s=A.lmap,u=A.dmap,g=c(A.imap,(1<<L)-1,d+p,e,g,A.ttree);var B=x(A.ttree,0,d,A.ltree);v=(1<<B)-1;var R=x(A.ttree,d,p,A.dtree);b=(1<<R)-1,O(A.ltree,B),k(A.ltree,B,s),O(A.dtree,R),k(A.dtree,R,u)}for(;;){var M=s[i(e,g)&v];g+=15&M;var P=M>>>4;if(P>>>8==0)t[m++]=P;else{if(256==P)break;var F=m+P-254;if(P>264){var D=A.ldef[P-257];F=m+(D>>>3)+a(e,g,7&D),g+=7&D}var U=u[i(e,g)&b];g+=15&U;var _=U>>>4,N=A.ddef[_],I=(N>>>4)+n(e,g,15&N);for(g+=15&N,o&&(t=y(t,m+(1<<17)));m<F;)t[m]=t[m++-I],t[m]=t[m++-I],t[m]=t[m++-I],t[m]=t[m++-I];m=F}}}else{0!=(7&g)&&(g+=8-(7&g));var V=4+(g>>>3),H=e[V-4]|e[V-3]<<8;o&&(t=y(t,m+H)),t.set(new r(e.buffer,e.byteOffset+V,H),m),g=V+H<<3,m+=H}return t.length==m?t:t.slice(0,m)}(e,t)}var C={numWorkers:1,workerURL:"",useWorkers:!1},B=0,R=0,M=!0,P=[],F=[],D=[],U=new Map;function _(e){V(e.target);var t=e.data,r=t.id,n=t.error,a=t.data,c=U.get(r);U.delete(r),n?c.reject(n):c.resolve(a)}function N(e){return new Promise((function(t,r){var n=new Worker(e);n.onmessage=function(e){"start"===e.data?(n.onerror=void 0,n.onmessage=void 0,t(n)):r(new Error("unexpected message: ".concat(e.data)))},n.onerror=r}))}var I=function(){if(p){var e=(t="worker_threads",n.require(t)).Worker;return{createWorker:function(t){return Object(o.a)(Object(a.a)().mark((function r(){return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new e(t));case 1:case"end":return r.stop()}}),r)})))()},addEventListener:function(e,t){e.on("message",(function(r){t({target:e,data:r})}))},terminate:function(e){return Object(o.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.terminate();case 2:case"end":return t.stop()}}),t)})))()}}}return{createWorker:function(e){return Object(o.a)(Object(a.a)().mark((function t(){var r,n,c,i,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e);case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.warn("could not load worker:",e);case 10:return t.prev=10,t.next=13,fetch(e,{mode:"cors"});case 13:if((c=t.sent).ok){t.next=16;break}throw new Error("could not load: ".concat(e));case 16:return t.next=18,c.text();case 18:return n=t.sent,e=URL.createObjectURL(new Blob([n],{type:"application/javascript"})),t.next=22,N(e);case 22:return i=t.sent,C.workerURL=e,t.abrupt("return",i);case 27:t.prev=27,t.t1=t.catch(10),console.warn("could not load worker via fetch:",e);case 30:if(void 0===n){t.next=43;break}return t.prev=31,e="data:application/javascript;base64,".concat(btoa(n)),t.next=35,N(e);case 35:return o=t.sent,C.workerURL=e,t.abrupt("return",o);case 40:t.prev=40,t.t2=t.catch(31),console.warn("could not load worker via dataURI");case 43:throw console.warn("workers will not be used"),new Error("can not start workers");case 45:case"end":return t.stop()}}),t,null,[[0,7],[10,27],[31,40]])})))()},addEventListener:function(e,t){e.addEventListener("message",t)},terminate:function(e){return Object(o.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.terminate();case 1:case"end":return t.stop()}}),t)})))()}};var t}();function V(e){F.push(e),G()}function H(){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0===F.length&&R<C.numWorkers)){e.next=14;break}return++R,e.prev=2,e.next=5,I.createWorker(C.workerURL);case 5:t=e.sent,P.push(t),F.push(t),I.addEventListener(t,_),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),M=!1;case 14:return e.abrupt("return",F.pop());case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function W(e,t,r,n){var a=new Uint8Array(t);L(e,a),n(r?new Blob([a],{type:r}):a.buffer)}function G(){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(Object(a.a)().mark((function e(){var t,r,n,c,i,o,s,l,d,p,h,v,b,m,y;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==D.length){e.next=2;break}return e.abrupt("return");case 2:if(!C.useWorkers||!M){e.next=16;break}return e.next=5,H();case 5:if(t=e.sent,!M){e.next=16;break}if(!t){e.next=15;break}if(0!==D.length){e.next=11;break}return V(t),e.abrupt("return");case 11:r=D.shift(),n=r.id,c=r.src,i=r.uncompressedSize,o=r.type,s=r.resolve,l=r.reject,U.set(n,{id:n,resolve:s,reject:l}),d=[],t.postMessage({type:"inflate",data:{id:n,type:o,src:c,uncompressedSize:i}},d);case 15:return e.abrupt("return");case 16:if(!D.length){e.next=26;break}if(p=D.shift(),h=p.src,v=p.uncompressedSize,b=p.type,m=p.resolve,y=h,!f(h)){e.next=23;break}return e.next=22,u(h);case 22:y=e.sent;case 23:W(y,v,b,m),e.next=16;break;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t,r){return new Promise((function(n,a){D.push({src:e,uncompressedSize:t,type:r,resolve:n,reject:a,id:B++}),G()}))}var Z=function(){function e(t,r){var n,a;Object(c.a)(this,e),this._reader=t,this._rawEntry=r,this.name=r.name,this.nameBytes=r.nameBytes,this.size=r.uncompressedSize,this.compressedSize=r.compressedSize,this.comment=r.comment,this.commentBytes=r.commentBytes,this.compressionMethod=r.compressionMethod,this.lastModDate=(n=r.lastModFileDate,a=r.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,a>>11&31,a>>5&63,2*(31&a),0)),this.isDirectory=0===r.uncompressedSize&&r.name.endsWith("/"),this.encrypted=!!(1&r.generalPurposeBitFlag),this.externalFileAttributes=r.externalFileAttributes,this.versionMadeBy=r.versionMadeBy}return Object(i.a)(e,[{key:"blob",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){var t,r=arguments;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"application/octet-stream",e.next=3,xe(this._reader,this._rawEntry,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arrayBuffer",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(this._reader,this._rawEntry);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"text",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.arrayBuffer();case 2:return t=e.sent,e.abrupt("return",oe(new Uint8Array(t)));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"json",value:function(){var e=Object(o.a)(Object(a.a)().mark((function e(){var t;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),X=22,$=101010256,K=101075792;function Q(e,t,r){return Y.apply(this,arguments)}function Y(){return(Y=Object(o.a)(Object(a.a)().mark((function e(t,r,n){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.read(r,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e,t,r,n){return te.apply(this,arguments)}function te(){return(te=Object(o.a)(Object(a.a)().mark((function e(t,r,n,c){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.sliceAsBlob){e.next=4;break}return e.next=3,t.sliceAsBlob(r,n,c);case 3:case 6:return e.abrupt("return",e.sent);case 4:return e.next=6,t.read(r,n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=function(){return 0};function ne(e,t){return e[t]+256*e[t+1]}function ae(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function ce(e,t){return ae(e,t)+4294967296*ae(e,t+4)}var ie=new TextDecoder;function oe(e,t){return d(e.buffer)&&(e=new Uint8Array(e)),ie.decode(e)}function se(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c,i,o,s,u,l,f,d,p,h,v,b;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Math.min(65557,r),c=r-n,e.next=4,Q(t,c,n);case 4:i=e.sent,o=n-X;case 6:if(!(o>=0)){e.next=34;break}if(ae(i,o)===$){e.next=9;break}return e.abrupt("continue",31);case 9:if(s=new Uint8Array(i.buffer,i.byteOffset+o,i.byteLength-o),0===(u=ne(s,4))){e.next=13;break}throw new Error("multi-volume zip files are not supported. This is volume: ".concat(u));case 13:if(l=ne(s,10),f=ae(s,12),d=ae(s,16),p=ne(s,20),h=s.length-X,p===h){e.next=20;break}throw new Error("invalid comment length. expected: ".concat(h,", actual: ").concat(p));case 20:if(v=new Uint8Array(s.buffer,s.byteOffset+22,p),b=oe(v),65535!==l&&4294967295!==d){e.next=28;break}return e.next=25,fe(t,c+o,b,v);case 25:return e.abrupt("return",e.sent);case 28:return e.next=30,he(t,d,f,l,b,v);case 30:return e.abrupt("return",e.sent);case 31:--o,e.next=6;break;case 34:throw new Error("could not find end of central directory. maybe not zip file");case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=117853008;function fe(e,t,r,n){return de.apply(this,arguments)}function de(){return(de=Object(o.a)(Object(a.a)().mark((function e(t,r,n,c){var i,o,s,u,l,f,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r-20,e.next=3,Q(t,i,20);case 3:if(ae(o=e.sent,0)===le){e.next=6;break}throw new Error("invalid zip64 end of central directory locator signature");case 6:return s=ce(o,8),e.next=9,Q(t,s,56);case 9:if(ae(u=e.sent,0)===K){e.next=12;break}throw new Error("invalid zip64 end of central directory record signature");case 12:return l=ce(u,32),f=ce(u,40),d=ce(u,48),e.abrupt("return",he(t,d,f,l,n,c));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=33639248;function he(e,t,r,n,a,c){return ve.apply(this,arguments)}function ve(){return(ve=Object(o.a)(Object(a.a)().mark((function e(t,r,n,c,i,o){var s,u,l,f,d,p,h,v,b,m,y,w,x,O,k,g,j,E,S,A,z;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=0,e.next=3,Q(t,r,n);case 3:u=e.sent,l=[],f=0;case 6:if(!(f<c)){e.next=68;break}if(d=u.subarray(s,s+46),(p=ae(d,0))===pe){e.next=11;break}throw new Error("invalid central directory file header signature: 0x".concat(p.toString(16)));case 11:if(!(64&(h={versionMadeBy:ne(d,4),versionNeededToExtract:ne(d,6),generalPurposeBitFlag:ne(d,8),compressionMethod:ne(d,10),lastModFileTime:ne(d,12),lastModFileDate:ne(d,14),crc32:ae(d,16),compressedSize:ae(d,20),uncompressedSize:ae(d,24),fileNameLength:ne(d,28),extraFieldLength:ne(d,30),fileCommentLength:ne(d,32),internalFileAttributes:ne(d,36),externalFileAttributes:ae(d,38),relativeOffsetOfLocalHeader:ae(d,42)}).generalPurposeBitFlag)){e.next=14;break}throw new Error("strong encryption is not supported");case 14:s+=46,v=u.subarray(s,s+h.fileNameLength+h.extraFieldLength+h.fileCommentLength),h.nameBytes=v.slice(0,h.fileNameLength),h.name=oe(h.nameBytes),b=h.fileNameLength+h.extraFieldLength,m=v.slice(h.fileNameLength,b),h.extraFields=[],y=0;case 22:if(!(y<m.length-3)){e.next=33;break}if(w=ne(m,y+0),x=ne(m,y+2),!((k=(O=y+4)+x)>m.length)){e.next=29;break}throw new Error("extra field length exceeds extra field buffer size");case 29:h.extraFields.push({id:w,data:m.slice(O,k)}),y=k,e.next=22;break;case 33:if(h.commentBytes=v.slice(b,b+h.fileCommentLength),h.comment=oe(h.commentBytes),s+=v.length,4294967295!==h.uncompressedSize&&4294967295!==h.compressedSize&&4294967295!==h.relativeOffsetOfLocalHeader){e.next=57;break}if(g=h.extraFields.find((function(e){return 1===e.id})),g){e.next=40;break}throw new Error("expected zip64 extended information extra field");case 40:if(j=g.data,E=0,4294967295!==h.uncompressedSize){e.next=47;break}if(!(E+8>j.length)){e.next=45;break}throw new Error("zip64 extended information extra field does not include uncompressed size");case 45:h.uncompressedSize=ce(j,E),E+=8;case 47:if(4294967295!==h.compressedSize){e.next=52;break}if(!(E+8>j.length)){e.next=50;break}throw new Error("zip64 extended information extra field does not include compressed size");case 50:h.compressedSize=ce(j,E),E+=8;case 52:if(4294967295!==h.relativeOffsetOfLocalHeader){e.next=57;break}if(!(E+8>j.length)){e.next=55;break}throw new Error("zip64 extended information extra field does not include relative header offset");case 55:h.relativeOffsetOfLocalHeader=ce(j,E),E+=8;case 57:if(S=h.extraFields.find((function(e){return 28789===e.id&&e.data.length>=6&&1===e.data[0]&&ae(e.data,1)}),re(h.nameBytes)),S&&(h.fileName=oe(S.data.slice(5))),0!==h.compressionMethod){e.next=64;break}if(A=h.uncompressedSize,0!==(1&h.generalPurposeBitFlag)&&(A+=12),h.compressedSize===A){e.next=64;break}throw new Error("compressed size mismatch for stored file: ".concat(h.compressedSize," != ").concat(A));case 64:l.push(h);case 65:++f,e.next=6;break;case 68:return z={comment:i,commentBytes:o},e.abrupt("return",{zip:z,entries:l.map((function(e){return new Z(t,e)}))});case 70:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return me.apply(this,arguments)}function me(){return(me=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c,i,o,s,u,l,f,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(1&r.generalPurposeBitFlag)){e.next=2;break}throw new Error("encrypted entries not supported");case 2:return e.next=4,Q(t,r.relativeOffsetOfLocalHeader,30);case 4:return n=e.sent,e.next=7,t.getLength();case 7:if(c=e.sent,67324752===(i=ae(n,0))){e.next=11;break}throw new Error("invalid local file header signature: 0x".concat(i.toString(16)));case 11:if(o=ne(n,26),s=ne(n,28),u=r.relativeOffsetOfLocalHeader+n.length+o+s,0!==r.compressionMethod){e.next=18;break}l=!1,e.next=23;break;case 18:if(8!==r.compressionMethod){e.next=22;break}l=!0,e.next=23;break;case 22:throw new Error("unsupported compression method: ".concat(r.compressionMethod));case 23:if(d=(f=u)+r.compressedSize,0===r.compressedSize){e.next=28;break}if(!(d>c)){e.next=28;break}throw new Error("file data overflows file bounds: ".concat(f," +  ").concat(r.compressedSize,"  > ").concat(c));case 28:return e.abrupt("return",{decompress:l,fileDataStart:f});case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e,t){return we.apply(this,arguments)}function we(){return(we=Object(o.a)(Object(a.a)().mark((function e(t,r){var n,c,i,o,s,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,r);case 2:if(n=e.sent,c=n.decompress,i=n.fileDataStart,c){e.next=10;break}return e.next=8,Q(t,i,r.compressedSize);case 8:return o=e.sent,e.abrupt("return",h(o)?o.buffer:o.slice().buffer);case 10:return e.next=12,ee(t,i,r.compressedSize);case 12:return s=e.sent,e.next=15,J(s,r.uncompressedSize);case 15:return u=e.sent,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(o.a)(Object(a.a)().mark((function e(t,r,n){var c,i,o,s,u,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,r);case 2:if(c=e.sent,i=c.decompress,o=c.fileDataStart,i){e.next=12;break}return e.next=8,ee(t,o,r.compressedSize,n);case 8:if(!f(s=e.sent)){e.next=11;break}return e.abrupt("return",s);case 11:return e.abrupt("return",new Blob([d(s.buffer)?new Uint8Array(s):s],{type:n}));case 12:return e.next=14,ee(t,o,r.compressedSize);case 14:return u=e.sent,e.next=17,J(u,r.uncompressedSize,n);case 17:return l=e.sent,e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return ge.apply(this,arguments)}function ge(){return(ge=Object(o.a)(Object(a.a)().mark((function e(t){var r,n,c,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("undefined"!==typeof Blob&&t instanceof Blob)){e.next=4;break}r=new b(t),e.next=29;break;case 4:if(!(t instanceof ArrayBuffer||t&&t.buffer&&t.buffer instanceof ArrayBuffer)){e.next=8;break}r=new v(t),e.next=29;break;case 8:if(!d(t)&&!d(t.buffer)){e.next=12;break}r=new v(t),e.next=29;break;case 12:if("string"!==typeof t){e.next=24;break}return e.next=15,fetch(t);case 15:if((n=e.sent).ok){e.next=18;break}throw new Error("failed http request ".concat(t,", status: ").concat(n.status,": ").concat(n.statusText));case 18:return e.next=20,n.blob();case 20:c=e.sent,r=new b(c),e.next=29;break;case 24:if("function"!==typeof t.getLength||"function"!==typeof t.read){e.next=28;break}r=t,e.next=29;break;case 28:throw new Error("unsupported source type");case 29:return e.next=31,r.getLength();case 31:if(!((i=e.sent)>Number.MAX_SAFE_INTEGER)){e.next=34;break}throw new Error("file too large. size: ".concat(i,". Only file sizes up 4503599627370496 bytes are supported"));case 34:return e.next=36,se(r,i);case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(o.a)(Object(a.a)().mark((function e(t){var r,n,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t);case 2:return r=e.sent,n=r.zip,c=r.entries,e.abrupt("return",{zip:n,entries:Object.fromEntries(c.map((function(e){return[e.name,e]})))});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,r(284),r(1292)(e))},2612:function(e,t){},2613:function(e,t){},2614:function(e,t){},2615:function(e,t){},2616:function(e,t){},2802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n},c=r(53);var i=function(e){return a.default.createElement(c.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 19v-4.5a2 2 0 114 0V19h4a1 1 0 001-1v-7.831l-6.293-6.296a1 1 0 00-1.414 0L5 10.169V18a1 1 0 001 1h4zm11-6.83V18a3 3 0 01-3 3H6a3 3 0 01-3-3v-5.83l-.04.04c-.39.39-1.03.39-1.42 0-.39-.39-.39-1.03 0-1.42l8.339-8.331a3 3 0 014.242 0l8.339 8.331c.39.39.39 1.03 0 1.42-.39.39-1.03.39-1.42 0l-.04-.04z" fill="currentColor"/></svg>'},e))};i.displayName="HomeIcon";var o=i;t.default=o},2803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=(n=r(0))&&n.__esModule?n:{default:n},c=r(53);var i=function(e){return a.default.createElement(c.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="#B3D4FF" fill-rule="evenodd"><path d="M10 4h12a2 2 0 012 2v14a2 2 0 01-2 2H2a2 2 0 01-2-2V4a2 2 0 012-2h6a2 2 0 012 2z"/><path d="M0 6h24v14a2 2 0 01-2 2H2a2 2 0 01-2-2V6z" style="mix-blend-mode:multiply"/></g></svg>'},e,{size:"medium"}))};i.displayName="Folder24Icon";var o=i;t.default=o},3292:function(e,t,r){"use strict";r.r(t),r.d(t,"getArchiveEntriesFromFileState",(function(){return Ke})),r.d(t,"ArchiveViewerBase",(function(){return Qe})),r.d(t,"ArchiveViewer",(function(){return Ye}));var n=r(9),a=r.n(n),c=r(10),i=r.n(c),o=r(5),s=r.n(o),u=r(15),l=r.n(u),f=r(18),d=r.n(f),p=r(7),h=r.n(p),v=r(1),b=r.n(v),m=r(25),y=r.n(m),w=r(12),x=r.n(w),O=r(0),k=r.n(O),g=r(2609),j=r(805),E=r(3290),S=r(2088),A=r(2417),z=r(3179),L=r(2355),C=r(2525),B=r.n(C),R=r(2362),M=r(2365),P=r(2547),F=r(2610),D=r(2505),U=r(2),_=r(2450),N=function(e){var t=e.children;return Object(U.d)("div",{css:_.c},t)},I=function(e){var t=e.children;return Object(U.d)("div",{css:_.e},t)},V=function(e){var t=e.children;return Object(U.d)("div",{css:_.g,"data-testid":"archive-sidebar-folder-wrapper"},t)},H=function(e){var t=e.children,r=e.onClick;return Object(U.d)("div",{css:_.b,onClick:r},t)},T=function(e){var t=e.children;return Object(U.d)("div",{css:_.n},t)},W=function(e){var t=e.children,r=e.index;return Object(U.d)("div",{css:_.f,key:r},t)},G=function(e){var t=e.children;return Object(U.d)("div",{css:_.d},t)},q=function(e){var t=e.children;return Object(U.d)("div",{css:_.h},t)},J=function(){return Object(U.d)("div",{css:_.j})},Z=function(e){var t=e.children;return Object(U.d)("span",{css:_.m},t)},X=function(e){var t=e.children;return Object(U.d)("div",{css:_.l},t)},$=function(e){var t=e.children;return Object(U.d)("div",{css:_.k},t)},K=r(28),Q=r.n(K),Y=r(42),ee=r.n(Y),te=r(2061),re=r(6),ne=r(49);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=Object(ne.h)(),oe=Object(ne.d)(),se=3*ie,ue=2*ie,le=1.25*ie,fe={"&:hover":{color:"var(--ds-text-subtle, ".concat(re.T,")"),backgroundColor:"var(--ds-background-neutral-subtle-hovered, ".concat(re.M,")")},"&:active":{color:"var(--ds-text-subtle, ".concat(re.d,")"),backgroundColor:"var(--ds-background-neutral-subtle-pressed, ".concat(re.e,")")}},de={backgroundColor:"var(--ds-background-selected, ".concat(re.M,")"),color:"var(--ds-text-selected, ".concat(re.d,")"),":visited":{color:"var(--ds-text-selected, ".concat(re.d,")")},"&:hover":{backgroundColor:"var(--ds-background-selected-hovered, ".concat(re.M,")"),color:"var(--ds-text-selected, ".concat(re.T,")")},"&:active":{backgroundColor:"var(--ds-background-selected-pressed, ".concat(re.e,")"),color:"var(--ds-text-selected, ".concat(re.d,")")}},pe=function(e){var t=e.isSelected,r=e.isDisabled;return ce(ce(ce({padding:"".concat(ie,"px ").concat(le,"px"),borderRadius:oe,backgroundColor:"var(--ds-surface, ".concat(re.G,")")},!r&&!t&&fe),!r&&t&&de),{},b()({},"& [data-item-elem-before]",{display:"flex",height:se,width:se,alignItems:"center",justifyContent:"center",marginRight:ue}))},he=Object(O.createContext)(void 0),ve=["cssFn"],be=Object(O.forwardRef)((function(e,t){var r=e.cssFn,n=ee()(e,ve);if(!function(){var e=Object(O.useContext)(he);return e?{shouldRender:e.currentStackId===e.parentId}:{shouldRender:!0}}().shouldRender)return null;var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return{}};return function(r){return[e(r),t(r)]}}(pe,r);return k.a.createElement(te.a,Q()({ref:t,cssFn:a},n))})),me=be,ye=r(2803),we=r.n(ye),xe=r(682),Oe=r.n(xe),ke=function(e,t){var r=!!window.MSInputMethodContext&&!!document.documentMode,n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a="media-download-iframe",c=document.createElement("a"),i=document.getElementById(a);i||((i=document.createElement("iframe")).style.display="none",i.id=a,i.name=a,document.body.appendChild(i)),c.href=e,t&&t.name&&(c.download=t.name),c.target=r||n?"_blank":a,document.body.appendChild(c),c.click(),document.body.removeChild(c)},ge=r(2401),je=r(2374);function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Se=function(e){l()(r,e);var t=Ee(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),b()(s()(e),"renderEntry",(function(t){var r=e.props,n=r.root,a=r.onEntrySelected;return k.a.createElement(W,{key:t.name,index:t.name},k.a.createElement(T,null,k.a.createElement(me,{iconBefore:e.renderEntryIcon(t),onClick:function(){return a(t)},cssFn:function(){return _.i}},e.formatName(n,t.name))),t.isDirectory?null:e.renderDownloadButton(t,n))})),b()(s()(e),"renderEntryIcon",(function(e){if(e.isDirectory)return k.a.createElement(we.a,{label:"Folder"});var t=Object(je.d)(e.name);return k.a.createElement(ge.b,{type:t})})),b()(s()(e),"renderDownloadButton",(function(t,r){return k.a.createElement(H,{onClick:function(){return e.downloadZipEntry(t,r)}},k.a.createElement(Oe.a,{label:"Download"}))})),b()(s()(e),"downloadZipEntry",function(){var t=y()(x.a.mark((function t(r,n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(je.h)((function(){return r.blob()}));case 3:a=t.sent,c=e.formatName(n,r.name),ke(URL.createObjectURL(a),{name:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.props.onError(t.t0,r);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),e}return i()(r,[{key:"isDirectChild",value:function(e,t){return t.name.startsWith(e)&&t.name.replace(e,"").match(/^[^/]+\/?$/g)}},{key:"formatName",value:function(e,t){return t.replace(e,"")}},{key:"render",value:function(){var e=this,t=this.props,r=t.root,n=t.entries,a=Object.values(n).filter((function(t){return e.isDirectChild(r,t)})).filter((function(e){return!Object(je.g)(e.name)})).map(this.renderEntry);return k.a.createElement(V,null,a)}}]),r}(k.a.Component),Ae=r(1143),ze=r.n(Ae),Le=r(2802),Ce=r.n(Le);function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Re=function(e){l()(r,e);var t=Be(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),b()(s()(e),"getHeaderIcon",(function(){return e.props.folderName?k.a.createElement(ze.a,{label:"Back"}):k.a.createElement(Ce.a,{label:"Home"})})),e}return i()(r,[{key:"render",value:function(){var e=this.props,t=e.folderName,r=e.onHeaderClick;return k.a.createElement(me,{onClick:r,cssFn:function(){return _.i}},k.a.createElement(Z,null,k.a.createElement(X,null,this.getHeaderIcon()),k.a.createElement($,null,Object(je.c)(t))))}}]),r}(k.a.Component);function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var De=function(e){l()(r,e);var t=Fe(r);function r(e){var n;a()(this,r),n=t.call(this,e),b()(s()(n),"getArchiveFromEntry",function(){var e=y()(x.a.mark((function e(t){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(je.h)((function(){return t.blob()}));case 2:return r=e.sent,e.next=5,Object(je.h)((function(){return Object(g.b)(r)}));case 5:return a=e.sent,Object.values(a.entries).forEach((function(e){e.name=n.state.currentArchiveSidebarFolder.name+e.name})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b()(s()(n),"onEntrySelected",function(){var e=y()(x.a.mark((function e(t){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.onEntrySelected,t.isDirectory||r(t),a=!t.isDirectory&&"archive"===Object(je.d)(t.name),e.prev=3,!a&&!t.isDirectory){e.next=9;break}return e.next=7,n.onFolderEntrySelected(t,a);case 7:e.next=10;break;case 9:case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",n.props.onError(e.t0,t));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()),b()(s()(n),"onFolderEntrySelected",function(){var e=y()(x.a.mark((function e(t,r){var a,c,i,o,s,u,l,f,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props,c=a.entries,i=a.mediaClient,!r){e.next=7;break}return e.next=4,n.getArchiveFromEntry(t);case 4:s=e.sent.entries,c=Pe(Pe({},c),s),o=Object(je.a)(t.name);case 7:u=n.props,l=u.isArchiveEntryLoading,f=u.onError,d=o||t.name,n.setState({currentArchiveSidebarFolder:{isArchiveEntryLoading:l,root:d,name:d,entries:c,onEntrySelected:n.onEntrySelected,mediaClient:i,onError:f}});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b()(s()(n),"onHeaderClicked",(function(){var e=n.props,t=e.entries,r=e.mediaClient,a=e.onHeaderClicked,c=e.isArchiveEntryLoading,i=e.onError,o=Object(je.b)(n.state.currentArchiveSidebarFolder.root);n.setState({currentArchiveSidebarFolder:{isArchiveEntryLoading:c,root:o,name:o,entries:t,onEntrySelected:n.onEntrySelected,mediaClient:r,onError:i}}),a()}));var c=e.isArchiveEntryLoading,i=e.entries,o=e.mediaClient,u=e.onError;return n.state={currentArchiveSidebarFolder:{isArchiveEntryLoading:c,root:"",name:"/",entries:i,onEntrySelected:n.onEntrySelected,hideHeader:!0,mediaClient:o,onError:u}},n}return i()(r,[{key:"render",value:function(){var e=this.state.currentArchiveSidebarFolder,t=this.props.onError;return k.a.createElement(I,null,k.a.createElement(Re,{folderName:e.root,onHeaderClick:this.onHeaderClicked}),k.a.createElement(J,null),k.a.createElement(Se,Q()({},e,{onError:t})))}}]),r}(k.a.Component),Ue=r(2356),_e=r(2349);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Ie=function(e){l()(r,e);var t=Ne(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),b()(s()(e),"state",{entries:{},status:"loading"}),e}return i()(r,[{key:"componentDidMount",value:function(){var e=y()(x.a.mark((function e(){var t,r,n,a,c,i,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.selectedFileState,n=t.mediaClient,a=t.collectionName,c=t.onError,i=t.onSuccess,e.prev=1,e.next=4,Ke(r,n,a);case 4:o=e.sent,s=o.entries,this.setState({entries:s,status:"loaded"}),i(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({status:"loaded"}),c(new _e.a("archiveviewer-read-binary",e.t0));case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.entries,r=e.status,n=this.props,a=n.mediaClient,c=n.onHeaderClicked,i=n.isArchiveEntryLoading,o=n.onSelectedArchiveEntryChange,s=n.onError;return k.a.createElement(k.a.Fragment,null,"loading"===r&&k.a.createElement(I,null,k.a.createElement(L.I,null,k.a.createElement(Ue.a,null)))||k.a.createElement(De,{entries:t,onEntrySelected:o,onHeaderClicked:c,mediaClient:a,isArchiveEntryLoading:i,onError:s}))}}]),r}(O.Component),Ve="encrypted entries not supported",He=r(505),Te=r(2360),We=function(e,t){var r=Object(Te.f)(e);return{eventType:"operational",actionSubject:"mediaFile",action:"zipEntryLoadSucceeded",attributes:{status:"success",fileAttributes:{fileId:r.fileId,fileMediatype:r.fileMediatype,fileMimetype:r.fileMimetype,fileSize:r.fileSize,fileStatus:r.fileStatus},size:t.size,encrypted:t.encrypted,compressedSize:t.compressedSize,mimeType:Object(je.e)(t.name)}}},Ge=r(3093),qe=r(2451),Je=r(2634);function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var a=h()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d()(this,r)}}var Ke=function(){var e=y()(x.a.mark((function e(t,r,n){var a,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.file.getFileBinaryURL(t.id,n);case 2:return a=e.sent,c=new g.a(a),e.next=6,Object(je.h)((function(){return Object(g.b)(c)}));case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Qe=function(e){l()(r,e);var t=$e(r);function r(){var e;a()(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),b()(s()(e),"onError",(function(t,r){e.props.onError(t),e.setState({content:z.a.successful(Xe(Xe({},e.state.content.data),{},{selectedArchiveEntry:r,error:t}))})})),b()(s()(e),"onSelectedArchiveEntryChange",function(){var t=y()(x.a.mark((function t(r){var n,a,c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({content:z.a.successful(Xe(Xe({},e.state.content.data),{},{selectedArchiveEntry:void 0}))}),n="",a="",c=Object(A.c)(r.name,Object(je.e)(r.name)),r.isDirectory){t.next=19;break}return t.prev=5,t.next=8,Object(je.h)((function(){return r.blob()}));case 8:if(i=t.sent,n=URL.createObjectURL(i),!c){t.next=14;break}return t.next=13,Object(je.h)((function(){return i.text()}));case 13:a=t.sent;case 14:t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(5),t.abrupt("return",e.onError(new _e.a(t.t0.message===Ve?"archiveviewer-encrypted-entry":"archiveviewer-create-url",t.t0),r));case 19:e.setState({content:z.a.successful(Xe(Xe({},e.state.content.data),{},{selectedArchiveEntry:r,src:n,name:r.name,isDirectory:r.isDirectory,error:void 0,codeViewerSrc:a,isCodeMimeType:c}))});case 20:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}()),b()(s()(e),"onHeaderClicked",(function(){e.setState({content:z.a.successful(Xe({},e.state.content.data))})})),b()(s()(e),"onViewerLoad",(function(t){return function(){Object(Te.e)(We(e.props.item,t),e.props)}})),b()(s()(e),"onViewerError",(function(t,r){return function(n){return n&&Object(_e.g)(n)?e.onError(new _e.a(t,n.secondaryError,r)):e.onError(new _e.a(t,n,r))}})),b()(s()(e),"onSidebarLoaded",(function(){e.setState({content:z.a.successful(Xe(Xe({},e.state.content.data),{},{hasLoadedEntries:!0}))}),e.props.onSuccess()})),e}return i()(r,[{key:"init",value:function(){var e=y()(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(this.initialState);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialState",get:function(){return{content:z.a.successful({src:"",name:"",isDirectory:!0})}}},{key:"release",value:function(){var e=this.state.content;e.data&&e.data.src&&URL.revokeObjectURL(e.data.src)}},{key:"renderSuccessful",value:function(e){var t=this.props,r=t.item,n=t.mediaClient,a=t.collectionName,c=e.selectedArchiveEntry,i=e.hasLoadedEntries,o=void 0!==c;return k.a.createElement(G,null,k.a.createElement(Ie,{selectedFileState:r,mediaClient:n,onSelectedArchiveEntryChange:this.onSelectedArchiveEntryChange,onHeaderClicked:this.onHeaderClicked,isArchiveEntryLoading:!o,collectionName:a,onError:this.onError,onSuccess:this.onSidebarLoaded}),k.a.createElement(q,null,o||i?this.renderArchiveItemViewer(e):k.a.createElement(q,null,k.a.createElement(Ue.a,null))))}},{key:"renderArchiveItemViewer",value:function(e){var t=this.props.item,r=e.src,n=e.name,a=e.isDirectory,c=e.error,i=e.selectedArchiveEntry,o=e.codeViewerSrc,s=e.isCodeMimeType;if(c)return this.renderPreviewError(c,i);if(!a&&i){if(!n||!r)return this.renderPreviewError(new _e.a("archiveviewer-missing-name-src"),i);var u=Object(je.d)(n);if(s)return(null===i||void 0===i?void 0:i.size)>Je.b?this.renderPreviewError(new _e.a("archiveviewer-codeviewer-file-size-exceeds"),i):k.a.createElement(Ge.CodeViewRenderer,{onSuccess:this.onViewerLoad(i),onError:this.onViewerError("archiveviewer-codeviewer-onerror",i),item:t,src:o||"",language:Object(A.b)(n)||qe.a});switch(u){case"image":return k.a.createElement(N,null,k.a.createElement(P.a,{src:r,onLoad:this.onViewerLoad(i),onError:this.onViewerError("archiveviewer-imageviewer-onerror",i)}));case"video":return k.a.createElement(N,null,k.a.createElement(L.k,{"data-testid":"media-viewer-video-content"},k.a.createElement(E.a,{type:"video",isAutoPlay:!1,src:r,onCanPlay:this.onViewerLoad(i),onError:this.onViewerError("archiveviewer-videoviewer-onerror",i)})));case"audio":return k.a.createElement(N,null,k.a.createElement(L.e,{"data-testid":"media-viewer-audio-content"},k.a.createElement(L.l,null,k.a.createElement(B.a,{label:"cover",size:"xlarge",primaryColor:D.g})),k.a.createElement(L.j,null,k.a.createElement(E.a,{type:"audio",isAutoPlay:!1,src:r,onCanPlay:this.onViewerLoad(i),onError:this.onViewerError("archiveviewer-audioviewer-onerror",i)}))));case"doc":return k.a.createElement(N,null,k.a.createElement(F.PDFRenderer,{item:t,src:r,onSuccess:this.onViewerLoad(i),onError:this.onViewerError("archiveviewer-docviewer-onerror",i)}));case"archive":return k.a.createElement(N,null);default:return this.renderPreviewError(new _e.a("archiveviewer-unsupported"),i)}}}},{key:"renderPreviewError",value:function(e,t){var r=this.props.item;return Object(Te.e)(function(e,t,r){var n=Object(Te.f)(e),a=n.fileId,c=n.fileMediatype,i=n.fileMimetype,o=n.fileSize,s=n.fileStatus;return{eventType:"operational",actionSubject:"mediaFile",action:"zipEntryLoadFailed",attributes:{status:"fail",failReason:Object(_e.d)(t),error:Object(_e.f)(t),errorDetail:Object(_e.c)(t),fileAttributes:{fileId:a,fileMediatype:c,fileMimetype:i,fileSize:o,fileStatus:s},size:r?r.size:-1,encrypted:!!r&&r.encrypted,compressedSize:r?r.compressedSize:-1,mimeType:r?Object(je.e)(r.name):"undefined"}}}(this.props.item,e,t),this.props),k.a.createElement(R.a,{fileId:r.id,fileState:r,error:e,supressAnalytics:!0},k.a.createElement("p",null,k.a.createElement(j.a,S.a.try_downloading_file)))}}]),r}(M.a),Ye=Object(He.a)()(Qe)}}]);