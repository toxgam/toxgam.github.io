(this["webpackJsonphappy-author"]=this["webpackJsonphappy-author"]||[]).push([[162,147],{2353:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(392),a=n(2485),i="\n  display: flex;\n  justify-content: center;\n",o="\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n",c=("\n  border-top-left-radius: ".concat(Object(r.d)(),";\n  border-bottom-left-radius: ").concat(Object(r.d)(),";\n"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"\n  transition: ".concat(e," ").concat(a.a,";\n")}),s=function(e,t){return"rgba(".concat(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),",").concat(parseInt(t[2],16),",").concat(parseInt(t[3],16)):null}(e),", ").concat(t,")")}},2388:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var r,a=n(8),i=n.n(a),o=n(2),c=n(392),s=(n(527),function(){return Object(o.c)(r||(r=i()(["\n  box-sizing: border-box;\n  font-family: ",";\n\n  * {\n    box-sizing: border-box;\n  }\n"])),Object(c.e)())}),d="\n  box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);\n"},2399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.595 19.522C7.162 20.364 6 19.702 6 18.04V5.963C6 4.3 7.158 3.635 8.595 4.479l11.083 6.51c.951.559.958 1.46 0 2.023l-11.083 6.51z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};o.displayName="VidPlayIcon";var c=o;t.default=c},2400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentColor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0112 4a4 4 0 014 4.002V10a2 2 0 012 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 016 18v-6c0-1.102.897-1.995 2-2zm2 0h4V8.002A2.001 2.001 0 0012 6c-1.102 0-2 .898-2 2.002V10zm2 7a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e))};o.displayName="LockFilledIcon";var c=o;t.default=c},2418:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var r,a,i=n(1),o=n.n(i);!function(e){e.SMALL="small",e.LARGE="large"}(a||(a={}));var c=(r={},o()(r,a.SMALL,{fontSize:11,lineHeight:14,titleBox:{verticalPadding:4,horizontalPadding:8}}),o()(r,a.LARGE,{fontSize:14,lineHeight:22,titleBox:{verticalPadding:8,horizontalPadding:12}}),r),s=function(e){return 2*(c[e].lineHeight+c[e].titleBox.verticalPadding)}},2435:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return A}));var r,a,i=n(12),o=n.n(i),c=n(25),s=n.n(c);!function(e){e.JPEG="image/jpeg",e.PNG="image/png"}(r||(r={})),function(e){e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation"}(a||(a={}));var d,l={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8},u=n(1),p=n.n(u),f=n(59),v=n.n(f),b=a.XResolution,h=a.YResolution;function m(e){return new Promise(function(){var t=s()(o.a.mark((function t(r,a){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=5;break}return t.next=3,n.e(167).then(n.t.bind(null,3202,7));case 3:i=t.sent,d=i.default||i;case 5:d.parseMetaData(e,(function(e){try{var t=e&&e.exif?e.exif.getAll():{};Object.keys(t).forEach((function(e){var n=t[e];"object"!==v()(n)||e!==b&&e!==h||!("numerator"in n)||(t[e]=n.numerator),"number"===typeof t[e]&&(t[e]="".concat(t[e]))})),r(t)}catch(n){a(n)}}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}var g,y=n(2358);function O(e){return x.apply(this,arguments)}function x(){return x=s()(o.a.mark((function e(t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=5;break}return e.next=3,n.e(178).then(n.t.bind(null,3201,7));case 3:r=e.sent,g=r.default||r;case 5:return e.next=7,Object(y.a)(t);case 7:return a=e.sent,i=g(a),e.next=11,w(i);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=s()(o.a.mark((function e(t){var n,r,a,i,c,s,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",r={},a=0;case 3:if(!(a<t.length)){e.next=12;break}if("IEND"!==(i=t[a]).name){e.next=7;break}return e.abrupt("break",12);case 7:"iTXt"===i.name&&(n=String.fromCharCode.apply(null,Array.from(i.data))),"pHYs"===i.name&&(c=new DataView(i.data.buffer),1===c.getUint8(8)&&(s=c.getUint32(0),d=c.getUint32(4),r={PixelPerUnitX:s,PixelPerUnitY:d}));case 9:++a,e.next=3;break;case 12:return e.abrupt("return",{iTXt:n,pHYs:r});case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var t={},n=e.match(/<(tiff|exif):.+>/gi);return n&&n.forEach((function(e){var n=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(n){var r=n[2];t[r]=n[3]}})),t}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return S.apply(this,arguments)}function S(){return(S=s()(o.a.mark((function e(t){var n,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.type,e.prev=1,n!==r.PNG){e.next=12;break}return e.next=5,O(t);case 5:return a=e.sent,i=a.iTXt,c=a.pHYs,s=P(P({},j(i)),c),e.abrupt("return",s);case 12:if(t.type!==r.JPEG){e.next=16;break}return e.next=15,m(t);case 15:return e.abrupt("return",e.sent);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}var I=n(2346),E=a.Orientation,B=a.XResolution;function F(e){return D.apply(this,arguments)}function D(){return(D=s()(o.a.mark((function e(t){var n,r,a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=n.width,a=n.height,i=n.tags,c=M(t.file,i),e.abrupt("return",{scaleFactor:c,width:r,height:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){var n=function(e){try{var t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(n){}return null}(e);return null!==n?n:t?"number"===typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/72:L(t,B,72)/72:1}var T=function(e){if(e&&e[E]){var t=e[E];if(t){var n=parseInt(t,10);return isNaN(n)?l[t]:n}}return 1};function A(e){return z.apply(this,arguments)}function z(){return(z=s()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return n=e.sent,e.abrupt("return",T(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,n){try{var r=parseFloat("".concat(e[t]));if(!isNaN(r))return r}catch(a){}return n}function N(e){return U.apply(this,arguments)}function U(){return(U=s()(o.a.mark((function e(t){var n,r,a,i,c,s,d,l,u,p,f,v,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.src,a=n.type,i=0,c=0,e.next=6,R(n);case 6:if((s=e.sent)&&s.PixelXDimension&&(i=L(s,"PixelXDimension",0)),s&&s.PixelXDimension&&(c=L(s,"PixelYDimension",0)),d=T(s),l=Object(I.b)(d),u={type:a,width:i,height:c,naturalWidth:i,naturalHeight:c,tags:s},!(l||0===i&&0===c)){e.next=27;break}return e.prev=13,e.next=16,Object(y.e)(r);case 16:p=e.sent,f=Object(y.f)(p),v=f.width,b=f.height,u.width=v,u.height=b,u.naturalWidth=p.naturalWidth,u.naturalHeight=p.naturalHeight,e.next=27;break;case 24:return e.prev=24,e.t0=e.catch(13),e.abrupt("return",null);case 27:return e.abrupt("return",u);case 28:case"end":return e.stop()}}),e,null,[[13,24]])})))).apply(this,arguments)}},2439:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t="".concat(e);return"%"===t[t.length-1]&&!isNaN(+t.slice(0,-1))}},2440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e))};o.displayName="MoreIcon";var c=o;t.default=c},2441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.735 12.322a1 1 0 00-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2335.638 2335.638 0 003.939-3.883l.04-.04a492.598 492.598 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04a2049.114 2049.114 0 01-3.775 3.722l-3.098-3.363z" fill="currentColor"/></svg>'},e))};o.displayName="CheckIcon";var c=o;t.default=c},2484:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=e.getBoundingClientRect()[t];return Math.round(n)}},2485:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=".3s"},2486:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return j})),n.d(t,"b",(function(){return C}));var r,a=n(8),i=n.n(a),o=n(23),c=n.n(o),s=n(2),d=n(527),l=n(286),u=n(100),p=n(780),f=n(2082),v=n(2573),b=n(2487),h=n(2418),m=[[h.a.SMALL,599],[h.a.LARGE,1/0]],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=m.find((function(t){var n=c()(t,2),r=(n[0],n[1]);return e<=r}))||[h.a.SMALL],n=c()(t,1),r=n[0];return r},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a.SMALL,t=h.c[e];return"\n    font-size: ".concat(t.fontSize,"px;\n    line-height: ").concat(t.lineHeight,"px;\n  ")},O=function(e,t){var n=e||{},r=n.width,a=n.height,i=Object(f.b)(t),o=i.width,c=i.height;return"\n    width: ".concat(Object(p.a)(r||o),";\n    max-width: 100%;\n    height: ").concat(Object(p.a)(a||c),";\n    max-height: 100%;\n  ")},x=function(e,t){var n=e?"":"0 1px 1px ".concat(l.p,", 0 0 1px 0 ").concat(l.p),r=[t?u.G:"",n].filter(Boolean).join(", ");return r?"box-shadow: ".concat(r,";"):""},w=function(e){return e?"cursor: ".concat(e,";"):""},k=function(e){return e?"\n    &:hover .".concat(b.d," {\n      ").concat(b.c,"\n    }\n  "):""},j=function(e){return e?"\n    &:hover .".concat(v.a," {\n      ").concat(v.b,"\n    }\n  "):""},C=Object(s.c)(r||(r=i()(["\n  display: flex;\n  position: relative;\n  max-width: 100%;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  overflow: hidden;\n  ","\n"])),d.b)},2487:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return f}));var r,a,i=n(8),o=n.n(i),c=n(2),s=n(286),d="media-card-play-button",l="play-icon-background",u="\n  .".concat(l," {\n    width: ").concat(56,"px;\n    height: ").concat(56,"px;\n  }\n"),p=Object(c.c)(r||(r=o()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ",";\n  span {\n    position: absolute;\n  }\n"])),s.h),f=Object(c.c)(a||(a=o()(["\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  background: ",";\n  border-radius: 100%;\n"])),48,48,s.t)},2488:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="cubic-bezier(0.215, 0.61, 0.355, 1)"},2489:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(23),a=n.n(r),i=n(0);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return e},n=void 0!==e,r=Object(i.useState)(t),o=a()(r,2),c=o[0],s=o[1],d=Object(i.useRef)(n);Object(i.useEffect)((function(){d.current=n}),[n]);var l=n?e:c,u=Object(i.useCallback)((function(e){d.current||s(e)}),[]);return[l,u]}},2490:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1280),a={day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0},i=function(e){var t=e.day,n=e.month,r=e.year,a=e.hour,i=e.minute,o=e.dayPeriod,c=(void 0===o?"":o).replace(/\./g,"").replace(/\s/g,"");return"".concat(t," ").concat(n," ").concat(r,", ").concat(a,":").concat(i," ").concat(c)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=Object(r.a)(t,a);return i(n.formatToParts(e))}},2563:function(e,t,n){"use strict";var r=n(2),a=Object(r.c)({width:"1px",height:"1px",padding:"0",position:"absolute",border:"0",clip:"rect(1px, 1px, 1px, 1px)",overflow:"hidden",whiteSpace:"nowrap"});t.a=function(e){var t=e.children,n=e.testId,i=e.role,o=e.id;return Object(r.d)("span",{id:o,"data-testid":n,css:a,role:i},t)}},2573:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r,a=n(8),i=n.n(a),o=n(2),c=n(2353),s=n(286),d="media-card-tickbox",l="\n  background-color: ".concat(s.h,";\n  color: ").concat(s.i,";\n"),u=function(e){return Object(o.c)(r||(r=i()(["\n  ",'\n  font-size: 14px;\n  width: 14px;\n  height: 14px;\n  position: absolute;\n  top: 7px;\n  left: 7px;\n  border-radius: 20px;\n  color: transparent;\n  /* Enforce dimensions and position of "tick" icon */\n  span {\n    display: block;\n    svg {\n      height: 14px;\n    }\n  }\n  ',"\n"])),Object(c.d)(),function(e){return e?"background-color: ".concat(s.b,";\n      color: white;"):""}(e))};u.displayName="TickBoxWrapper"},2635:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,a=n(0),i=n.n(a),o=n(2),c=n(8),s=n.n(c),d=n(527),l=n(2353),u=n(286),p=n(2418),f={marginBottom:4},v={marginBottom:12};var b=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,a=e.showOnTop;return"\n".concat(d.b,"\noverflow: hidden;\nposition: absolute;\nwidth: ").concat(95,"%;\nleft: ").concat(2.5,"%;\nbackground-color: ").concat(Object(l.c)(u.h,.8),";\nheight: ").concat(5,"px;\npadding: ").concat(1,"px;\nbox-sizing: border-box;\n\n::before {\n  content: '';\n  width: ").concat(t,"%;\n  height: 100%;\n  background-color: ").concat(u.m,";\n  ").concat(d.b,"\n  display: block;\n}\n").concat(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=e===p.a.SMALL?f:v,i=p.c[e].titleBox.verticalPadding,o=a.marginBottom*r+(t?i:Object(p.b)(e));return"\n    ".concat(n?"top":"bottom",": ").concat(o,"px\n  ")}(n,r,a),"\n")},h=function(e){return Object(o.c)(r||(r=s()(["\n    ","\n  "])),b(e))};h.displayName="StyledProgressBar";var m=function(e){var t=e.progress,n=e.breakpoint,r=e.positionBottom,a=e.showOnTop;return Object(o.d)("div",{id:"styledBar",css:h({progress:t,breakpoint:n,positionBottom:r,showOnTop:a})})},g=function(e){return 100*Math.min(1,Math.max(0,e||0))},y=function(e){var t=e.progress,n=e.breakpoint,r=void 0===n?p.a.SMALL:n,a=e.positionBottom,o=void 0!==a&&a,c=e.showOnTop,s=void 0!==c&&c;return i.a.createElement(m,{progress:g(t),breakpoint:r,positionBottom:o,showOnTop:s})}},2697:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="media"},2714:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0119.005 21H4.995A1.995 1.995 0 013 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};o.displayName="ImageIcon";var c=o;t.default=c},2715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19 6.673V15.2a2.8 2.8 0 01-2.8 2.8h-.4a2.8 2.8 0 01-2.8-2.8v-.4a2.8 2.8 0 012.8-2.8h.4c.278 0 .547.04.8.116V8.242l-6 .621V16.2A2.8 2.8 0 018.2 19h-.4A2.8 2.8 0 015 16.2v-.4A2.8 2.8 0 017.8 13h.4c.278 0 .547.04.8.116V6.654c0-.38.31-.721.72-.764l8.56-.886c.398-.041.72.235.72.615v1.054z" fill="currentColor"/></svg>'},e))};o.displayName="AudioIcon";var c=o;t.default=c},2716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M16.37 14.954L14 13.807v-3.613l2.37-1.148c.285-.138.63.05.63.343v5.222c0 .293-.345.481-.63.343" fill="inherit"/><rect fill="inherit" x="7" y="9" width="6" height="6" rx="1"/></g></svg>'},e))};o.displayName="MediaServicesVideoIcon";var c=o;t.default=c},2717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};o.displayName="DocumentIcon";var c=o;t.default=c},2718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><rect x="8" y="6" width="8" height="2" rx="1"/><rect x="8" y="9" width="8" height="2" rx="1"/><rect x="8" y="12" width="4" height="2" rx="1"/><path d="M7 4v16h10V4H7zm-2-.01C5 2.892 5.897 2 7.006 2h9.988C18.102 2 19 2.898 19 3.99v16.02c0 1.099-.897 1.99-2.006 1.99H7.006A2.003 2.003 0 015 20.01V3.99z" fill-rule="nonzero"/></g></svg>'},e))};o.displayName="PageIcon";var c=o;t.default=c},2719:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},i=n(53);var o=function(e){return a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect fill="currentColor" x="4" y="4" width="16" height="16" rx="2"/><path d="M9 6.999C9 6.447 9.443 6 9.999 6H12v3H9.999A.996.996 0 019 8.001V6.999zM12 9h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12V9zm-3 3.999c0-.552.443-.999.999-.999H12v3H9.999A.996.996 0 019 14.001v-1.002zM12 15h2.001c.552 0 .999.443.999.999v1.002a.996.996 0 01-.999.999H12v-3z" fill="inherit"/></g></svg>'},e))};o.displayName="MediaServicesZipIcon";var c=o;t.default=c},3286:function(e,t,n){"use strict";n.r(t),n.d(t,"CardBase",(function(){return ad})),n.d(t,"Card",(function(){return id}));var r=n(24),a=n.n(r),i=n(25),o=n.n(i),c=n(9),s=n.n(c),d=n(10),l=n.n(d),u=n(5),p=n.n(u),f=n(15),v=n.n(f),b=n(18),h=n.n(b),m=n(7),g=n.n(m),y=n(1),O=n.n(y),x=n(12),w=n.n(x),k=n(0),j=n.n(k),C=n(76),P=n.n(C),R=n(505),S=n(28),I=n.n(S),E=n(1196),B=n(862),F=n(2327);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e,t){return e.reduce((function(e,n){return M(M({},e),{},O()({},n,Object(F.c)(n,t)))}),{})},A=n(682),z=n.n(A),L=n(2415),N=n(241),U=n(2372),_=n(229),V=n(855),W=n(2306),H=n(611),G=n(346),X=n(2),q=n(2442),K=n(1269),Y=n(2089),J=n(3173),$=n(2088),Z=n(163),Q=n(681),ee=n(42),te=n.n(ee),ne=["style","imageRef"];function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie={position:"absolute",left:"50%",top:"50%",objectFit:"contain",imageOrientation:"none"},oe=function(e){var t=e.style,n=e.imageRef,r=te()(e,ne);return j.a.createElement("img",I()({},r,{ref:n,style:ae(ae({},ie),t)}))},ce=n(2346);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var de=function(e){v()(n,e);var t=se(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(p()(r),"onImageLoad",(function(e){if(r.imageRef&&r.imageRef.current){var t=r.props.onImageLoad;r.setState({isImageLoaded:!0,imgWidth:r.imageRef.current.naturalWidth,imgHeight:r.imageRef.current.naturalHeight}),t&&t(e.currentTarget)}})),r.imageRef=j.a.createRef(),r.state={isImageLoaded:!1,imgWidth:0,imgHeight:0,parentWidth:1/0,parentHeight:1/0},r}return l()(n,[{key:"componentDidMount",value:function(){var e=P.a.findDOMNode(this).parentElement;if(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({parentWidth:n,parentHeight:r})}}},{key:"render",value:function(){var e=this.props,t=e.crop,n=e.stretch,r=e.dataURI,a=e.previewOrientation,i=e.crossOrigin,o=e.onImageError,c=e.alt,s=void 0===c?"":c,d=e.loading,l=e.forceSyncDisplay,u=this.state,p=u.parentWidth,f=u.parentHeight,v=u.imgWidth,b=u.imgHeight,h=u.isImageLoaded,m=p/f,g=v/b,y="100%",O=t,x=!t,w=Object(ce.b)(a||1);w&&(g=1/g,y="".concat(Math.ceil(100*g),"%"));var k=g>m;w&&v>b&&(x||k||O&&!k)&&(y="".concat(Math.ceil(1/g*100),"%"));var C=l||h||x&&!w,P={transform:"translate(-50%, -50%)"};if(n?x&&k?P.width=y:x&&!k||O&&k?P.height=y:O&&!k&&(P.width=y):x?(P.maxWidth=y,P.maxHeight=y):O&&k?P.maxHeight=y:O&&!k&&(P.maxWidth=y),C||(P.display="none"),a&&a>1){var R=Object(ce.a)(a);P.transform+=" ".concat(R)}return j.a.createElement(oe,{loading:d,"data-testid":"media-image",draggable:!1,alt:s,style:P,onLoad:this.onImageLoad,onError:o,imageRef:this.imageRef,src:r,crossOrigin:i})}}]),n}(k.Component);O()(de,"defaultProps",{crop:!0,stretch:!1,forceSyncDisplay:!1});var le,ue=n(8),pe=n.n(ue),fe=n(68),ve=n(543),be=fe.a.div(le||(le=pe()(["\n  ",";\n"])),(function(e){return e.inline?"display: inline;":""}));be.displayName="Ellipsify";var he,me=function(e){var t=e.text,n=e.lines,r=e.endLength,a=e.inline,i=e.testId,o=Object(k.useRef)(null);return Object(k.useEffect)((function(){o.current&&ge(o.current,{lines:n,endLength:r})}),[o,n,r]),j.a.createElement(be,{className:"ellipsed-text",ref:o,"aria-label":t,inline:a,"data-testid":i},t)},ge=function(e,t){var n=t.lines,r=e.getBoundingClientRect().height,a=e.textContent;e.textContent="a";var i=e.getBoundingClientRect().height,o=r/i,c=i*n;if(o<=n)e.textContent=a;else{var s=a,d="number"===typeof t.endLength&&t.endLength>=0?t.endLength:8,l=a.substr(0,a.length*n/o-d),u=a.substr(a.length-d,d);if(e.textContent=s="".concat(l,"...").concat(u),e.getBoundingClientRect().height>c){var p=l.substr(0,l.length-l.length/n*.25);s="".concat(p,"...").concat(u)}ye((function(){return e.textContent=s}))}},ye=ve.canUseDOM&&window.requestAnimationFrame?window.requestAnimationFrame:function(e){return setTimeout(e,1)},Oe=n(2399),xe=n.n(Oe),we=n(145),ke=n.n(we),je=n(2441),Ce=n.n(je),Pe=n(2714),Re=n.n(Pe),Se=n(2715),Ie=n.n(Se),Ee=n(2719),Be=n.n(Ee),Fe=n(2716),De=n.n(Fe),Me=n(2717),Te=n.n(Me),Ae=n(2718),ze=n.n(Ae),Le=n(286),Ne={image:Le.w,audio:Le.u,video:"#ff7143",doc:Le.c,unknown:"#3dc7dc",archive:""},Ue=function(e){return Object(X.c)(he||(he=pe()(["\n  display: inline-flex;\n  color: ",";\n"])),function(e){var t=e.type;return Ne[t]||Ne.unknown}(e))},_e=function(e){return Object(X.d)("div",{id:"iconWrapper",css:Ue(e)},e.children)};function Ve(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var We,He={image:Re.a,audio:Ie.a,video:De.a,doc:Te.a,unknown:ze.a,archive:Be.a},Ge=function(e){v()(n,e);var t=Ve(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,r=void 0===n?"small":n,a=e.className,i=t&&He[t]||He.unknown;return j.a.createElement(_e,{type:t||"unknown"},j.a.createElement(i,{label:"media-type",size:r,className:a}))}}]),n}(j.a.Component),Xe=n(527),qe=Object(X.c)(We||(We=pe()(["\n  float: left;\n  margin-right: 6px;\n  position: relative;\n  top: 1px;\n  img {\n    ",";\n  }\n"])),Object(Xe.f)("12px !important"));function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ye,Je="file-type-icon",$e=function(e){v()(n,e);var t=Ke(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.mediaType,n=e.iconUrl,r=e.style,a=t||"unknown",i=Object(X.d)(Ge,{type:t,size:"small",className:Je}),o=n?Object(X.d)("img",{src:n,className:"custom-icon",alt:a}):i;return Object(X.d)("div",{css:qe,style:r,className:Je},o)}}]),n}(k.Component),Ze=n(881),Qe=n.n(Ze),et=Object(X.c)(Ye||(Ye=pe()(["\n  display: flex;\n  color: #ff991f;\n"])));function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var nt=function(e){v()(n,e);var t=tt(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props.size;return Object(X.d)("div",{css:et},Object(X.d)(Qe.a,{label:"Error",size:e}))}}]),n}(k.Component);O()(nt,"defaultProps",{size:"small"});var rt,at,it,ot=n(2388),ct=Object(X.c)(rt||(rt=pe()(["\n  ","\n  display: flex;\n  position: relative;\n  line-height: 0;\n"])),Object(ot.b)());!function(e){e.default="default",e.filled="filled"}(it||(it={}));var st=function(e){var t=e.variant;return Object(X.c)(at||(at=pe()(["\n  ","\n  ","\n    ","\n    color: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ","\n"])),Xe.c,Xe.b,Object(Xe.f)(26),Le.o,function(e){return"filled"===e?"\n    background: ".concat(Le.h,";\n    margin-right: 8px;\n    opacity: 0.8;\n\n    &:last-child {\n      margin-right: 0;\n    }\n\n    &:hover {\n      opacity: 0.6;\n    }\n  "):"\n    &:hover {\n      background-color: rgba(9, 30, 66, 0.06);\n    }\n  "}(t))},dt=function(e){return Object(X.d)("div",{id:"cardActionButton","data-testid":"media-card-primary-action",css:st(e),style:e.style,onClick:e.onClick,onMouseDown:e.onMouseDown},e.children)};function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ut,pt=function(e){v()(n,e);var t=lt(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(p()(e),"onMouseDown",(function(e){e.preventDefault()})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.triggerColor,r=e.onClick,a=e.variant;return j.a.createElement(dt,{onClick:r,onMouseDown:this.onMouseDown,style:{color:n},variant:a},t)}}]),n}(k.Component),ft=n(2440),vt=n.n(ft),bt=n(2061),ht=n(2274),mt=n(2273),gt=n(188),yt=n(224),Ot=n(875),xt=(ut={},O()(ut,Ot.b,"next"),O()(ut,Ot.e,"prev"),O()(ut,Ot.d,"first"),O()(ut,Ot.c,"last"),ut);var wt=Object(k.createContext)({menuItemRefs:[],registerRef:yt.a}),kt=function(e){var t=e.children,n=Object(k.useRef)([]),r=Object(k.useCallback)((function(e){e&&!n.current.includes(e)&&n.current.push(e)}),[]);Object(k.useEffect)((function(){return Object(gt.bind)(window,{type:"keydown",listener:(e=n.current,function(t){var n=e.findIndex((function(e){var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));switch(xt[t.key]){case"next":n<e.length-1&&(t.preventDefault(),e[n+1].focus());break;case"prev":n>0&&(t.preventDefault(),e[n-1].focus());break;case"first":t.preventDefault(),e[0].focus();break;case"last":t.preventDefault(),e[e.length-1].focus();break;default:return}})});var e}));var a={menuItemRefs:n.current,registerRef:r};return j.a.createElement(wt.Provider,{value:a},t)};var jt=function(){var e=Object(k.useContext)(wt).registerRef,t=Object(k.useRef)(null);return Object(k.useEffect)((function(){null!==t.current&&e(t.current)}),[e]),t},Ct=["component","elemBefore","elemAfter","shouldTitleWrap","shouldDescriptionWrap"],Pt=function(e){var t=e.component,n=e.elemBefore,r=e.elemAfter,a=e.shouldTitleWrap,i=void 0===a||a,o=e.shouldDescriptionWrap,c=void 0===o||o,s=te()(e,Ct),d=jt();return t?j.a.createElement(ht.a,I()({component:t,iconBefore:n,iconAfter:r,shouldTitleWrap:i,shouldDescriptionWrap:c},s)):e.href?j.a.createElement(mt.a,I()({href:e.href,iconBefore:n,iconAfter:r,role:"menuitem",ref:d,shouldTitleWrap:i,shouldDescriptionWrap:c},s)):j.a.createElement(bt.a,I()({role:"menuitem",iconBefore:n,iconAfter:r,ref:d,shouldTitleWrap:i,shouldDescriptionWrap:c},s))},Rt=n(23),St=n.n(Rt),It=["children"];var Et=function(e){var t=function(e,t){return e(t)},n=Object(k.createContext)(e);function r(e){return(Object(k.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=r(te()(e,It));return j.a.createElement(j.a.Fragment,null,t(n))},Provider:function(e){var r=Object(k.useContext)(n),a=e.value||t,i=Object(k.useCallback)((function(e){return a(r,e)}),[r,a]);return j.a.createElement(n.Provider,{value:i},e.children)},useTheme:r}}((function(){return{mode:"light"}})),Bt=(Et.Provider,Et.Consumer,Et.useTheme),Ft=n(13),Dt=n(848);var Mt="__ATLASKIT_THEME__",Tt=["light","dark"];function At(e){if(e&&e.theme){if(Mt in e.theme)return e.theme[Mt];if("mode"in e.theme&&Tt.includes(e.theme.mode))return e.theme}return{mode:"light"}}function zt(e,t){if("string"===typeof e)return n=e,r=t,function(e){var t=At(e);if(e&&e[n]&&r){var a=r[e[n]];if(a&&a[t.mode]){var i=a[t.mode];if(i)return i}}return""};var n,r,a=e;return function(e){var t=At(e);if(t.mode in a){var n=a[t.mode];if(n)return n}return""}}var Lt="#FF8F73",Nt="#FF5630",Ut="#DE350B",_t="#BF2600",Vt="#FFC400",Wt="#FFAB00",Ht="#FF991F",Gt="#FF8B00",Xt="#36B37E",qt="#DEEBFF",Kt="#B3D4FF",Yt="#4C9AFF",Jt="#2684FF",$t="#0065FF",Zt="#0052CC",Qt="#0747A6",en="#FFFFFF",tn="#F4F5F7",nn="#A5ADBA",rn="#6B778C",an="#42526E",on="#253858",cn="#172B4D",sn="rgba(9, 30, 66, 0.04)",dn="rgba(9, 30, 66, 0.08)",ln="#B8C7E0",un="#9FB0CC",pn="#8C9CB8",fn="#67758F",vn="#3B475C",bn="#313D52",hn="#283447",mn="#1B2638",gn="#0D1424";zt({light:"var(--ds-surface, ".concat(en,")"),dark:"var(--ds-surface, ".concat(mn,")")}),zt({light:"var(--ds-background-selected, ".concat(qt,")"),dark:"var(--ds-background-selected, ".concat(Kt,")")}),zt({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat(vn,")")}),zt({light:"var(--ds-surface-overlay, ".concat(en,")"),dark:"var(--ds-surface-overlay, ".concat(hn,")")}),zt({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(ln,")")}),zt({light:"var(--ds-text, ".concat(cn,")"),dark:"var(--ds-text, ".concat(ln,")")}),zt({light:"var(--ds-text-selected, ".concat(Zt,")"),dark:"var(--ds-text-selected, ".concat(Zt,")")}),zt({light:"var(--ds-text-subtlest, ".concat(rn,")"),dark:"var(--ds-text-subtlest, ".concat(pn,")")}),zt({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),zt({light:"var(--ds-text, ".concat(cn,")"),dark:"var(--ds-text, ".concat(ln,")")}),zt({light:"var(--ds-text-subtlest, ".concat(rn,")"),dark:"var(--ds-text-subtlest, ".concat(pn,")")}),zt({light:tn,dark:hn}),zt({light:"var(--ds-link, ".concat(Zt,")"),dark:"var(--ds-link, ".concat(Yt,")")}),zt({light:"var(--ds-link-pressed, ".concat($t,")"),dark:"var(--ds-link-pressed, ".concat(Jt,")")}),zt({light:"var(--ds-link-pressed, ".concat(Qt,")"),dark:"var(--ds-link-pressed, ".concat(Yt,")")}),zt({light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Jt,")")}),zt({light:"var(--ds-background-brand-bold, ".concat(Zt,")"),dark:"var(--ds-background-brand-bold, ".concat(Yt,")")}),zt({light:Zt,dark:Yt}),zt({light:"#00B8D9",dark:"#00C7E6"}),zt({light:"#6554C0",dark:"#998DD9"}),zt({light:Nt,dark:Nt}),zt({light:Wt,dark:Wt}),zt({light:Xt,dark:Xt});function yn(e){e.preventDefault(),e.stopPropagation()}function On(e){9!==e.keyCode&&yn(e)}var xn={onMouseDownCapture:yn,onMouseUpCapture:yn,onKeyDownCapture:On,onKeyUpCapture:On,onTouchStartCapture:yn,onTouchEndCapture:yn,onPointerDownCapture:yn,onPointerUpCapture:yn,onClickCapture:yn,onClick:yn},wn={};var kn="rgba(179, 212, 255, 0.6)",jn={background:{default:{default:{light:"var(--ds-background-neutral, ".concat(sn,")"),dark:"var(--ds-background-neutral, ".concat(vn,")")},hover:{light:"var(--ds-background-neutral-hovered, ".concat(dn,")"),dark:"var(--ds-background-neutral-hovered, ".concat(bn,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat(kn,")"),dark:"var(--ds-background-neutral-pressed, ".concat(Kt,")")},disabled:{light:"var(--ds-background-disabled, ".concat(sn,")"),dark:"var(--ds-background-disabled, ".concat(vn,")")},selected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")}},primary:{default:{light:"var(--ds-background-brand-bold, ".concat(Zt,")"),dark:"var(--ds-background-brand-bold, ".concat(Yt,")")},hover:{light:"var(--ds-background-brand-bold-hovered, ".concat($t,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(Kt,")")},active:{light:"var(--ds-background-brand-bold-pressed, ".concat(Qt,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(Jt,")")},disabled:{light:"var(--ds-background-disabled, ".concat(sn,")"),dark:"var(--ds-background-disabled, ".concat(vn,")")},selected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")}},warning:{default:{light:"var(--ds-background-warning-bold, ".concat(Wt,")"),dark:"var(--ds-background-warning-bold, ".concat(Wt,")")},hover:{light:"var(--ds-background-warning-bold-hovered, ".concat(Vt,")"),dark:"var(--ds-background-warning-bold-hovered, ".concat(Vt,")")},active:{light:"var(--ds-background-warning-bold-pressed, ".concat(Ht,")"),dark:"var(--ds-background-warning-bold-pressed, ".concat(Ht,")")},disabled:{light:"var(--ds-background-disabled, ".concat(sn,")"),dark:"var(--ds-background-disabled, ".concat(vn,")")},selected:{light:"var(--ds-background-selected, ".concat(Ht,")"),dark:"var(--ds-background-selected, ".concat(Ht,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(Ht,")"),dark:"var(--ds-background-selected, ".concat(Ht,")")}},danger:{default:{light:"var(--ds-background-danger-bold, ".concat(Ut,")"),dark:"var(--ds-background-danger-bold, ".concat(Ut,")")},hover:{light:"var(--ds-background-danger-bold-hovered, ".concat(Nt,")"),dark:"var(--ds-background-danger-bold-hovered, ".concat(Nt,")")},active:{light:"var(--ds-background-danger-bold-pressed, ".concat(_t,")"),dark:"var(--ds-background-danger-bold-pressed, ".concat(_t,")")},disabled:{light:"var(--ds-background-disabled, ".concat(sn,")"),dark:"var(--ds-background-disabled, ".concat(vn,")")},selected:{light:"var(--ds-background-selected, ".concat(_t,")"),dark:"var(--ds-background-selected, ".concat(_t,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(_t,")"),dark:"var(--ds-background-selected, ".concat(_t,")")}},link:{default:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(tn,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(tn,")")}},subtle:{default:{light:"none",dark:"none"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(dn,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(bn,")")},active:{light:"var(--ds-background-neutral-subtle-pressed, ".concat(kn,")"),dark:"var(--ds-background-neutral-subtle-pressed, ".concat(Kt,")")},disabled:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(gn,")")}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(tn,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(on,")"),dark:"var(--ds-background-selected, ".concat(tn,")")}}},boxShadowColor:{default:{focus:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")}},primary:{focus:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")}},warning:{focus:{light:"var(--ds-border-focused, ".concat(Gt,")"),dark:"var(--ds-border-focused, ".concat(Gt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Gt,")"),dark:"var(--ds-border-focused, ".concat(Gt,")")}},danger:{focus:{light:"var(--ds-border-focused, ".concat(Lt,")"),dark:"var(--ds-border-focused, ".concat(Lt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Lt,")"),dark:"var(--ds-border-focused, ".concat(Lt,")")}},link:{focus:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")}},subtle:{focus:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")}},"subtle-link":{focus:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")},focusSelected:{light:"var(--ds-border-focused, ".concat(Yt,")"),dark:"var(--ds-border-focused, ".concat(Kt,")")}}},color:{default:{default:{light:"var(--ds-text, ".concat(an,")"),dark:"var(--ds-text, ".concat(un,")")},active:{light:"var(--ds-text, ".concat(Zt,")"),dark:"var(--ds-text, ".concat(Zt,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(mn,")")},selected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")}},primary:{default:{light:"var(--ds-text-inverse, ".concat(en,")"),dark:"var(--ds-text-inverse, ".concat(mn,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(mn,")")},selected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")}},warning:{default:{light:"var(--ds-text-warning-inverse, ".concat(cn,")"),dark:"var(--ds-text-warning-inverse, ".concat(cn,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(mn,")")},selected:{light:"var(--ds-text-selected, ".concat(cn,")"),dark:"var(--ds-text-selected, ".concat(cn,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(cn,")"),dark:"var(--ds-text-selected, ".concat(cn,")")}},danger:{default:{light:"var(--ds-text-inverse, ".concat(en,")"),dark:"var(--ds-text-inverse, ".concat(en,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(mn,")")},selected:{light:"var(--ds-text-selected, ".concat(en,")"),dark:"var(--ds-text-selected, ".concat(en,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(en,")"),dark:"var(--ds-text-selected, ".concat(en,")")}},link:{default:{light:"var(--ds-link, ".concat(Zt,")"),dark:"var(--ds-link, ".concat(Yt,")")},hover:{light:"var(--ds-link, ".concat($t,")"),dark:"var(--ds-link, ".concat(Kt,")")},active:{light:"var(--ds-link-pressed, ".concat(Qt,")"),dark:"var(--ds-link-pressed, ".concat(Jt,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(fn,")")},selected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(on,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(on,")")}},subtle:{default:{light:"var(--ds-text, ".concat(an,")"),dark:"var(--ds-text, ".concat(un,")")},active:{light:"var(--ds-text, ".concat(Zt,")"),dark:"var(--ds-text, ".concat(Zt,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(fn,")")},selected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")}},"subtle-link":{default:{light:"var(--ds-text-subtle, ".concat(rn,")"),dark:"var(--ds-text-subtle, ".concat(un,")")},hover:{light:"var(--ds-text-subtle, ".concat("#8993A4",")"),dark:"var(--ds-text-subtle, ".concat(qt,")")},active:{light:"var(--ds-text, ".concat("#505F79",")"),dark:"var(--ds-text, ".concat(pn,")")},disabled:{light:"var(--ds-text-disabled, ".concat(nn,")"),dark:"var(--ds-text-disabled, ".concat(fn,")")},selected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(tn,")"),dark:"var(--ds-text-selected, ".concat(un,")")}}}};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rn={default:"".concat(32/14,"em"),compact:"".concat(24/14,"em"),none:"auto"},Sn={default:Rn.default,compact:Rn.compact,none:"inherit"},In={default:"0 ".concat(10,"px"),compact:"0 ".concat(10,"px"),none:"0"},En={compact:"0 ".concat(2,"px"),default:"0 ".concat(2,"px"),none:"0"},Bn={default:"middle",compact:"middle",none:"baseline"},Fn={content:"0 ".concat(2,"px"),icon:"0 ".concat(2,"px")};function Dn(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function Mn(e){var t=e.appearance,n=e.key,r=e.mode;return{background:Dn({group:jn.background[t],key:n,mode:r}),color:"".concat(Dn({group:jn.color[t],key:n,mode:r})," !important")}}function Tn(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:Fn.icon}}var An={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},zn=["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"];function Ln(){}var Nn={"> *":{pointerEvents:"none"}},Un=j.a.forwardRef((function(e,t){var n=e.appearance,r=void 0===n?"default":n,a=e.buttonCss,i=e.spacing,o=void 0===i?"default":i,c=e.autoFocus,s=void 0!==c&&c,d=e.isDisabled,l=void 0!==d&&d,u=(e.shouldFitContainer,e.isSelected),p=void 0!==u&&u,f=e.iconBefore,v=e.iconAfter,b=e.children,h=e.className,m=e.href,g=e.overlay,y=e.tabIndex,O=void 0===y?0:y,x=e.type,w=void 0===x?m?void 0:"button":x,j=e.onMouseDown,C=void 0===j?Ln:j,P=e.onClick,R=void 0===P?Ln:P,S=e.component,E=void 0===S?m?"a":"button":S,B=e.testId,F=e.analyticsContext,D=te()(e,zn),M=Object(k.useRef)(),T=Object(k.useCallback)((function(e){M.current=e,null!=t&&("function"!==typeof t?t.current=e:t(e))}),[M,t]);!function(e,t){var n=Object(k.useRef)(!0);Object(k.useEffect)((function(){e&&n.current&&t&&e.current&&e.current.focus(),n.current=!1}),[t,e])}(M,s);var A=Object(Dt.a)({fn:R,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.3.3",analyticsData:F}),z=Object(k.useCallback)((function(e){e.preventDefault(),C(e)}),[C]);Object(k.useEffect)((function(){var e=M.current;l&&e&&e===document.activeElement&&e.blur()}),[l]);var L,N=Boolean(g),U={transition:"opacity 0.3s",opacity:{hasOverlay:N}.hasOverlay?0:1},_=!l&&!N,V={};return(p||l||"warning"===r)&&(V={"[data-theme] & svg":{stroke:p||l?"var(--ds-text-subtle, ".concat(an,")"):"var(--ds-text-warning-inverse, ".concat(an,")")}}),Object(Ft.d)(E,I()({},D,{css:[a,_?null:Nn],className:h,ref:T,onClick:A,onMouseDown:z,disabled:l,href:_?m:void 0,"data-has-overlay":!!N||void 0,"data-testid":B,type:w,tabIndex:l?-1:O},{isInteractive:_}.isInteractive?wn:xn),f?Object(Ft.d)("span",{css:[U,Tn({spacing:o})]},f):null,b?Object(Ft.d)("span",{css:[U,(L={spacing:o},{margin:"none"===L.spacing?0:Fn.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})]},b):null,v?Object(Ft.d)("span",{css:[U,Tn({spacing:o})]},v):null,g?Object(Ft.d)("span",{css:[An,V]},g):null)}));var _n=["onMouseDown","onMouseUp"];function Vn(){}var Wn="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,Hn=j.a.memo(j.a.forwardRef((function(e,t){var n=e.onMouseDown,r=void 0===n?Vn:n,a=e.onMouseUp,i=void 0===a?Vn:a,o=te()(e,_n),c=Bt().mode,s=o.appearance||"default",d=o.spacing||"default",l=Boolean(o.shouldFitContainer),u=Boolean(o.isSelected),p=function(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}(o),f=Object(k.useState)(!1),v=St()(f,2),b=v[0],h=v[1],m=Object(k.useCallback)((function(e){r(e),Wn&&h(!0)}),[r,h]),g=Object(k.useCallback)((function(e){i(e),Wn&&h(!1)}),[i,h]),y=Object(k.useMemo)((function(){return function(e){var t=e.appearance,n=e.spacing,r=e.mode,a=e.isSelected,i=e.shouldFitContainer,o=e.isOnlySingleIcon,c=Mn({appearance:t,key:a?"selected":"default",mode:r});return Pn(Pn({alignItems:"baseline",borderWidth:0,borderRadius:3,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:Rn[n],lineHeight:Sn[n],padding:o?En[n]:In[n],verticalAlign:Bn[n],width:i?"100%":"auto",justifyContent:"center","&:visited":Pn({},c),"&:hover":Pn(Pn({},Mn({appearance:t,key:a?"selected":"hover",mode:r})),{},{textDecoration:a||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":Pn(Pn({},Mn({appearance:t,key:a?"focusSelected":"focus",mode:r})),{},{boxShadow:"0 0 0 2px ".concat(jn.boxShadowColor[t].focus[r]),transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":Pn(Pn({},Mn({appearance:t,key:a?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':Pn(Pn({},Mn({appearance:t,key:a?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":Pn(Pn({},Mn({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':Pn({},Mn({appearance:t,key:a?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}({appearance:s,spacing:d,mode:c,isSelected:u,shouldFitContainer:l,isOnlySingleIcon:p})}),[s,d,c,u,l,p]);return j.a.createElement(Un,I()({},o,{ref:t,buttonCss:y,"data-firefox-is-active":!!b||void 0,onMouseDown:m,onMouseUp:g}))})));Hn.displayName="Button";var Gn=Hn,Xn=n(2489);var qn=n(203),Kn=n.n(qn),Yn=n(636),Jn=n(2271),$n=n(2323);function Zn(e){if(e&&e.theme){if(pr in e.theme)return e.theme[pr];if("mode"in e.theme&&vr.includes(e.theme.mode))return e.theme}return{mode:fr}}function Qn(e,t){if("string"===typeof e)return n=e,r=t,function(e){var t=Zn(e);if(e&&e[n]&&r){var a=r[e[n]];if(a&&a[t.mode]){var i=a[t.mode];if(i)return i}}return""};var n,r,a=e;return function(e){var t=Zn(e);if(t.mode in a){var n=a[t.mode];if(n)return n}return""}}var er="#FF5630",tr="#FFAB00",nr="#36B37E",rr="#4C9AFF",ar="#2684FF",ir="#0052CC",or="#FFFFFF",cr="#6B778C",sr="#172B4D",dr="#B8C7E0",lr="#8C9CB8",ur="#283447",pr=(Qn({light:"var(--ds-surface, ".concat(or,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),Qn({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),Qn({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),Qn({light:"var(--ds-surface-overlay, ".concat(or,")"),dark:"var(--ds-surface-overlay, ".concat(ur,")")}),Qn({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(dr,")")}),Qn({light:"var(--ds-text, ".concat(sr,")"),dark:"var(--ds-text, ".concat(dr,")")}),Qn({light:"var(--ds-text-selected, ".concat(ir,")"),dark:"var(--ds-text-selected, ".concat(ir,")")}),Qn({light:"var(--ds-text-subtlest, ".concat(cr,")"),dark:"var(--ds-text-subtlest, ".concat(lr,")")}),Qn({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),Qn({light:"var(--ds-text, ".concat(sr,")"),dark:"var(--ds-text, ".concat(dr,")")}),Qn({light:"var(--ds-text-subtlest, ".concat(cr,")"),dark:"var(--ds-text-subtlest, ".concat(lr,")")}),Qn({light:"#F4F5F7",dark:ur}),Qn({light:"var(--ds-link, ".concat(ir,")"),dark:"var(--ds-link, ".concat(rr,")")}),Qn({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(ar,")")}),Qn({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(rr,")")}),Qn({light:"var(--ds-border-focused, ".concat(rr,")"),dark:"var(--ds-border-focused, ".concat(ar,")")}),Qn({light:"var(--ds-background-brand-bold, ".concat(ir,")"),dark:"var(--ds-background-brand-bold, ".concat(rr,")")}),Qn({light:ir,dark:rr}),Qn({light:"#00B8D9",dark:"#00C7E6"}),Qn({light:"#6554C0",dark:"#998DD9"}),Qn({light:er,dark:er}),Qn({light:tr,dark:tr}),Qn({light:nr,dark:nr}),"__ATLASKIT_THEME__"),fr="light",vr=["light","dark"],br=function(){return 400},hr=n(2272),mr=function(e){var t=e.children,n=e.update,r=Object(k.useRef)(!0);return Object(k.useLayoutEffect)((function(){r.current?r.current=!1:n()}),[n]),j.a.createElement(k.Fragment,null,t)};function gr(){}var yr=n(863),Or=n.n(yr),xr=Object(Ft.c)({display:"block",boxSizing:"border-box",zIndex:br(),flex:"1 1 auto",backgroundColor:"var(--ds-surface-overlay, ".concat(or,")"),borderRadius:"".concat(3,"px"),boxShadow:"var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat("rgba(9, 30, 66, 0.25)",", 0 0 1px ").concat("rgba(9, 30, 66, 0.31)"),")"),overflow:"auto",":focus":{outline:"none"}}),wr=Object(k.forwardRef)((function(e,t){return Object(Ft.d)("div",I()({css:xr,ref:t},e))}));var kr=function(e){var t=e.isOpen,n=e.id,r=e.offset,a=e.testId,i=e.content,o=e.fallbackPlacements,c=e.onClose,s=e.boundary,d=e.rootBoundary,l=e.shouldFlip,u=e.placement,p=void 0===u?"auto":u,f=e.popupComponent,v=void 0===f?wr:f,b=e.autoFocus,h=void 0===b||b,m=e.triggerRef,g=e.shouldUseCaptureOnOutsideClick,y=Object(k.useState)(null),O=St()(y,2),x=O[0],w=O[1],j=Object(k.useState)(null),C=St()(j,2),P=C[0],R=C[1];!function(e){var t=e.popupRef,n=e.initialFocusRef;Object(k.useEffect)((function(){if(!t)return yt.a;var e={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:n||t,fallbackFocus:t,returnFocusOnDeactivate:!0},r=Or()(t,e),a=requestAnimationFrame((function(){a=null,r.activate()}));return function(){null!=a&&(cancelAnimationFrame(a),a=null),r.deactivate()}}),[t,n])}({initialFocusRef:P,popupRef:x}),function(e){var t=e.isOpen,n=e.onClose,r=e.popupRef,a=e.triggerRef,i=e.shouldUseCaptureOnOutsideClick;Object(k.useEffect)((function(){if(!t||!r)return gr;var e=function(e){n&&n(e)};return Object(gt.bindAll)(window,[{type:"click",listener:function(t){var n=t.target;if(document.body.contains(n)){var i=r&&r.contains(n),o=a&&a.contains(n);i||o||e(t)}},options:{capture:i}},{type:"keydown",listener:function(t){var n=t.key;"Escape"!==n&&"Esc"!==n||e(t)}}])}),[t,n,r,a,i])}({isOpen:t,onClose:c,popupRef:x,triggerRef:m,shouldUseCaptureOnOutsideClick:g});var S=Object(k.useMemo)((function(){return[{name:"flip",enabled:l,options:{rootBoundary:d,boundary:s,fallbackPlacements:o}}]}),[l,d,s,o]);return Object(Ft.d)(hr.a,{placement:p,offset:r,modifiers:S},(function(e){var r=e.ref,o=e.style,s=e.placement,d=e.update;return Object(Ft.d)(v,{id:n,"data-placement":s,"data-testid":a,ref:function(e){e&&("function"===typeof r?r(e):r.current=e,w(e))},style:o,tabIndex:h?0:void 0},Object(Ft.d)(mr,{update:d},i({update:d,isOpen:t,onClose:c,setInitialFocusRef:R})))}))},jr=br(),Cr=Object(k.memo)((function(e){var t=e.isOpen,n=e.id,r=e.offset,a=e.testId,i=e.trigger,o=e.content,c=e.onClose,s=e.boundary,d=e.rootBoundary,l=void 0===d?"viewport":d,u=e.shouldFlip,p=void 0===u||u,f=e.placement,v=void 0===f?"auto":f,b=e.fallbackPlacements,h=e.popupComponent,m=e.autoFocus,g=void 0===m||m,y=e.zIndex,O=void 0===y?jr:y,x=e.shouldUseCaptureOnOutsideClick,w=void 0!==x&&x,j=Object(k.useState)(null),C=St()(j,2),P=C[0],R=C[1];return Object(Ft.d)(Yn.a,null,Object(Ft.d)(Jn.a,null,(function(e){var r=e.ref;return i({ref:function(e){e&&t&&("function"===typeof r?r(e):r.current=e,R(e))},"aria-controls":n,"aria-expanded":t,"aria-haspopup":!0})})),t&&Object(Ft.d)($n.a,{zIndex:O},Object(Ft.d)(kr,{content:o,isOpen:t,placement:v,fallbackPlacements:b,boundary:s,rootBoundary:l,shouldFlip:p,offset:r,popupComponent:h,id:n,testId:a,onClose:c,autoFocus:g,shouldUseCaptureOnOutsideClick:w,triggerRef:P})))})),Pr=Cr,Rr=n(392),Sr=n(2563),Ir=n(1206);var Er=["onClose","setInitialFocusRef"],Br=function(e){var t=e.onClose,n=e.setInitialFocusRef,r=te()(e,Er),a=Object(k.useContext)(wt).menuItemRefs;return n&&n(a[0]),j.a.createElement(Ir.a,I()({role:"menu",onClick:function(e){a.some((function(t){var n=function(e){var t=e.getAttribute("role");return"checkbox"===t||"menuitemcheckbox"===t}(t)||function(e){var t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!n}))&&t&&t(e)}},r))},Fr=Object(k.createContext)({setItemState:yt.a,getItemState:function(){},setGroupState:yt.a,getGroupState:function(){return{}}}),Dr=function(e){var t=e.children,n=Object(k.useRef)({}),r=Object(k.useMemo)((function(){return{setItemState:function(e,t,r){n.current[e]||(n.current[e]={}),n.current[e][t]=r},getItemState:function(e,t){if(n.current[e])return n.current[e][t]},setGroupState:function(e,t){n.current[e]=t},getGroupState:function(e){return n.current[e]||{}}}}),[]);return j.a.createElement(Fr.Provider,{value:r},t)};function Mr(){return Object(k.useRef)("".concat("ds--dropdown--").concat(Math.random().toString(16).substr(2,8))).current}var Tr=["ref"];function Ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lr=Object(Rr.f)(),Nr=Object(X.c)({display:"flex",minWidth:"".concat(20*Lr,"px"),padding:"".concat(2.5*Lr,"px"),justifyContent:"center"}),Ur="calc(100vh - ".concat(2*Lr,"px)"),_r={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},Vr=function(e){var t=e.defaultOpen,n=void 0!==t&&t,r=e.isOpen,a=e.onOpenChange,i=void 0===a?yt.a:a,o=e.children,c=e.placement,s=void 0===c?"bottom-start":c,d=e.trigger,l=e.shouldFlip,u=void 0===l||l,p=e.isLoading,f=void 0!==p&&p,v=e.autoFocus,b=void 0!==v&&v,h=e.testId,m=e.statusLabel,g=void 0===m?"Loading":m,y=e.zIndex,O=void 0===y?Rr.g.modal():y,x=Object(Xn.a)(r,(function(){return n})),w=St()(x,2),j=w[0],C=w[1],P=Object(k.useState)(!1),R=St()(P,2),S=R[0],E=R[1],B=Object(k.useMemo)((function(){return function(e){var t=e.split("-"),n=t[0];if(["top","bottom"].includes(n)){if(2===t.length&&["start","end"].includes(t[1])){var r=t[1];return["".concat(n),"".concat(n,"-").concat(_r[r]),"".concat(_r[n],"-").concat(r),"".concat(_r[n]),"".concat(_r[n],"-").concat(_r[r]),"auto"]}return["".concat(n,"-start"),"".concat(n,"-end"),"".concat(_r[n]),"".concat(_r[n],"-start"),"".concat(_r[n],"-end"),"auto"]}}(s)}),[s]),F=Object(k.useCallback)((function(e){var t=!j,n=e.clientX,r=e.clientY;"keydown"===e.type?E(!0):0!==n&&0!==r||E(!0),C(t),i({isOpen:t,event:e})}),[i,j,C]),D=Object(k.useCallback)((function(e){C(false),i({isOpen:false,event:e})}),[i,C]),M=function(){var e=Object(k.useState)(!1),t=St()(e,2),n=t[0],r=t[1],a=Object(k.useRef)({onFocus:function(){return r(!0)},onBlur:function(){return r(!1)}});return Object(k.useEffect)((function(){return function(){return r(!1)}}),[]),{isFocused:n,bindFocus:a.current}}(),T=M.isFocused,A=M.bindFocus;Object(k.useEffect)((function(){return T?j?yt.a:Object(gt.bind)(window,{type:"keydown",listener:function(e){e.key===Ot.b&&(e.preventDefault(),F(e))}}):yt.a}),[T,j,F]);var z=Mr();return Object(X.d)(Dr,null,Object(X.d)(Pr,{id:j?z:void 0,shouldFlip:u,isOpen:j,onClose:D,zIndex:O,placement:s,fallbackPlacements:B,testId:h&&"".concat(h,"--content"),shouldUseCaptureOnOutsideClick:!0,trigger:function(e){if("function"===typeof d){var t=e.ref,n=te()(e,Tr);return d(zr(zr(zr({},n),A),{},{triggerRef:t,isSelected:j,onClick:F,testId:h&&"".concat(h,"--trigger")}))}return Object(X.d)(Gn,I()({},A,{ref:e.ref,"aria-controls":e["aria-controls"],"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],isSelected:j,iconAfter:Object(X.d)(Kn.a,{size:"medium",label:""}),onClick:F,testId:h&&"".concat(h,"--trigger")}),d)},content:function(e){var t=e.setInitialFocusRef;return Object(X.d)(kt,null,Object(X.d)(Br,{maxHeight:Ur,maxWidth:800,onClose:D,setInitialFocusRef:S||b?t:void 0},f?Object(X.d)("div",{css:Nr},Object(X.d)(K.a,{size:"small"}),Object(X.d)(Sr.a,{role:"status"},g)):o))}}))},Wr=n(2337).a,Hr=n(868),Gr=n(192),Xr=n(2697),qr=n(836),Kr=n(536);function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Jr=function(e){v()(n,e);var t=Yr(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e)).primaryReason=e,a.secondaryError=r,Object.setPrototypeOf(p()(a),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace(p()(a),this instanceof n?this.constructor:void 0),a}return l()(n)}(n.n(Kr)()(Error)),$r=function(e){v()(n,e);var t=Yr(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return l()(n)}(Jr),Zr=function(e){v()(n,e);var t=Yr(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return l()(n)}(Jr),Qr=function(e){v()(n,e);var t=Yr(n);function n(e,r){var a;return s()(this,n),(a=t.call(this,e,r)).primaryReason=e,a.secondaryError=r,a}return l()(n)}(Jr),ea=function(e){v()(n,e);var t=Yr(n);function n(e){return s()(this,n),t.call(this,function(e){switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";default:return"unknown-uri"}}(e))}return l()(n)}(Jr);function ta(e){return e instanceof Jr}var na=function(e){return ta(e)&&"local-preview-unsupported"===e.primaryReason};var ra=function(e){return e&&"upload"===e.primaryReason};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa={newCardExperience:!0,captions:!0,timestampOnVideo:!0,observedWidth:!0,mediaInline:!1,folderUploads:!1,mediaUploadApiV2:!0,memoryCacheLogging:!0},ca=Object(F.b)(oa),sa=Object(F.a)(oa),da=function(e,t,n){return{eventType:"operational",action:"succeeded",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"success",ssrReliability:n}}},la=function(e){return ta(e)?e.primaryReason:"nativeError"},ua=function(e){if(ta(e)&&e.secondaryError){var t=Object(Hr.a)(e.secondaryError);if("unknown"!==t)return t}return"nativeError"},pa=function(e){return ta(e)&&e.secondaryError?e.secondaryError.message:e.message},fa=function(e){if(ta(e)&&e.secondaryError&&Object(Gr.b)(e.secondaryError))return e.secondaryError.metadata},va=function(e){return{failReason:la(e),error:ua(e),errorDetail:pa(e)}},ba=function(e,t,n,r){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:ia(ia({fileAttributes:e,performanceAttributes:t,status:"fail"},va(n)),{},{request:fa(n),ssrReliability:r})}},ha=function(e,t,n){return{eventType:"operational",action:"failed",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t,status:"fail",failReason:"failed-processing",ssrReliability:n}}};function ma(e,t){t&&t(e).fire(Xr.a)}var ga=function(e){return Object(qr.a)(Xr.a)(e)},ya=["triggerRef"];function Oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var xa=Object(R.a)({onClick:ga({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenu",attributes:{}})})((function(e){return j.a.createElement(dt,e)})),wa=function(e){return j.a.createElement(Pt,I()({"data-testid":"media-card-actions-menu-item"},e))},ka=function(e,t){var n=e.label,r=e.handler,a=Object(R.a)({onClick:ga({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"mediaCardDropDownMenuItem",attributes:{label:n}})})(wa);return j.a.createElement(a,{key:t,onClick:r},n)},ja=function(e){v()(n,e);var t=Oa(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.triggerColor,r=e.onOpenChange,a=e.triggerVariant;return t.length>0?j.a.createElement(Vr,{testId:"media-card-actions-menu",onOpenChange:r,trigger:function(e){var t=e.triggerRef,r=te()(e,ya);return j.a.createElement(xa,I()({variant:a,style:{color:n},ref:t},r),j.a.createElement(vt.a,{label:"more"}))}},j.a.createElement(Wr,null,t.map(ka))):null}}]),n}(k.Component);function Ca(e){var t=e.children;return j.a.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault()}},t)}function Pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Ra=function(e){return Object(X.d)(pt,e)},Sa=function(e){v()(n,e);var t=Pa(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props.actions;if(!e.length)return null;var t=e.find(Ia),n=e.filter(Ea(t));return Object(X.d)(Ca,null,Object(X.d)("div",{css:ct},t?this.renderActionIconButton(t,!0):null,this.renderOtherActionButtons(n)))}},{key:"renderActionIconButton",value:function(e,t){var n=this.props,r=n.triggerColor,a=n.variant,i=e.icon,o=e.handler,c=e.label,s=t?"mediaCardPrimaryActionButton":"mediaCardSecondaryActionButton",d=Object(R.a)({onClick:ga({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:s,attributes:{label:c}})})(Ra);return Object(X.d)(d,{icon:i,triggerColor:r,onClick:function(){return o()},variant:a})}},{key:"renderOtherActionButtons",value:function(e){if(0===e.length)return null;var t=this.props,n=t.triggerColor,r=t.onToggle,a=t.variant,i=e.find(Ia),o=e.filter(Ea(i));return i&&0===o.length?this.renderActionIconButton(i,!1):Object(X.d)(ja,{actions:e,triggerColor:n,onOpenChange:r,triggerVariant:a})}}]),n}(k.Component);function Ia(e){return!!e.icon}function Ea(e){return function(t){return t!==e}}var Ba,Fa,Da,Ma,Ta,Aa,za,La,Na,Ua,_a,Va,Wa=n(152),Ha=n(2353),Ga=n(2488),Xa=Object(X.c)(Ba||(Ba=pe()(["\n  ","\n  ","\n  background-color: ",';\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border-radius: 20px;\n  color: #798599; /* TODO FIL-3884: Align color with new design */\n  display: flex;\n  opacity: 0;\n\n  &.selected {\n    opacity: 1;\n    color: white;\n    background-color: #0052cc; /* TODO FIL-3884: Align with tickbox icons */\n  }\n\n  /* Enforce dimensions of "tick" icon */\n  svg {\n    position: absolute;\n    width: 14px;\n  }\n'])),Object(Xe.f)(14),Object(Ha.d)(),Object(Ha.c)("#ffffff",.5)),qa=function(e){return Object(X.c)(Fa||(Fa=pe()(["\n  ","\n  ","\n  "," display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  background: transparent;\n  transition: 0.3s background ",", 0.3s border-color;\n  padding: 16px;\n\n  ","\n  &:not(.persistent):hover, &.active {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n\n    .bottom-row {\n      .delete-btn {\n        display: flex;\n      }\n    }\n  }\n\n  &.noHover:hover {\n    .top-row {\n      .title {\n        color: ",";\n      }\n    }\n  }\n\n  .file-type-icon {\n    display: block;\n  }\n\n  &:not(.persistent) {\n    &:not(.error, .noHover):hover {\n      background-color: ",";\n    }\n\n    &.selectable {\n      &.selected {\n        background-color: ",";\n\n        &:hover {\n          /* TODO FIL-3884 add new overlay with rgba(colors.N900, 0.16) */\n        }\n\n        .title,\n        .bottom-row,\n        .file-size,\n        .more-btn {\n          color: ",";\n        }\n      }\n    }\n  }\n\n  &.persistent {\n    &:not(.active) {\n      overflow: hidden;\n    }\n\n    .top-row {\n      .title {\n        transition: opacity 0.3s;\n        opacity: 0;\n        color: white;\n        visibility: hidden;\n      }\n    }\n\n    .bottom-row {\n      opacity: 0;\n      transition: transform 0.2s, opacity 0.5s;\n      /* This is the height of the overlay footer, needs to be present now since the parent uses flex and 100% doesn't look right anymore */\n      transform: translateY(35px);\n\n      .file-type-icon {\n        display: none;\n      }\n\n      .file-size {\n        color: white;\n        display: none;\n      }\n\n      .more-btn {\n        color: ",";\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n\n      .delete-btn {\n        display: none;\n\n        &:hover {\n          background-color: rgba(9, 30, 66, 0.2);\n        }\n      }\n    }\n\n    &:hover,\n    &.active {\n      background-color: ",";\n\n      .title {\n        opacity: 1;\n        visibility: visible;\n      }\n\n      .file-type-icon,\n      .file-size {\n        display: block;\n      }\n\n      .more-btn {\n        "," color: ",";\n      }\n\n      .delete-btn {\n        display: flex;\n      }\n\n      .bottom-row {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    /* Selectable */\n    &.selectable {\n      &:hover {\n        .tickbox {\n          opacity: 1;\n        }\n      }\n\n      &.selected {\n        .tickbox {\n          background-color: "," !important;\n          border-color: "," !important;\n          color: white;\n        }\n      }\n    }\n  }\n\n  &.error {\n    .top-row {\n      overflow: visible;\n    }\n    &:hover,\n    &.active {\n      .top-row {\n        .title {\n          color: ",";\n        }\n      }\n    }\n  }\n"])),Object(Xe.f)(),Object(Xe.a)(),Xe.b,Ga.a,function(e){var t=e.hasError,n=e.noHover;if(t||n)return"\n        cursor: default;\n\n        &:hover {\n          background: transparent;\n        }\n      "}(e),Le.d,Le.r,Object(Ha.c)(Le.s,.06),Le.b,Le.h,Le.h,Object(Ha.c)(Le.s,.5),Ha.b,Le.h,Le.b,Le.b,Le.r)},Ka=Object(X.c)(Da||(Da=pe()(["\n  height: 24px;\n  display: flex;\n  align-items: center;\n"]))),Ya=Object(X.c)(Ma||(Ma=pe()(["\n  width: 100%;\n  position: relative;\n  box-sizing: border-box;\n  vertical-align: middle;\n"]))),Ja=Object(X.c)(Ta||(Ta=pe()([""]))),$a=Object(X.c)(Aa||(Aa=pe()(["\n  display: flex;\n  align-items: center;\n  height: 16px;\n"]))),Za=Object(X.c)(za||(za=pe()([""]))),Qa=Object(X.c)(La||(La=pe()(["\n  "," display: inline-block;\n  vertical-align: middle;\n  font-weight: bold;\n  color: ",";\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  max-width: 'calc(100% - 24px)';\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: auto 3px;\n"])),Ha.a,Le.q),ei=Object(X.c)(Na||(Na=pe()(["\n  ","\n  font-weight: normal;\n"])),Qa),ti=function(e){return Object(X.c)(Ua||(Ua=pe()(["\n  box-sizing: border-box;\n  word-wrap: break-word;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n"])),Object(Wa.a)({light:Le.r,dark:Le.g})({theme:e}))},ni=Object(X.c)(_a||(_a=pe()(["\n  "," font-size: 12px;\n  color: #5e6c84;\n"])),Object(Xe.d)("100px")),ri=Object(X.c)(Va||(Va=pe()(["\n  display: flex;\n  align-items: center;\n"]))),ai=n(2343),ii=function(e){var t=e.hasError,n=e.noHover,r=e.className;return Object(X.d)("div",{css:qa({hasError:t,noHover:n}),className:r},e.children)},oi=function(e){return Object(X.d)("div",{css:Qa},e.children)},ci=function(e){return Object(X.d)("div",{css:ei},e.children)},si=function(e){var t=Object(ai.a)();return Object(X.d)("div",{css:ti(t),className:"title"},e.children)},di=function(e){return Object(X.d)("div",{css:ri,className:e.className},e.children)};function li(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ui=function(e){v()(n,e);var t=li(n);function n(e){var r;return s()(this,n),r=t.call(this,e),O()(p()(r),"onMenuToggle",(function(e){r.setState({isMenuExpanded:e.isOpen})})),r.state={isMenuExpanded:!1},r}return l()(n,[{key:"wrapperClassNames",get:function(){var e=this.props,t=e.error,n=e.noHover,r=e.selectable,a=e.selected,i=e.mediaType,o=e.persistent,c=this.state.isMenuExpanded;return t?ke()("overlay",{error:t,active:c}):ke()("overlay",i,{active:c,selectable:r,selected:a,persistent:!o,noHover:n})}},{key:"render",value:function(){var e=this.props,t=e.cardStatus,n=e.error,r=e.noHover,a=e.mediaName,i=e.persistent,o=e.selected,c=e.actions,s=function(e,t,n,r){return n||!t||"uploading"===e&&!r?"":t}(t,a,n,o),d=i?void 0:"white";return Object(X.d)(ii,{hasError:!!n,noHover:r,className:this.wrapperClassNames},Object(X.d)("div",{css:Ja,className:"top-row"},this.errorLine(),Object(X.d)(si,null,s?Object(X.d)(me,{testId:"media-card-file-name",text:s,lines:2}):null),this.tickBox()),Object(X.d)("div",{css:$a,className:"bottom-row"},Object(X.d)("div",{css:Ya},this.bottomLeftColumn()),Object(X.d)("div",{css:Za},c?Object(X.d)(Sa,{actions:c,onToggle:this.onMenuToggle,triggerColor:d}):null)))}},{key:"errorLine",value:function(){var e=this.props,t=e.error,n=e.alt;return t&&Object(X.d)(j.a.Fragment,null,Object(X.d)("div",{css:Ka},Object(X.d)(nt,null),Object(X.d)(oi,null,t)),n&&Object(X.d)("div",{css:Ka},Object(X.d)(ci,null,n)))}},{key:"tickBox",value:function(){var e=this.props,t=e.selected,n=e.selectable,r=Object(X.d)(Ce.a,{label:"tick"}),a=ke()("tickbox",{selected:t});return n&&Object(X.d)("div",{css:Xa,className:a},r)}},{key:"bottomLeftColumn",value:function(){if(!this.props.error){var e=this.props,t=e.mediaType,n=e.subtitle,r=e.icon,a=ke()("metadata"),i=t||r?Object(X.d)($e,{mediaType:t,iconUrl:r}):null,o=n?Object(X.d)("div",{css:ni,className:"file-size"},n):null;return Object(X.d)("div",null,Object(X.d)(di,{className:a},i,o))}}},{key:"removeBtnClick",value:function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}}}]),n}(k.Component);O()(ui,"defaultProps",{actions:[],mediaName:""});var pi,fi,vi,bi,hi,mi,gi,yi,Oi,xi,wi=n(1064),ki=function(e){return Object(X.c)(pi||(pi=pe()(["\n  ","\n  ","\n  ","\n  ","\n\n  line-height: normal;\n  position: relative;\n\n  ","\n\n  "," .wrapper {\n    ",";\n    display: block;\n    height: inherit;\n    position: relative;\n\n    .img-wrapper {\n      position: relative;\n      width: inherit;\n      height: inherit;\n      overflow: hidden;\n      display: block;\n      ","\n    }\n  }\n"])),Object(ot.b)(),function(e){return e.disableOverlay?"":ot.a}(e),Xe.b,function(e){var t=e.mediaType;return"background: ".concat("image"===t?"transparent":Object(Wa.a)({light:Le.j,dark:Le.f})(e),";")}(e),Object(wi.a)(e),Object(Xe.f)(),Xe.b,Xe.b)},ji=Object(X.c)(fi||(fi=pe()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  /* we want to override default icon size and hover state */\n  &:hover > * {\n    width: 64px;\n    height: 64px;\n  }\n"]))),Ci=Object(X.c)(vi||(vi=pe()(["\n  background: rgba(23, 43, 77, 0.7);\n  border-radius: 100%;\n  padding: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition-property: width, height;\n  transition-duration: 0.1s;\n  width: 56px;\n  height: 56px;\n"]))),Pi=Object(X.c)(bi||(bi=pe()(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n"]))),Ri=Object(X.c)(hi||(hi=pe()(["\n  ","\n  ","\n  border-radius: inherit;\n  background-color: rgba(9, 30, 66, 0.5);\n"])),Object(Xe.a)(),Object(Xe.f)()),Si=Object(X.c)(mi||(mi=pe()(["\n  "," width: 100%;\n  padding: 8px;\n  color: ",";\n  font-size: 12px;\n  line-height: 18px;\n  word-wrap: break-word;\n"])),Object(Xe.a)(),Le.h),Ii=Object(X.c)(gi||(gi=pe()(["\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 8px;\n  color: ",";\n"])),Le.h),Ei=Object(X.c)(yi||(yi=pe()(["\n  flex-grow: 1;\n\n  /*\n    force the height to always be 20px (the height of the cancel icon),\n    so that the height of the progress bar doesn't jump when cards with\n    and without a cancel icon are rendered side-by-side.\n  */\n  height: ","px;\n\n  /*\n    vertically center the progress bar within the 20px, keeping the progress bar full width\n  */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"])),26),Bi=Object(X.c)(Oi||(Oi=pe()(["\n  margin-left: 4px;\n  /*\n    button must appear above overlay\n   */\n  z-index: 2;\n"]))),Fi=n(2090),Di=n(333),Mi=function(e,t,n,r,a){return!("doc"===r||!a&&"file"===t)&&(!!n&&("external-image"===t||a&&Object(Di.isMimeTypeSupportedByBrowser)(a)||"complete"===e||"loading-preview"===e))},Ti=Object(X.c)(xi||(xi=pe()(["\n  "," z-index: 30;\n  overflow: hidden;\n  background-color: rgba(255, 255, 255, 0.3);\n\n  .progressBar {\n    width: 0%;\n    height: 3px;\n    transition: width 0.25s ease-in;\n    background-color: white;\n  }\n"])),Xe.b);function Ai(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var zi=function(e){v()(n,e);var t=Ai(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){if("number"!==typeof this.props.progress)return null;var e=Math.min(1,Math.max(0,this.props.progress)),t={width:"".concat(100*e,"%")};return Object(X.d)("div",{css:Ti},Object(X.d)("div",{className:"progressBar",style:t}))}}]),n}(k.Component),Li=n(2093),Ni=function(e){var t=e.disableOverlay,n=e.selectable,r=e.selected,a=e.mediaType,i=e.mediaName,o=e.status,c=e.progress,s=Object(ai.a)();return Object(X.d)("div",{id:"cardImageViewWrapper","data-testid":"media-file-card-view","data-test-media-name":i,"data-test-status":o,"data-test-progress":c,"data-test-selected":!!r||void 0,css:ki({theme:s,disableOverlay:t,selectable:n,selected:r,mediaType:a}),className:"".concat(Li.b," ").concat(r?Li.a:"")},e.children)},Ui=function(e){return Object(X.d)("div",{css:ji},e.children)},_i=function(e){return Object(X.d)("div",{css:Pi},e.children)};function Vi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Wi=function(e){v()(n,e);var t=Vi(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(p()(e),"wasThumbnailDisplayed",!1),O()(p()(e),"renderCardContents",(function(){var t=e.props,n=t.status,r=t.mediaType,a=t.fileSize;if("error"===n)return e.renderErrorContents();if("failed-processing"===n)return e.renderFailedContents();var i=""===a&&["processing","loading-preview"].includes(n);return"video"===r||e.isFileCardImageReadyForDisplay||i?e.renderSuccessCardContents():e.renderLoadingContents()})),O()(p()(e),"renderLoadingContents",(function(){return Object(X.d)("div",{className:"wrapper"},Object(X.d)("div",{className:"img-wrapper"},Object(X.d)(Fi.a,null)))})),O()(p()(e),"renderErrorContents",(function(){var t=e.props,n=t.status,r=t.error,a=t.alt,i=t.mediaName,o=t.mediaType,c=t.actions,s=t.fileSize;return Object(X.d)(j.a.Fragment,null,Object(X.d)("div",{className:"wrapper"}),Object(X.d)(ui,{cardStatus:n,error:r,persistent:!0,mediaName:i,mediaType:o,alt:a,subtitle:s,actions:c}))})),O()(p()(e),"renderFailedContents",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.actions,o=t.fileSize;return Object(X.d)(j.a.Fragment,null,Object(X.d)("div",{className:"wrapper"}),Object(X.d)(ui,{cardStatus:n,noHover:!0,persistent:!0,mediaName:r,mediaType:a,subtitle:o,actions:i}))})),O()(p()(e),"renderUploadingCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.dataURI,o=t.selectable,c=t.selected,s="doc"===a||!i;return Object(X.d)(ui,{cardStatus:n,persistent:s,mediaName:r,selectable:o,selected:c})})),O()(p()(e),"renderPlayButton",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.mediaType,i=t.mimeType,o=t.selectable,c=t.dataURI;return"video"!==a||o&&!Mi(n,r,c,a,i)?null:Object(X.d)(Ui,null,Object(X.d)("div",{css:Ci},Object(X.d)(xe.a,{testId:"media-card-play-button",label:"play",size:"large"})))})),O()(p()(e),"onImageLoad",(function(){var t=e.props,n=t.onImageLoad,r=t.cardPreview;n&&n(r)})),O()(p()(e),"onImageError",(function(){var t=e.props,n=t.onImageError,r=t.cardPreview;n&&n(r)})),O()(p()(e),"renderMediaImage",(function(){var t=e.props,n=t.status,r=t.mediaItemType,a=t.dataURI,i=t.mediaType,o=t.mimeType,c=t.previewOrientation,s=t.onDisplayImage,d=t.alt;return Mi(n,r,a,i,o)?(!e.wasThumbnailDisplayed&&s&&"image"===i&&(s(),e.wasThumbnailDisplayed=!0),Object(X.d)(de,{dataURI:a,alt:d,crop:e.isCropped,stretch:e.isStretched,previewOrientation:c,onImageLoad:e.onImageLoad,onImageError:e.onImageError})):null})),O()(p()(e),"renderProgressBar",(function(){var t=e.props,n=t.mediaName,r=t.progress,a=t.actions;return"uploading"!==t.status?null:Object(X.d)(_i,null,Object(X.d)("div",{css:Ri},Object(X.d)("div",{css:Si},Object(X.d)(me,{testId:"media-card-file-name",text:n||"",lines:2})),Object(X.d)("div",{css:Ii},Object(X.d)("div",{css:Ei},Object(X.d)(zi,{progress:r})),Object(X.d)("div",{css:Bi},a?Object(X.d)(Sa,{actions:a,triggerColor:"white"}):null))))})),O()(p()(e),"renderSuccessCardContents",(function(){var t=e.props,n=t.disableOverlay,r=t.selectable,a=t.status,i=null;return n||("uploading"===a?r&&(i=e.renderUploadingCardOverlay()):i=e.renderSuccessCardOverlay()),Object(X.d)("div",{className:"wrapper"},Object(X.d)("div",{className:"img-wrapper"},e.renderMediaImage(),e.renderProgressBar(),e.renderPlayButton()),i)})),O()(p()(e),"renderSuccessCardOverlay",(function(){var t=e.props,n=t.status,r=t.mediaName,a=t.mediaType,i=t.fileSize,o=t.dataURI,c=t.selectable,s=t.selected,d=t.actions,l="doc"===a||!o;return Object(X.d)(ui,{cardStatus:n,persistent:l,mediaName:r,mediaType:a,selectable:c,selected:s,subtitle:i,actions:d})})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.disableOverlay,n=e.selectable,r=e.selected,a=e.mediaType,i=e.progress,o=e.status,c=e.mediaName;return Object(X.d)(Ni,{mediaName:c,status:o,progress:i,disableOverlay:t,selectable:n,selected:r,mediaType:a},this.renderCardContents())}},{key:"isFileCardImageReadyForDisplay",get:function(){var e=this.props,t=e.dataURI,n=e.status;return!!t||!["loading","processing","loading-preview"].includes(n)}},{key:"isCropped",get:function(){return"crop"===this.props.resizeMode}},{key:"isStretched",get:function(){return"stretchy-fit"===this.props.resizeMode}}]),n}(k.Component);O()(Wi,"defaultProps",{resizeMode:"crop",disableOverlay:!1});var Hi=n(1063),Gi=n(2082),Xi=n(2439),qi=n(780),Ki=n(2484);function Yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t){return e.map((function(e){return Ji(Ji({},e),{},{handler:function(){e.handler({type:"file",details:t})}})}))}var Zi=n(805),Qi=function(e){return"error"===e&&j.a.createElement(Zi.a,$.a.failed_to_load)},eo=n(2486);var to,no,ro,ao,io,oo,co,so=function(e){var t=e.cardPreview,n=e.alt,r=e.resizeMode,a=e.onImageLoad,i=e.onImageError,o=e.onDisplayImage,c=e.mediaType,s=e.nativeLazyLoad,d=e.forceSyncDisplay;Object(k.useEffect)((function(){"image"===c&&o&&o()}),[c,o]);return j.a.createElement(de,I()({dataURI:t.dataURI,alt:n,previewOrientation:t.orientation,onImageLoad:function(){a&&a(t)},onImageError:function(){i&&i(t)},loading:s?"lazy":void 0,forceSyncDisplay:d},function(e){return{crop:"crop"===e,stretch:"stretchy-fit"===e}}(r)))},lo=n(2400),uo=n.n(lo),po="\n  display: inline-block;\n  vertical-align: bottom;\n  white-space: nowrap;\n  overflow: hidden;\n",fo=fe.a.span(to||(to=pe()(["\n  ","\n  max-width: calc(100% - ","em);\n  min-width: ",";\n  text-overflow: ellipsis;\n"])),po,(function(e){var t=e.fontSizePX,n=e.endFixedChars;return bo(t)*n+1}),(function(e){var t=e.fontSizePX,n=e.startFixedChars;return bo(t)*n})),vo=fe.a.span(no||(no=pe()(["\n  ","\n  max-width: calc(100% - ",");\n  position: relative;\n"])),po,(function(e){var t=e.fontSizePX,n=e.startFixedChars;return bo(t)*n})),bo=function(e){return e/11*.46},ho=function(e){var t=e.text,n=e.fontSizePX,r=void 0===n?11:n,a=e.startFixedChars,i=void 0===a?4:a,o=e.endFixedChars,c=void 0===o?7:o,s=function(e,t,n){var r=n+t;if(e.length<=r)return{left:e,right:e};var a=e.length-n;return{left:e.substr(0,a),right:e.substr(a)}}(t,i,c),d=s.left,l=s.right;return d===l?j.a.createElement(j.a.Fragment,null,t):j.a.createElement(j.a.Fragment,null,j.a.createElement(fo,{fontSizePX:r,startFixedChars:i,endFixedChars:c},d),j.a.createElement(vo,{fontSizePX:r,startFixedChars:i,endFixedChars:c},l))},mo=n(2490),go=n(2418),yo=/^#[0-9A-F]{6}$/i,Oo=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(X.c)(ro||(ro=pe()(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background-color: ",";\n  color: inherit;\n  cursor: inherit;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  ","\n"])),Object(Ha.c)(n&&yo.test(n)?n:Le.h,.8),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go.a.SMALL,t=go.c[e],n=t.titleBox.verticalPadding,r=t.titleBox.horizontalPadding,a=Object(go.b)(e);return"height: ".concat(a,"px;\n    padding: ").concat(n,"px ").concat(r,"px;")}(t))};Oo.displayName="TitleBoxWrapper";var xo="white-space: nowrap;\n  overflow: hidden;",wo="padding-right: 10px;",ko=function(e){var t=e.hasIconOverlap;return Object(X.c)(ao||(ao=pe()(["\n  font-weight: 600;\n  ","\n  ","\n"])),xo,t&&wo)};ko.displayName="FailedTitleBoxHeader";var jo=function(e){var t=e.hasIconOverlap;return Object(X.c)(io||(io=pe()(["\n  text-overflow: ellipsis;\n  ","\n  ","\n"])),xo,t&&wo)};jo.displayName="TitleBoxFooter";var Co,Po=Object(X.c)(oo||(oo=pe()(["\n  position: absolute;\n  right: 4px;\n  bottom: 0px;\n"]))),Ro=Object(X.c)(co||(co=pe()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  span {\n    vertical-align: middle;\n    :nth-child(2) {\n      margin-left: 4px;\n      margin-right: 4px;\n    }\n  }\n"]))),So=function(e){var t=e.breakpoint,n=e.titleBoxBgColor;return Object(X.d)("div",{id:"titleBoxWrapper",css:Oo({breakpoint:t,titleBoxBgColor:n})},e.children)},Io=function(e){var t=e.hasIconOverlap;return Object(X.d)("div",{id:"titleBoxHeader",css:ko({hasIconOverlap:t})},e.children)},Eo=function(e){var t=e.hasIconOverlap;return Object(X.d)("div",{id:"titleBoxFooter",css:jo({hasIconOverlap:t})},e.children)},Bo=function(e){return Object(X.d)("div",{id:"titleBoxIcon",css:Po},e.children)},Fo=function(e){return Object(X.d)("div",{css:Ro},e.children)},Do=Object(G.c)((function(e){var t=e.timestamp,n=(e.intl||{locale:"en"}).locale,r=void 0===n?"en":n;return j.a.createElement(j.a.Fragment,null,Object(mo.a)(t,r))})),Mo=function(e){var t=e.name,n=e.createdAt,r=e.breakpoint,a=e.titleBoxBgColor,i=e.titleBoxIcon;return j.a.createElement(So,{breakpoint:r,titleBoxBgColor:a},j.a.createElement(Io,{hasIconOverlap:!!i&&!n},j.a.createElement(ho,{text:t})),n?j.a.createElement(Eo,{hasIconOverlap:!!i},j.a.createElement(Do,{timestamp:n})):null,"LockFilledIcon"===i&&j.a.createElement(Bo,null,j.a.createElement(uo.a,{label:"",size:"small"})))},To=function(e){var t=e.breakpoint,n=e.customMessage,r=void 0===n?$.a.failed_to_load:n;return j.a.createElement(So,{breakpoint:t},j.a.createElement(Fo,null,j.a.createElement(Qe.a,{label:"Warning",size:"small",primaryColor:Le.v}),j.a.createElement("span",null,j.a.createElement(Zi.a,r))))},Ao=n(2635),zo=n(2487),Lo=function(e){return Object(X.d)("div",{css:zo.e,className:zo.d},e.children)},No=function(){return Object(X.d)("div",{css:zo.a,className:zo.b})},Uo=function(){return j.a.createElement(Lo,null,j.a.createElement(No,null),j.a.createElement(xe.a,{label:"play",size:"large"}))},_o=n(2573),Vo=function(e){return Object(X.d)("div",{id:"tickBoxWrapper",css:Object(_o.c)(e.selected),className:_o.a},e.children)},Wo=function(e){var t=e.selected;return j.a.createElement(Vo,{selected:t},j.a.createElement(Ce.a,{label:"tick"}))},Ho="media-card-blanket",Go="background-color: ".concat(Le.t,";"),Xo=function(e){return Object(X.c)(Co||(Co=pe()(["\n  ","\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n  left: 0;\n  top: 0;\n  ","\n"])),Object(Ha.d)(),e?Go:"")};Xo.displayName="Blanket";var qo,Ko=function(e){var t=e.isFixed;return Object(X.d)("div",{css:Xo(t),className:Ho})},Yo="media-card-actions-bar",Jo="opacity: 1;",$o=function(e){return Object(X.c)(qo||(qo=pe()(["\n  ","\n  ","\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n"])),e?Jo:"opacity: 0;",Object(Ha.d)())};$o.displayName="ActionsBarWrapper";var Zo=function(e){return Object(X.d)("div",{id:"actionsBarWrapper",css:$o(e.isFixed),className:Yo},e.children)};function Qo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ec,tc=function(e){v()(n,e);var t=Qo(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.isFixed,n=e.actions;return 0===n.length?null:j.a.createElement(Zo,{isFixed:t},j.a.createElement(Sa,{actions:n,variant:it.filled}))}}]),n}(j.a.Component);var nc=function(e){var t=e.hasTitleBox,n=e.breakpoint;return Object(X.c)(ec||(ec=pe()(["\n  position: absolute;\n  width: 100%;\n  height: calc(100% - ",");\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"])),function(e,t){if(!e)return"0px";var n=Object(go.b)(t);return"".concat(n,"px")}(t,n))};nc.displayName="MediaIconWrapper";var rc,ac,ic,oc,cc=function(e){var t=e.breakpoint,n=e.hasTitleBox;return Object(X.d)("div",{id:"iconWrapper",css:nc({breakpoint:t,hasTitleBox:n})},e.children)},sc=Object(X.e)(rc||(rc=pe()(["\n 0% { opacity: 1}\n 50% { opacity: 0.3 }\n 100% { opacity: 1; }"]))),dc=Object(X.c)(ac||(ac=pe()(["\n  animation-name: ",";\n  animation-duration: 3.5s;\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n"])),sc),lc=function(e){return Object(X.c)(oc||(oc=pe()(["\n  ","\n"])),function(e){var t=e.animated,n=e.reducedFont;return Object(X.c)(ic||(ic=pe()(["\n  overflow: hidden;\n  opacity: 1;\n  font-weight: 450;\n  ","\n  color: ",";\n  text-align: center;\n  ","\n  margin-bottom: -1em;\n  padding: 3px 10px;\n"])),n?"font-size: 0.7em;":"",Le.k,t?dc:"")}(e))};lc.displayName="IconMessageWrapper";var uc,pc=function(e){var t=e.animated,n=e.reducedFont;return Object(X.d)("div",{id:"iconMessageWrapper",css:lc({animated:t,reducedFont:n})},e.children)},fc=function(e){var t=e.messageDescriptor,n=e.animated,r=void 0!==n&&n,a=e.reducedFont,i=void 0!==a&&a;return j.a.createElement(pc,{animated:r,reducedFont:i},j.a.createElement("span",null,j.a.createElement(Zi.a,t)))},vc=function(e){var t=e.disableAnimation;return j.a.createElement(fc,{messageDescriptor:$.a.creating_preview,animated:!t})},bc=function(e){return j.a.createElement(fc,I()({},e,{messageDescriptor:$.a.preview_unavailable}))},hc=function(e){return j.a.createElement(fc,I()({},e,{messageDescriptor:$.a.failed_to_load}))},mc=function(e){return j.a.createElement(fc,I()({},e,{messageDescriptor:$.a.failed_to_upload}))},gc=function(e){return j.a.createElement(fc,I()({},e,{messageDescriptor:$.a.preview_currently_unavailable,reducedFont:!0}))},yc=n(2094),Oc=n(1276),xc=function(e){var t=e.breakpoint,n=e.dimensions,r=e.appearance,a=e.disableOverlay,i=e.displayBackground,o=e.selected,c=e.isPlayButtonClickable,s=e.isTickBoxSelectable,d=e.shouldDisplayTooltip,l=e.mediaCardCursor;return Object(X.c)(uc||(uc=pe()(["\n  ","\n  box-sizing: border-box;\n  * {\n    box-sizing: border-box;\n  }\n  position: relative;\n  font-family: ",";\n  ","\n  ","\n    ","\n    ","\n    ","\n  ",";\n  ","\n\n  /* We use classnames from here exceptionally to be able to handle styles when the Card is on hover */\n    ","\n    ","\n    &:hover ."," {\n    ","\n  }\n  &:hover ."," {\n    ","\n  }\n\n  /* Tooltip does not support percentage dimensions. We enforce them here */\n  ","\n"])),Object(Ha.d)(),Object(Rr.e)(),Object(eo.g)(n,r),i?"background-color: ".concat(Le.j,";"):"",Xe.b,Object(eo.e)(l),Object(eo.h)(a,o),Object(eo.c)(t),Oc.b,Object(eo.d)(c),Object(eo.f)(s),Ho,Go,Yo,Jo,d?"> div { width: 100%; height: 100% }":"")};xc.displayName="NewFileExperienceWrapper";var wc=function(e){var t=e.testId,n=e.dimensions,r=e.appearance,a=e.onClick,i=e.onMouseEnter,o=e.innerRef,c=e.breakpoint,s=e.mediaCardCursor,d=e.disableOverlay,l=e.selected,u=e.displayBackground,p=e.isPlayButtonClickable,f=e.isTickBoxSelectable,v=e.shouldDisplayTooltip;return Object(X.d)("div",{id:"newFileExperienceWrapper",className:yc.a,"data-testid":t,css:xc({breakpoint:c,dimensions:n,appearance:r,disableOverlay:d,displayBackground:u,selected:l,isPlayButtonClickable:p,isTickBoxSelectable:f,shouldDisplayTooltip:v,mediaCardCursor:s}),ref:o,onClick:a,onMouseEnter:i},e.children)},kc=n(2087),jc=function(e){var t=e.testId,n=e.shouldUsePointerCursor,r=e.breakpointSize,a=e.dimensions,i=e.onClick,o=e.onMouseEnter,c=e.innerRef;return Object(X.d)("div",{id:"cardViewWrapper","data-testid":t,css:Object(kc.c)({shouldUsePointerCursor:n,breakpointSize:r,dimensions:a}),onClick:i,onMouseEnter:o,ref:c},e.children)};function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Sc=function(e){v()(n,e);var t=Rc(n);function n(){var e;s()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),O()(p()(e),"state",{didImageRender:!1}),O()(p()(e),"divRef",j.a.createRef()),O()(p()(e),"onImageLoad",(function(t){var n=e.props,r=n.onImageLoad,a=n.cardPreview;t.dataURI===(null===a||void 0===a?void 0:a.dataURI)&&(e.setState({didImageRender:!0}),r&&r(a))})),O()(p()(e),"onImageError",(function(t){var n=e.props.onImageError;e.setState({didImageRender:!1}),n&&n(t)})),O()(p()(e),"saveElementWidth",(function(){var t=e.props.dimensions;if(t){var n=t.width;if(n&&Object(Xi.a)(n)&&e.divRef.current){var r=Object(Ki.a)(e.divRef.current,"width");e.setState({elementWidth:r})}}})),O()(p()(e),"renderFileNewExperience",(function(){var t=e.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=t.metadata,s=t.status,d=t.selected,l=t.selectable,u=t.disableOverlay,p=t.cardPreview,f=t.mediaCardCursor,v=(c||{}).name,b=!p||!u||"error"===s||"failed-processing"===s,h=!(!e.shouldRenderPlayButton()||!u),m=!u&&!!l&&!d,g=!u;return Object(X.d)(wc,{testId:o||"media-card-view",dimensions:n,appearance:r,onClick:a,onMouseEnter:i,innerRef:e.divRef,breakpoint:e.breakpoint,mediaCardCursor:f,disableOverlay:!!u,selected:!!d,displayBackground:b,isPlayButtonClickable:h,isTickBoxSelectable:m,shouldDisplayTooltip:g},g?Object(X.d)(Y.a,{content:v,position:"bottom",tag:"div"},e.renderNewExperienceCard()):e.renderNewExperienceCard())})),O()(p()(e),"renderFile",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.mediaItemType,i=t.metadata,o=t.progress,c=t.resizeMode,s=t.dimensions,d=t.selectable,l=t.selected,u=t.disableOverlay,p=t.alt,f=t.onDisplayImage,v=t.actions,b=n||{},h=b.dataURI,m=b.orientation,g=i||{},y=g.name,O=g.mediaType,x=g.mimeType,w=g.size,k=i&&v?$i(v,i):[],j=Qi(r),C=w?Object(J.a)(w):"";return Object(X.d)(Wi,{error:j,dimensions:s,selectable:d,selected:l,dataURI:h,mediaName:y,mediaType:O,mimeType:x,fileSize:C,status:r,mediaItemType:a,progress:o,resizeMode:c,onDisplayImage:f,actions:k,disableOverlay:u,previewOrientation:m,alt:p,onImageLoad:e.onImageLoad,onImageError:e.onImageError,cardPreview:n})})),O()(p()(e),"getRenderConfigByStatus",(function(){var t=e.props,n=t.cardPreview,r=t.status,a=t.metadata,i=t.disableOverlay,o=t.error,c=t.selectable,s=t.disableAnimation,d=a||{},l=d.name,u=d.mediaType,p=e.state.didImageRender,f=!(!a||0!==a.size),v={renderTypeIcon:!p,renderImageRenderer:!!n,renderPlayButton:!!n&&"video"===u,renderBlanket:!i,renderTitleBox:!i&&!!l,renderTickBox:!i&&!!c};switch(r){case"uploading":return Pc(Pc({},v),{},{renderBlanket:!i||"video"!==u,isFixedBlanket:!0,renderProgressBar:!0});case"processing":return Pc(Pc({},v),{},{iconMessage:p||f?void 0:Object(X.d)(vc,{disableAnimation:s})});case"complete":return v;case"error":case"failed-processing":var b,h,m=Pc(Pc({},v),{},{renderTypeIcon:!0,renderImageRenderer:!1,renderTitleBox:!1,renderPlayButton:!1}),g=(o||{}).secondaryError;if(Object(Z.g)(g)||Object(Q.b)(g)?b=Object(X.d)(gc,null):ra(o)?(b=Object(X.d)(mc,null),h=$.a.failed_to_upload):b=a?Object(X.d)(bc,null):Object(X.d)(hc,null),!i){var y=!l||!!h;return Pc(Pc({},m),{},{renderTitleBox:!!l&&!h,renderFailedTitleBox:y,iconMessage:y?void 0:b,customTitleMessage:h})}return Pc(Pc({},m),{},{iconMessage:b});default:return Pc(Pc({},v),{},{renderPlayButton:!1,renderTypeIcon:!1,renderSpinner:!p})}})),O()(p()(e),"renderNewExperienceCard",(function(){var t=e.getRenderConfigByStatus(),n=t.renderTypeIcon,r=t.iconMessage,a=t.renderImageRenderer,i=t.renderSpinner,o=t.renderPlayButton,c=t.renderBlanket,s=t.renderProgressBar,d=t.renderTitleBox,l=t.renderFailedTitleBox,u=t.renderTickBox,p=t.isFixedBlanket,f=t.customTitleMessage,v=e.props,b=v.progress,h=v.selected,m=v.status,g=(v.metadata||{}).name,y=!!d||!!l;return Object(X.d)(j.a.Fragment,null,Object(X.d)("div",{css:eo.b,className:"media-file-card-view","data-testid":"media-file-card-view","data-test-media-name":g,"data-test-status":m,"data-test-progress":b,"data-test-selected":!!h||void 0},n&&e.renderMediaTypeIcon(y,r),i&&e.renderSpinner(y),a&&e.renderImageRenderer(),o&&e.renderPlayButton(y),c&&e.renderBlanket(!!p),d&&e.renderTitleBox(),l&&e.renderFailedTitleBox(f),s&&e.renderProgressBar(!y),u&&e.renderTickBox()),e.renderActionsBar())})),e}return l()(n,[{key:"componentDidMount",value:function(){this.saveElementWidth();var e=this.props.innerRef;e&&this.divRef.current&&e(this.divRef.current)}},{key:"componentDidUpdate",value:function(e){var t=e.cardPreview,n=this.props.cardPreview;t&&!n&&this.setState({didImageRender:!1})}},{key:"width",get:function(){var e=this.state.elementWidth;if(e)return e;var t=(this.props.dimensions||{width:void 0}).width;return t?Object(qi.a)(t):Gi.a.width}},{key:"breakpoint",get:function(){var e=this.state.elementWidth||(this.props.dimensions?this.props.dimensions.width:"")||Gi.a.width;return Object(eo.a)(parseInt("".concat(e),10))}},{key:"render",value:function(){var e=this.props.featureFlags;if(Object(F.c)("newCardExperience",e))return this.renderFileNewExperience();var t=this.props,n=t.dimensions,r=t.appearance,a=t.onClick,i=t.onMouseEnter,o=t.testId,c=n||Object(Gi.b)(r);return Object(X.d)(jc,{testId:o||"media-card-view",shouldUsePointerCursor:!0,breakpointSize:Object(Hi.a)(this.width),dimensions:c,onClick:a,onMouseEnter:i,innerRef:this.divRef},this.renderFile())}},{key:"renderSpinner",value:function(e){return Object(X.d)(cc,{breakpoint:this.breakpoint,hasTitleBox:e},Object(X.d)(K.a,null))}},{key:"shouldRenderPlayButton",value:function(){var e=this.props,t=e.metadata,n=e.cardPreview;return!("video"!==(t||{}).mediaType||!n)}},{key:"renderPlayButton",value:function(e){return Object(X.d)(cc,{breakpoint:this.breakpoint,hasTitleBox:e},Object(X.d)(Uo,null))}},{key:"renderBlanket",value:function(e){return Object(X.d)(Ko,{isFixed:e})}},{key:"renderTitleBox",value:function(){var e=this.props,t=e.metadata,n=e.titleBoxBgColor,r=e.titleBoxIcon,a=t||{},i=a.name,o=a.createdAt;return!!i&&Object(X.d)(Mo,{name:i,createdAt:o,breakpoint:this.breakpoint,titleBoxIcon:r,titleBoxBgColor:n})}},{key:"renderFailedTitleBox",value:function(e){return Object(X.d)(To,{breakpoint:this.breakpoint,customMessage:e})}},{key:"renderProgressBar",value:function(e){var t=this.props.progress;return Object(X.d)(Ao.a,{progress:t,breakpoint:this.breakpoint,positionBottom:e})}},{key:"renderImageRenderer",value:function(){var e=this.props,t=e.cardPreview,n=e.metadata,r=(n=void 0===n?{}:n).mediaType,a=void 0===r?"unknown":r,i=e.alt,o=e.resizeMode,c=e.onDisplayImage,s=e.nativeLazyLoad,d=e.forceSyncDisplay;return!!t&&Object(X.d)(so,{cardPreview:t,mediaType:a,alt:i,resizeMode:o,onDisplayImage:c,onImageLoad:this.onImageLoad,onImageError:this.onImageError,nativeLazyLoad:s,forceSyncDisplay:d})}},{key:"renderTickBox",value:function(){var e=this.props.selected;return Object(X.d)(Wo,{selected:e})}},{key:"renderMediaTypeIcon",value:function(e,t){var n=this.props.metadata||{},r=n.mediaType,a=n.mimeType,i=n.name;return Object(X.d)(cc,{breakpoint:this.breakpoint,hasTitleBox:e},Object(X.d)(q.a,{testId:"media-card-file-type-icon",mediaType:r,mimeType:a,name:i}),t)}},{key:"renderActionsBar",value:function(){var e=this.props,t=e.disableOverlay,n=e.actions,r=e.metadata,a=r&&n?$i(n,r):[];return t||!n||0===n.length?null:Object(X.d)(tc,{actions:a})}}]),n}(j.a.Component);O()(Sc,"defaultProps",{appearance:"auto"});var Ic=Object(R.a)({onClick:ga({eventType:"ui",action:"clicked",actionSubject:"mediaCard",attributes:{}})})(Sc),Ec=function(){if("undefined"!==typeof window&&"undefined"!==typeof window.document)return window.document};function Bc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fc(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dc=function(e){var t=e.onVisible,n=e.cardEl,r=e.children;return Object(k.useEffect)((function(){var e=new IntersectionObserver(function(e){return function(t,n){var r,a=Bc(t);try{for(a.s();!(r=a.n()).done;)if(r.value.isIntersecting){e(),n.disconnect();break}}catch(i){a.e(i)}finally{a.f()}}}(t),{root:Ec(),rootMargin:"".concat(900,"px")});return n&&e.observe(n),function(){e.disconnect()}}),[n,t]),j.a.createElement(j.a.Fragment,null,r)},Mc=function(e){var t=e.cardEl,n=e.onVisible,r=e.children;return"undefined"===typeof IntersectionObserver?j.a.createElement(j.a.Fragment,null,r):j.a.createElement(Dc,{cardEl:t,onVisible:n},r)};var Tc=function(e){return"px"===e.substr(-2)&&!isNaN(+e.slice(0,-2))},Ac=function(e,t){var n=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?2:1,r=t.dimensions&&t.dimensions[e]||"";return Object(Xi.a)(r)&&t.element?Object(Ki.a)(t.element,e)*n:"number"===typeof r?r*n:Tc("".concat(r))?parseInt("".concat(r),10)*n:Gi.a[e]*n},zc=n(2073),Lc=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},Nc=function(e){return"application/pdf"===e.toLowerCase()},Uc=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},_c=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},Vc=function(e){return Nc(e)||Lc(e)||Uc(e)||_c(e)},Wc=n(141),Hc=n.n(Wc),Gc=n(851),Xc=n(530);function qc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var Kc=function(e){v()(n,e);var t=qc(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).eventEmitter=new Xc.EventEmitter2,r}return l()(n,[{key:"shift",value:function(){var e=Hc()(g()(n.prototype),"shift",this).call(this);return this.eventEmitter.emit("shift",e),e}},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}}]),n}(Gc.LRUCache),Yc=function(){function e(t){s()(this,e),this.cache=new Kc(t),this.cache.on("shift",(function(e){e&&e.value.dataURI&&URL.revokeObjectURL(e.value.dataURI)}))}return l()(e,[{key:"has",value:function(e){return!!this.cache.find(e)}},{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"remove",value:function(e){var t=this.cache.remove(e);t&&URL.revokeObjectURL(t.dataURI)}}]),e}(),Jc=function(e,t){return[e,t||"crop"].join("-")},$c=new(l()((function e(t){var n=this;s()(this,e),O()(this,"get",(function(e,t){var r=Jc(e,t);return n.previewCache.get(r)})),O()(this,"set",(function(e,t,r){var a=Jc(e,t);n.previewCache.set(a,r)})),O()(this,"remove",(function(e,t){var r=Jc(e,t);n.previewCache.remove(r)})),this.previewCache=t})))(new Yc(50)),Zc=n(878),Qc=function(){var e=o()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Zc.a(t),e.next=3,n.takeSnapshot();case 3:return r=e.sent,n.end(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),es=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},ts=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},ns=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},rs=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},as=n(2435),is=function(){var e=o()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(as.b)(t);case 3:return n=e.sent,r=URL.createObjectURL(t),e.abrupt("return",{dataURI:r,orientation:n,source:"local"});case 8:throw e.prev=8,e.t0=e.catch(0),new $r("local-preview-image",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),os=function(){var e=o()(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qc(t);case 3:return n=e.sent,e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 7:throw e.prev=7,e.t0=e.catch(0),new $r("local-preview-video",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),cs=function(){var e=o()(w.a.mark((function e(t){var n,r,a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:r=e.sent,n=r.value,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new $r("local-preview-rejected",e.t0);case 10:if("string"!==typeof n){e.next=14;break}return e.abrupt("return",{dataURI:n,orientation:1,source:"local"});case 14:if(!(n instanceof Blob)){e.next=22;break}a=n.type,i=function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(o=a)?"archive":Lc(o)||es(o)?"image":Nc(o)||ts(o)?"doc":Uc(o)||ns(o)?"audio":_c(o)||rs(o)?"video":"unknown",e.t1=i,e.next="image"===e.t1?20:"video"===e.t1?21:22;break;case 20:return e.abrupt("return",is(n));case 21:return e.abrupt("return",os(n));case 22:throw new $r("local-preview-unsupported");case 23:case"end":return e.stop()}var o}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ss=function(){var e=o()(w.a.mark((function e(t,n,r){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getImage(n,r);case 3:return a=e.sent,e.abrupt("return",{dataURI:URL.createObjectURL(a),orientation:1,source:"remote"});case 7:throw e.prev=7,e.t0=e.catch(0),new Zr("remote-preview-fetch",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ds=function(e){return"number"===typeof e||Tc("".concat(e))},ls=function(e,t){if(!e||!t)return!1;var n=ds(e)&&ds(t),r=Object(Xi.a)(e)&&Object(Xi.a)(t);return n||r},us=function(e,t){if(e&&t&&ls(e.width,t.width)&&ls(e.height,t.height)){var n=parseInt("".concat(e.width),10)<parseInt("".concat(t.width),10),r=parseInt("".concat(e.height),10)<parseInt("".concat(t.height),10);return n||r}return!1},ps=n(232),fs=function(e,t,n){var r="size"in e&&!!e.size,a=("mediaType"in e&&e||{}).mediaType,i=("mimeType"in e&&e||{}).mimeType,o=!!a&&Object(ps.c)(a,n),c=!t&&Object(N.d)(e)&&function(e){return"image"===e||"video"===e}(a)&&!!i&&Vc(i),s=Object(N.c)(e);return{hasFilesize:r,isPreviewable:o,hasPreview:c||s,isSupportedByBrowser:!!i&&Vc(i)}},vs=function(e,t,n){var r=function(t){return ma(t,e)};switch(t){case"cache-hit":r(function(e){return{eventType:"operational",action:"cache-hit",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}}(n));break;case"remote-success":r(function(e){return{eventType:"operational",action:"Remote-success",actionSubject:"mediaCardCache",attributes:{cardPreviewAttributes:e}}}(n))}},bs=function(e,t){if(e){var n=parseInt("".concat(null===e||void 0===e?void 0:e.width),10),r=parseInt("".concat(null===t||void 0===t?void 0:t.width),10),a=parseInt("".concat(null===e||void 0===e?void 0:e.height),10),i=parseInt("".concat(null===t||void 0===t?void 0:t.height),10);return{width:((r-n)/n*100).toFixed(2),height:((i-a)/a*100).toFixed(2)}}};function hs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gs=$c.get,ys=$c.remove,Os=function(e){return"mimeType"in e&&Vc(e.mimeType)&&Object(N.d)(e)?e.preview:void 0},xs=function(e,t,n,r){var a;switch(n.source){case"local":a="cache-local";break;case"remote":a="cache-remote";break;case"ssr-server":a="cache-ssr-server";break;case"ssr-client":a="cache-ssr-client";break;default:a=n.source}var i=r?Object(zc.a)(n.dataURI,r):n.dataURI;return $c.set(e,t,ms(ms({},n),{},{source:a,dataURI:i})),ms(ms({},n),{},{dataURI:i})},ws=function(){var e=o()(w.a.mark((function e(t){var n,r,a,i,o,c,s,d,l,u,p,f,v,b,h,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.mediaClient,r=t.id,a=t.dimensions,i=void 0===a?{}:a,o=t.filePreview,c=t.onLocalPreviewError,s=t.isRemotePreviewReady,d=t.imageUrlParams,l=t.mediaBlobUrlAttrs,u=t.createAnalyticsEvent,p=t.featureFlags,f=d.mode,v=$c.get(r,f),b=us(null===v||void 0===v?void 0:v.dimensions,i),!v||b){e.next=7;break}return Object(F.c)("memoryCacheLogging",p)&&u&&vs(u,"cache-hit",{fileId:r,prevDimensions:v.dimensions,currentDimensions:i,source:v.source}),e.abrupt("return",v);case 7:if(e.prev=7,!o){e.next=13;break}return e.next=11,cs(o);case 11:return h=e.sent,e.abrupt("return",xs(r,f,ms(ms({},h),{},{dimensions:i}),l));case 13:e.next=20;break;case 15:if(e.prev=15,e.t0=e.catch(7),(!na(e.t0)||na(e.t0)&&!s)&&c&&c(e.t0),s){e.next=20;break}throw e.t0;case 20:if(s){e.next=22;break}throw new Jr("remote-preview-not-ready");case 22:return e.next=24,Ps(n,r,i,d,l);case 24:return m=e.sent,Object(F.c)("memoryCacheLogging",p)&&u&&vs(u,"remote-success",{fileId:r,prevDimensions:null===v||void 0===v?void 0:v.dimensions,currentDimensions:i,dimensionsPercentageDiff:bs(null===v||void 0===v?void 0:v.dimensions,i),source:m.source}),e.abrupt("return",m);case 27:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),ks=function(e){return["ssr-server","cache-ssr-server"].includes(e.source)},js=function(e){return["ssr-client","cache-ssr-client"].includes(e.source)},Cs=function(e){return"ssr-data"===e.source},Ps=function(){var e=o()(w.a.mark((function e(t,n,r,a,i){var o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss(t,n,a);case 2:return o=e.sent,e.abrupt("return",xs(n,a.mode,ms(ms({},o),{},{dimensions:r}),i));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Rs=function(e){switch(e){case"processed":return"succeeded";case"processing":return"running";case"failed-processing":return"failed"}},Ss=function(e,t){return Object(U.c)(e)?t&&!Object(N.a)(t)?{id:(n=t).id,name:n.name,size:n.size,mimeType:n.mimeType,createdAt:n.createdAt,mediaType:n.mediaType,processingStatus:Rs(n.status)}:{id:e.id}:{id:e.mediaItemType,name:e.name||e.dataURI,mediaType:"image"};var n},Is=Object(k.lazy)(o()(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(6),n.e(10),n.e(30),n.e(75)]).then(n.bind(null,3319));case 2:return t=e.sent,r=t.InlinePlayer,e.abrupt("return",{default:r});case 5:case"end":return e.stop()}}),e)})))),Es=n(59),Bs=n.n(Es),Fs=function(e){return e.map((function(e){return"string"===typeof(t=e)?"'".concat(t,"'"):"object"===Bs()(t)?JSON.stringify(t):void 0===t?"undefined":t;var t})).join(",")};function Ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t="__MEDIA_INTERNAL";return e[t]||(e[t]={}),e[t]}function Ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=Ds(e),n="mediaCardSsr";return t[n]||(t[n]={}),t[n]}var Ts=function(e){return e?"-".concat(e):""},As=function(e){var t=e.id,n=e.collectionName,r=e.occurrenceKey;return"".concat(t).concat(Ts(n)).concat(Ts(r))},zs=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,i=Ms(a);i[e]={dataURI:t,dimensions:n,error:r}},Ls=function(e,t,n,r){var a,i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"(".concat(e.toString(),")(").concat(Fs(n),");")}(zs,As(e),t,n,r);return a=[Ms.toString(),Ds.toString(),i],"(function(){\n  ".concat(a.join(";"),"\n})();\n")},Ns=function(e){var t=e.dataURI,n=e.identifier,r=e.dimensions,a=e.error;return j.a.createElement("script",{dangerouslySetInnerHTML:{__html:Ls(n,t,r,a)}})};function Us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Us(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vs;!function(e){e.Action="pointer",e.NotReady="wait"}(Vs||(Vs={}));var Ws=function(e,t,n,r,a){if(!n&&(e||t))return!a&&(e||e&&t)?Vs.NotReady:"video"===a&&r&&e||t?Vs.Action:void 0},Hs=n(222),Gs=n(528),Xs=n(532);function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ys,Js="@atlaskit/media-card",$s="74.1.3",Zs=function(e){if(!Ys){var t={platform:{component:"media-card"},type:Hs.b.Experience,performanceType:Hs.a.InlineResult,featureFlags:sa};Ys=new Gs.a("media-card-render",t)}return Ys.getInstance(e)},Qs=function(e,t){Zs(e).success({metadata:Ks(Ks({},t),{},{packageName:Js,packageVersion:$s,mediaEnvironment:Object(Xs.b)(),mediaRegion:Object(Xs.c)()})})},ed=function(e,t){Zs(e).failure({metadata:Ks(Ks({},t),{},{packageName:Js,packageVersion:$s,mediaEnvironment:Object(Xs.b)(),mediaRegion:Object(Xs.c)()})})};function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}var ad=function(e){v()(n,e);var t=rd(n);function n(e){var r;s()(this,n),r=t.call(this,e),O()(p()(r),"internalOccurrenceKey",(performance.now().toString(36)+Math.random().toString(36)).replace(/\./g,"")),O()(p()(r),"hasBeenMounted",!1),O()(p()(r),"fileStateFlags",{wasStatusUploading:!1,wasStatusProcessing:!1}),O()(p()(r),"ssrReliability",{server:{status:"unknown"},client:{status:"unknown"}}),O()(p()(r),"timeElapsedTillCommenced",performance.now()),O()(p()(r),"getImageURLParams",(function(e){return nd(nd({collection:e.collectionName,mode:Object(L.a)(r.props.resizeMode)},r.requestedDimensions),{},{allowAnimated:!0})})),O()(p()(r),"getMediaBlobUrlAttrs",(function(e,t){var n=e.id,a=e.collectionName,i=r.props,o=i.originalDimensions,c=i.contextId,s=i.alt,d=Ss(e,t),l=d.mimeType,u=d.name,p=d.size;return c?nd(nd({id:n,collection:a,contextId:c,mimeType:l,name:u,size:p},o||r.requestedDimensions),{},{alt:s}):void 0})),O()(p()(r),"getCardPreviewParams",(function(e,t){var n=r.state.isBannedLocalPreview,a=e.id,i=r.props,o=i.dimensions,c=void 0===o?{}:o,s=i.mediaClient,d=i.createAnalyticsEvent;return{mediaClient:s,id:a,dimensions:c,onLocalPreviewError:r.fireLocalPreviewErrorEvent,filePreview:n?void 0:Os(t),isRemotePreviewReady:Object(N.c)(t),imageUrlParams:r.getImageURLParams(e),mediaBlobUrlAttrs:r.getMediaBlobUrlAttrs(e,t),createAnalyticsEvent:d,featureFlags:r.props.featureFlags}})),O()(p()(r),"setCacheSSRPreview",(function(e){var t=r.props,n=t.mediaClient,a=t.dimensions,i=void 0===a?{}:a;Ps(n,e.id,i,r.getImageURLParams(e),r.getMediaBlobUrlAttrs(e)).catch((function(){}))})),O()(p()(r),"refetchSSRPreview",function(){var e=o()(w.a.mark((function e(t){var n,a,i,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,a=n.mediaClient,i=n.dimensions,o=void 0===i?{}:i,e.prev=1,e.next=4,Ps(a,t.id,o,r.getImageURLParams(t),r.getMediaBlobUrlAttrs(t));case 4:c=e.sent,r.safeSetState({cardPreview:c}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),O()(p()(r),"resolvePreview",function(){var e=o()(w.a.mark((function e(t,n){var a,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=r.getCardPreviewParams(t,n),e.next=4,ws(a);case 4:i=e.sent,r.safeSetState({cardPreview:i}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),c="preview-fetch",s=e.t0,o=ta(s)?s:new Jr(c,s),o instanceof $r?r.safeSetState({isBannedLocalPreview:!0}):r.safeSetState({status:"error",error:o});case 12:case"end":return e.stop()}var c,s}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),O()(p()(r),"getPerformanceAttributes",(function(){var e=p()(r).timeElapsedTillCommenced,t=performance.now();return{overall:{durationSincePageStart:t,durationSinceCommenced:e&&t-e}}})),O()(p()(r),"logSSRImageError",(function(e){if(e){var t=nd({status:"fail"},va(new ea(e.source)));js(e)&&(r.ssrReliability.client=t),Cs(e)&&(r.ssrReliability.server=t,r.ssrReliability.client=t)}})),O()(p()(r),"onImageError",(function(e){r.logSSRImageError(e);var t=r.state.cardPreview;if((null===e||void 0===e?void 0:e.dataURI)===(null===t||void 0===t?void 0:t.dataURI)){var n=new ea(null===e||void 0===e?void 0:e.source),a=e&&["local","cache-local"].includes(e.source),i=e&&(js(e)||Cs(e));if(a||i){var o={cardPreview:void 0};a&&(o.isBannedLocalPreview=!0,r.fireLocalPreviewErrorEvent(n));var c=r.props,s=c.identifier,d=c.resizeMode,l=Object(L.a)(d);Object(U.c)(s)&&ys(s.id,l),r.safeSetState(o)}else r.safeSetState({status:"error",error:n})}})),O()(p()(r),"onImageLoad",(function(e){e&&(js(e)&&"unknown"===r.ssrReliability.client.status&&(r.ssrReliability.client={status:"success"}),Cs(e)&&"unknown"===r.ssrReliability.server.status&&(r.ssrReliability.server={status:"success"},r.ssrReliability.client={status:"success"}));var t=r.state.cardPreview;(null===e||void 0===e?void 0:e.dataURI)===(null===t||void 0===t?void 0:t.dataURI)&&r.safeSetState({previewDidRender:!0})})),O()(p()(r),"fireCopiedEvent",(function(){var e=r.props.createAnalyticsEvent,t=r.state.cardRef;t&&e&&function(e,t,n){if("function"===typeof window.getSelection){var r,a=window.getSelection();null!==a&&void 0!==a&&null!==(r=a.containsNode)&&void 0!==r&&r.call(a,n,!0)&&ma(function(e){return{eventType:"ui",action:"copied",actionSubject:"file",actionSubjectId:e,attributes:{}}}(t),e)}}(e,r.metadata.id,t)})),O()(p()(r),"fireScreenEvent",(function(){var e=r.props.createAnalyticsEvent;e&&function(e,t){ma(function(e){return{eventType:"screen",action:"viewed",actionSubject:"mediaCardRenderScreen",name:"mediaCardRenderScreen",attributes:{type:e.fileMediatype,fileAttributes:e}}}(t),e)}(e,r.fileAttributes)})),O()(p()(r),"fireLocalPreviewErrorEvent",(function(e){})),O()(p()(r),"safeSetState",(function(e){if(r.hasBeenMounted){var t=e.status?(n=e,function(e){return t=e.status,["complete","error","failed-processing"].includes(t)&&"complete"!==n.status?e:_s(_s({},e),n);var t}):e;r.setState(t)}var n})),O()(p()(r),"unsubscribe",(function(){r.subscription&&r.subscription.unsubscribe(),r.hasBeenMounted&&r.setState({isBannedLocalPreview:!1})})),O()(p()(r),"onCardViewClick",(function(e,t){var n=r.props,a=n.identifier,i=n.useInlinePlayer,o=n.shouldOpenMediaViewer,c=r.state.cardPreview,s=p()(r).metadata;if(r.onClick(e,t),s){var d=s&&"video"===s.mediaType;if(i&&d&&c)r.setState({isPlayingFile:!0,shouldAutoplay:!0});else if(o){var l;l=Object(U.c)(a)?{id:a.id,mediaItemType:"file",collectionName:a.collectionName,occurrenceKey:a.occurrenceKey}:{mediaItemType:"external-image",dataURI:a.dataURI,name:a.name},r.setState({mediaViewerSelectedItem:l})}}})),O()(p()(r),"onInlinePlayerError",(function(){r.setState({isPlayingFile:!1})})),O()(p()(r),"setRef",(function(e){e&&r.setState({cardRef:e})})),O()(p()(r),"renderInlinePlayer",(function(){var e=r.props,t=e.identifier,n=e.mediaClient,a=e.dimensions,i=e.selected,o=e.testId,c=e.originalDimensions,s=e.onFullscreenChange,d=r.state,l=d.shouldAutoplay,u=d.cardPreview,p=r.renderCard(!1,"loading",!1);return j.a.createElement(k.Suspense,{fallback:p},j.a.createElement(Is,{mediaClient:n,dimensions:a,originalDimensions:c,identifier:t,autoplay:!!l,onFullscreenChange:s,onError:r.onInlinePlayerError,onClick:r.onClick,selected:i,ref:r.setRef,testId:o,cardPreview:u}))})),O()(p()(r),"onMediaViewerClose",(function(){r.setState({mediaViewerSelectedItem:void 0})})),O()(p()(r),"onDisplayImage",(function(){var e,t=r.props.identifier;e=Object(U.c)(t)?{fileId:t.id,isUserCollection:t.collectionName===_.f}:{fileId:t.dataURI,isUserCollection:!1},V.a.emit("media-viewed",nd({viewingLevel:"minimal"},e))})),O()(p()(r),"renderMediaViewer",(function(){var e=r.state.mediaViewerSelectedItem,t=r.props,n=t.mediaClient,a=t.identifier,i=t.mediaViewerDataSource,o=t.contextId,c=t.featureFlags;if(e){var s=Object(U.c)(a)&&a.collectionName||"",d=i||{list:[]};return P.a.createPortal(j.a.createElement(W.a,{collectionName:s,dataSource:d,mediaClientConfig:n.config,selectedItem:e,onClose:r.onMediaViewerClose,contextId:o,featureFlags:c}),document.body)}})),O()(p()(r),"renderCard",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=r.props,i=a.identifier,o=a.isLazy,c=a.appearance,s=a.resizeMode,d=a.dimensions,l=a.selectable,u=a.selected,f=a.disableOverlay,v=a.alt,b=a.testId,h=a.featureFlags,m=a.titleBoxBgColor,g=a.titleBoxIcon,y=a.ssr,O=a.useInlinePlayer,x=a.shouldOpenMediaViewer,w=i.mediaItemType,k=r.state,C=k.status,P=k.progress,R=k.cardPreview,S=k.error,I=k.cardRef,E=k.isCardVisible,B=p()(r),F=B.metadata,D=p()(r),M=D.onCardViewClick,T=D.onDisplayImage,A=D.actions,z=D.onMouseEnter,L=void 0===n?o:n,N=L&&!E,U=!!y,_=Ws(!!O,!!x,"error"===C||"failed-processing"===C,!!r.state.cardPreview,F.mediaType),V=j.a.createElement(Ic,{status:t||C,error:S,mediaItemType:w,metadata:F,cardPreview:R,alt:v,appearance:c,resizeMode:s,dimensions:d,actions:A,selectable:l,selected:u,onClick:e?M:void 0,onMouseEnter:e?z:void 0,disableOverlay:f,progress:P,onDisplayImage:e?T:void 0,innerRef:r.setRef,testId:b,featureFlags:h,titleBoxBgColor:m,titleBoxIcon:g,onImageError:e?r.onImageError:void 0,onImageLoad:e?r.onImageLoad:void 0,nativeLazyLoad:N,forceSyncDisplay:U,mediaCardCursor:_});return L?j.a.createElement(Mc,{cardEl:I,onVisible:r.onCardInViewport},V):V})),O()(p()(r),"storeSSRData",(function(){var e,t=r.props,n=t.ssr,a=t.identifier,i=r.state.cardPreview,o=(i=void 0===i?{}:i).dataURI;return Object(U.c)(a)&&"server"===n&&j.a.createElement(Ns,{identifier:a,dataURI:o,dimensions:r.requestedDimensions,error:"fail"===(null===(e=r.ssrReliability.server)||void 0===e?void 0:e.status)?r.ssrReliability.server:void 0})})),O()(p()(r),"onCardInViewport",(function(){r.setState({isCardVisible:!0})})),O()(p()(r),"onClick",(function(e,t){var n=r.props.onClick,a=p()(r).metadata;n&&n({event:e,mediaItemDetails:a},t)})),O()(p()(r),"onMouseEnter",(function(e){var t=r.props.onMouseEnter,n=p()(r).metadata;t&&t({event:e,mediaItemDetails:n})}));var a,i="loading",c=r.props,d=c.identifier,l=c.resizeMode,u=c.ssr,f=c.mediaClient;if(Object(U.c)(d)){var v,b,h=d.id,m=Object(L.a)(l);if(!(a=gs(h,m))&&u)if(r.ssrData=function(e){var t=Ms();if(t)return t[As(e)]}(d),null!==(v=r.ssrData)&&void 0!==v&&v.error&&(r.ssrReliability.server=nd({status:"fail"},r.ssrData.error)),null!==(b=r.ssrData)&&void 0!==b&&b.dataURI)a={dataURI:r.ssrData.dataURI,source:"ssr-data"};else try{a=function(e,t,n,r,a){try{var i=t.getImageUrlSync(n,r);return{dataURI:a?Object(zc.a)(i,a):i,source:"client"===e?"ssr-client":"ssr-server",orientation:1}}catch(o){throw new Qr("server"===e?"ssr-server-uri":"ssr-client-uri",o)}}(u,f,d.id,r.getImageURLParams(d),r.getMediaBlobUrlAttrs(d))}catch(x){r.ssrReliability[u]=nd({status:"fail"},va(x))}}else if(Object(U.b)(d)){r.fireCommencedEvent(),i="loading-preview",a={dataURI:d.dataURI,orientation:1,source:"external"}}var g,y=!r.props.isLazy||!!a&&!(js(g=a)||ks(g));return r.state={status:i,isCardVisible:y,isPlayingFile:!1,shouldAutoplay:!1,cardPreview:a,cardRef:null,isBannedLocalPreview:!1,previewDidRender:!1,error:undefined},r}return l()(n,[{key:"componentDidMount",value:function(){var e;this.hasBeenMounted=!0;var t,n=this.state,r=n.isCardVisible,a=n.cardPreview,i=this.props,o=i.identifier,c=i.ssr,s=i.dimensions;(r&&Object(U.c)(o)&&this.updateStateForIdentifier(o),r&&c&&a&&Object(U.c)(o))&&(js(a)&&this.setCacheSSRPreview(o),Cs(a)&&us(null===(t=this.ssrData)||void 0===t?void 0:t.dimensions,s)&&this.refetchSSRPreview(o));null===(e=Ec())||void 0===e||e.addEventListener("copy",this.fireCopiedEvent)}},{key:"componentDidUpdate",value:function(e,t){var n=e.mediaClient,r=e.identifier,a=t.isCardVisible,i=this.props,o=i.mediaClient,c=i.identifier,s=i.dimensions,d=i.featureFlags,l=i.useInlinePlayer,u=i.disableOverlay,p=i.resizeMode,f=this.state,v=f.isCardVisible,b=f.cardPreview,h=f.status,m=f.fileState,g=f.isBannedLocalPreview,y=f.previewDidRender,O=f.isPlayingFile,x=Object(U.a)(r,c),w=!a&&v,k=n!==o,j=Object(L.a)(p);if(this.updateFileStateFlag(m),Object(U.b)(c)&&x){this.fireCommencedEvent();var C=c.dataURI;this.setState({status:"loading-preview",cardPreview:{dataURI:C,orientation:1,source:"external"},isCardVisible:!0})}Object(U.c)(c)&&(w||this.subscription&&(k||x))&&this.updateStateForIdentifier(c),this.state.status!==t.status&&(this.fireOperationalEvent(),("complete"===this.state.status||"video"===this.fileAttributes.fileMediatype&&b&&"processing"===this.state.status)&&this.fireScreenEvent()),Object(U.c)(c)&&m&&function(e){var t=e.status,n=e.fileState,r=e.dimensions,a=e.identifier,i=e.fileImageMode,o=e.hasCardPreview,c=e.isBannedLocalPreview,s=e.featureFlags,d=function(e,t){var n=t.isPreviewable,r=t.hasPreview,a=t.isSupportedByBrowser;return r&&n&&("complete"===e||"loading-preview"===e||"uploading"===e||"processing"===e&&a)}(t,fs(n,c,s)),l=$c.get(a.id,i),u=us(null===l||void 0===l?void 0:l.dimensions,r);return d&&(!o||u)}({status:h,fileState:m,dimensions:s,identifier:c,fileImageMode:j,featureFlags:d,hasCardPreview:!!b,isBannedLocalPreview:g})&&this.resolvePreview(c,m),w&&this.props.ssr&&b&&js(b)&&Object(U.c)(c)&&this.setCacheSSRPreview(c),y&&["loading-preview","processing"].includes(h)&&(this.safeSetState({status:"complete"}),this.unsubscribe());var P="video"===this.fileAttributes.fileMediatype,R=m&&Object(N.e)(m);P&&!O&&u&&l&&R&&Object(F.c)("timestampOnVideo",this.props.featureFlags)&&this.setState({isPlayingFile:!0})}},{key:"componentWillUnmount",value:function(){var e;this.hasBeenMounted=!1,this.unsubscribe(),null===(e=Ec())||void 0===e||e.removeEventListener("copy",this.fireCopiedEvent)}},{key:"updateStateForIdentifier",value:function(e){this.fireCommencedEvent(),this.subscribeInternalFile(e)}},{key:"updateFileStateFlag",value:function(e){if(e){var t=e.status;"processing"===t?this.fileStateFlags.wasStatusProcessing=!0:"uploading"===t&&(this.fileStateFlags.wasStatusUploading=!0)}}},{key:"subscribeInternalFile",value:function(e){var t=this,n=this.props.mediaClient,r=this.state.isBannedLocalPreview,a=e.id,i=e.collectionName,o=e.occurrenceKey;this.unsubscribe(),this.subscription=n.file.getFileState(a,{collectionName:i,occurrenceKey:o}).subscribe({next:function(e){var n=t.props.featureFlags,a=function(e,t,n){var r=function(e,t){var n=t.hasFilesize,r=t.isPreviewable,a=t.hasPreview;switch(e){case"uploading":case"failed-processing":case"error":return e;case"processing":return n?r?"processing":"complete":"processing";case"processed":return r&&a?"loading-preview":"complete";default:return"loading"}}(e.status,fs(e,t,n)),a="error"===r&&Object(N.a)(e)?new Jr("error-file-state",new Error(e.message)):void 0;return{fileState:e,status:r,progress:"uploading"===r&&"uploading"===e.status?e.progress:1,error:a}}(e,r,n);t.safeSetState(a)},error:function(e){var n="uploading"===t.state.status?"upload":"metadata-fetch",r=new Jr(n,e);t.safeSetState({error:r,status:"error"})}})}},{key:"requestedDimensions",get:function(){var e,t=this.props.dimensions,n=(this.state||{}).cardRef;return{width:Ac("width",e={dimensions:t,element:n}),height:Ac("height",e)}}},{key:"metadata",get:function(){var e;return Ss(this.props.identifier,null===(e=this.state)||void 0===e?void 0:e.fileState)}},{key:"fileAttributes",get:function(){var e,t,n,r;return n=this.metadata,r=null===(e=this.state)||void 0===e||null===(t=e.fileState)||void 0===t?void 0:t.status,{fileMediatype:n.mediaType,fileMimetype:n.mimeType,fileId:n.id,fileSize:n.size,fileStatus:r}}},{key:"fireOperationalEvent",value:function(){var e=this.state,t=e.status,n=e.error,r=this.props.createAnalyticsEvent;r&&function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Jr("missing-error-data"),o=function(t){return ma(t,e)};switch(t){case"complete":o(da(n,r,a));break;case"failed-processing":o(ha(n,r,a));break;case"error":o(ba(n,r,i,a))}}(r,t,this.fileAttributes,this.getPerformanceAttributes(),this.ssrReliability,n),function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Jr("missing-error-data");switch(t){case"complete":Qs(e,{fileAttributes:n,ssrReliability:a,fileStateFlags:r});break;case"failed-processing":ed(e,{fileAttributes:n,failReason:"failed-processing",ssrReliability:a,fileStateFlags:r});break;case"error":ed(e,Ks(Ks({fileAttributes:n},va(i)),{},{request:fa(i),ssrReliability:a,fileStateFlags:r}))}}(this.internalOccurrenceKey,t,this.fileAttributes,this.fileStateFlags,this.ssrReliability,n)}},{key:"fireCommencedEvent",value:function(){this.timeElapsedTillCommenced=performance.now();var e,t=this.props.createAnalyticsEvent;t&&function(e,t,n){ma(function(e,t){return{eventType:"operational",action:"commenced",actionSubject:"mediaCardRender",attributes:{fileAttributes:e,performanceAttributes:t}}}(t,n),e)}(t,this.fileAttributes,{overall:{durationSincePageStart:this.timeElapsedTillCommenced}}),e=this.internalOccurrenceKey,Zs(e).start()}},{key:"actions",get:function(){var e=this,t=this.props,n=t.actions,r=void 0===n?[]:n,i=t.identifier,o=t.shouldEnableDownloadButton,c=this.state.status,s=this.metadata;return Object(U.c)(i)&&("failed-processing"===c||o)?[{label:"Download",icon:j.a.createElement(z.a,{label:"Download"}),handler:function(){return e.props.mediaClient.file.downloadBinary(i.id,s.name,i.collectionName)}}].concat(a()(r)):r}},{key:"render",value:function(){var e=this.state,t=e.isPlayingFile,n=e.mediaViewerSelectedItem,r=j.a.createElement(j.a.Fragment,null,t?this.renderInlinePlayer():this.renderCard(),n?this.renderMediaViewer():null,this.storeSSRData());return this.props.intl?r:j.a.createElement(H.b,{locale:"en"},r)}}]),n}(k.Component);O()(ad,"defaultProps",{appearance:"auto",resizeMode:"crop",isLazy:!0,disableOverlay:!1,featureFlags:{}});var id=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=Object(k.forwardRef)((function(r,a){var i=r.featureFlags,o=t.filterFeatureFlags,c=Object(k.useMemo)((function(){var t={featureFlags:o&&i?T(o,i):i};return M(M({},e),{},O()({},B.a,M({},t)))}),[o,i]);return j.a.createElement(E.a,{data:c},j.a.createElement(n,I()({},r,{ref:a})))}));return r.displayName="WithMediaAnalyticsContext(".concat(n.displayName||n.name,")"),r}}({packageVersion:"74.1.3",packageName:"@atlaskit/media-card",componentName:"mediaCard",component:"mediaCard"},{filterFeatureFlags:ca})(Object(R.a)()(Object(G.c)(ad,{enforceContext:!1})))}}]);